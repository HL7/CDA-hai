<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<axsl:stylesheet xmlns:axsl="http://www.w3.org/1999/XSL/Transform" xmlns:sch="http://purl.oclc.org/dsdl/schematron" version="1.0" xmlns:voc="http://www.lantanagroup.com/voc" voc:dummy-for-xmlns="" xmlns:svs="urn:ihe:iti:svs:2008" svs:dummy-for-xmlns="" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:dummy-for-xmlns="" xmlns:sdtc="urn:hl7-org:sdtc" sdtc:dummy-for-xmlns="" xmlns:cda="urn:hl7-org:v3" cda:dummy-for-xmlns="">
<axsl:output indent="yes" standalone="yes" omit-xml-declaration="no" method="xml"/>
<axsl:template mode="schematron-get-full-path" match="*|@*">
<axsl:apply-templates mode="schematron-get-full-path" select="parent::*"/>
<axsl:text>/</axsl:text>
<axsl:if test="count(. | ../@*) = count(../@*)">@</axsl:if>
<axsl:value-of select="name()"/>
<axsl:text>[</axsl:text>
<axsl:value-of select="1+count(preceding-sibling::*[name()=name(current())])"/>
<axsl:text>]</axsl:text>
</axsl:template>
<axsl:template match="/">
<schematron-output phase="errors" schemaVersion="" title="">
<ns prefix="voc" uri="http://www.lantanagroup.com/voc"/>
<ns prefix="svs" uri="urn:ihe:iti:svs:2008"/>
<ns prefix="xsi" uri="http://www.w3.org/2001/XMLSchema-instance"/>
<ns prefix="sdtc" uri="urn:hl7-org:sdtc"/>
<ns prefix="cda" uri="urn:hl7-org:v3"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M7" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M8" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M9" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M10" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M11" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M12" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M13" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M14" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M15" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M16" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M17" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M18" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M19" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M20" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M21" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M22" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M23" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M24" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M25" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M26" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M27" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M28" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M29" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M30" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M31" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M32" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M33" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M34" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M35" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M36" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M37" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M38" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M39" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M40" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M41" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M42" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M43" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M44" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M45" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M46" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M47" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M48" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M49" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M50" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M51" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M52" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M53" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M54" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M55" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M56" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M57" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M58" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M59" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M60" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M61" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M62" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M63" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M64" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M65" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M66" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M67" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M68" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M69" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M70" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M71" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M72" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M73" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M74" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M75" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M76" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M77" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M78" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M79" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M80" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M81" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M82" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M83" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M84" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M85" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M86" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M87" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M88" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M89" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M90" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M91" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M92" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M93" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M94" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M95" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M96" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M97" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M98" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M99" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M100" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M101" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M102" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M103" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M104" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M105" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M106" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M107" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M108" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M109" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M110" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M111" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M112" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M113" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M114" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M115" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M116" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M117" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M118" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M119" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M120" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M121" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M122" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M123" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M124" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M125" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M126" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M127" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M128" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M129" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M130" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M131" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M132" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M133" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M134" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M135" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M136" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M137" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M138" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M139" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M140" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M141" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M142" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M143" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M144" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M145" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M146" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M147" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M148" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M149" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M150" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M151" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M152" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M153" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M154" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M155" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M156" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M157" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M158" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M159" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M160" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M161" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M162" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M163" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M164" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M165" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M166" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M167" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M168" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M169" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M170" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M171" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M172" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M173" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M174" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M175" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M176" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M177" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M178" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M179" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M180" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M181" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M182" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M183" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M184" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M185" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M186" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M187" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M188" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M189" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M190" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M191" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M192" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M193" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M194" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M195" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M196" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M197" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M198" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M199" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M200" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M201" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M202" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M203" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M204" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M205" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M206" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M207" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M208" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M209" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M210" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M211" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M212" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M213" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M214" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M215" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M216" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M217" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M218" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M219" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M220" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M221" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M222" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M223" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M224" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M225" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M226" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M227" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M228" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M229" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M230" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M231" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M232" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M233" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M234" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M235" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M236" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M237" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M238" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M239" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M240" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M241" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M242" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M243" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M244" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M245" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M246" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M247" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M248" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M249" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M250" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M251" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M252" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M253" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M254" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M255" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M256" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M257" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M258" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M259" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M260" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M261" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M262" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M263" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M264" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M265" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M266" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M267" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M268" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M269" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M270" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M271" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M272" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M273" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M274" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M275" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M276" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M277" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M278" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M279" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M280" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M281" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M282" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M283" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M284" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M285" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M286" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M287" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M288" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M289" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M290" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M291" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M292" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M293" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M294" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M295" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M296" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M297" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M298" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M299" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M300" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M301" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M302" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M303" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M304" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M305" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M306" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M307" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M308" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M309" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M310" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M311" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M312" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M313" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M314" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M315" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M316" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M317" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M318" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M319" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M320" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M321" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M322" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M323" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M324" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M325" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M326" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M327" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M328" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M329" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M330" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M331" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M332" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M333" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M334" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M335" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M336" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M337" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M338" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M339" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M340" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M341" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M342" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M343" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M344" select="/"/>
</schematron-output>
</axsl:template>
<axsl:template mode="M7" priority="3999" match="cda:ClinicalDocument">
<fired-rule role="" context="cda:ClinicalDocument" id="r-errors-DOC"/>
<axsl:choose>
<axsl:when test="cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'] or cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27'] or cda:templateId[@root='2.16.840.1.113883.10.20.5.4.28'] or cda:templateId[@root='2.16.840.1.113883.10.20.5.32'] or cda:templateId[@root='2.16.840.1.113883.10.20.5.34'] or cda:templateId[@root='2.16.840.1.113883.10.20.5.35.2'] or cda:templateId[@root='2.16.840.1.113883.10.20.5.33.2'] or cda:templateId[@root='2.16.840.1.113883.10.20.5.47'] or cda:templateId[@root='2.16.840.1.113883.10.20.5.48'] or cda:templateId[@root='2.16.840.1.113883.10.20.5.36' and @extension = '2014-12-01'] or cda:templateId[@root='2.16.840.1.113883.10.20.5.38' and @extension = '2014-12-01'] or cda:templateId[@root='2.16.840.1.113883.10.20.5.43' and @extension = '2014-12-01'] or cda:templateId[@root='2.16.840.1.113883.10.20.5.42' and @extension = '2014-12-01'] or cda:templateId[@root='2.16.840.1.113883.10.20.5.41' and @extension = '2014-12-01'] or cda:templateId[@root='2.16.840.1.113883.10.20.5.40' and @extension = '2014-12-01'] or cda:templateId[@root='2.16.840.1.113883.10.20.5.31' and @extension = '2015-04-01'] or cda:templateId[@root='2.16.840.1.113883.10.20.5.44' and @extension = '2015-04-01'] or cda:templateId[@root='2.16.840.1.113883.10.20.5.46' and @extension = '2015-04-01'] or cda:templateId[@root='2.16.840.1.113883.10.20.5.37' and @extension = '2015-10-01'] or cda:templateId[@root='2.16.840.1.113883.10.20.5.49' and @extension = '2015-10-01'] or cda:templateId[@root='2.16.840.1.113883.10.20.5.45' and @extension = '2015-10-01']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'] or cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27'] or cda:templateId[@root='2.16.840.1.113883.10.20.5.4.28'] or cda:templateId[@root='2.16.840.1.113883.10.20.5.32'] or cda:templateId[@root='2.16.840.1.113883.10.20.5.34'] or cda:templateId[@root='2.16.840.1.113883.10.20.5.35.2'] or cda:templateId[@root='2.16.840.1.113883.10.20.5.33.2'] or cda:templateId[@root='2.16.840.1.113883.10.20.5.47'] or cda:templateId[@root='2.16.840.1.113883.10.20.5.48'] or cda:templateId[@root='2.16.840.1.113883.10.20.5.36' and @extension = '2014-12-01'] or cda:templateId[@root='2.16.840.1.113883.10.20.5.38' and @extension = '2014-12-01'] or cda:templateId[@root='2.16.840.1.113883.10.20.5.43' and @extension = '2014-12-01'] or cda:templateId[@root='2.16.840.1.113883.10.20.5.42' and @extension = '2014-12-01'] or cda:templateId[@root='2.16.840.1.113883.10.20.5.41' and @extension = '2014-12-01'] or cda:templateId[@root='2.16.840.1.113883.10.20.5.40' and @extension = '2014-12-01'] or cda:templateId[@root='2.16.840.1.113883.10.20.5.31' and @extension = '2015-04-01'] or cda:templateId[@root='2.16.840.1.113883.10.20.5.44' and @extension = '2015-04-01'] or cda:templateId[@root='2.16.840.1.113883.10.20.5.46' and @extension = '2015-04-01'] or cda:templateId[@root='2.16.840.1.113883.10.20.5.37' and @extension = '2015-10-01'] or cda:templateId[@root='2.16.840.1.113883.10.20.5.49' and @extension = '2015-10-01'] or cda:templateId[@root='2.16.840.1.113883.10.20.5.45' and @extension = '2015-10-01']" id="a-IG-1202-DOC">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The document must contain at least 1 of the document level templates for this schematron to be applicable.</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M7"/>
</axsl:template>
<axsl:template mode="M7" priority="-1" match="text()"/>
<axsl:template mode="M8" priority="3999" match="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25']]">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.4.25-errors"/>
<axsl:choose>
<axsl:when test="count(cda:realmCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:realmCode)=1" id="a-86-18431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] realmCode (CONF:86-18431).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:realmCode[count(self::node()[@code='US'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:realmCode[count(self::node()[@code='US'])=1]" id="a-86-18432">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This realmCode SHALL contain exactly one [1..1] @code="US" (CONF:86-18432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-18433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-18433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51897-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51897-7']" id="a-86-18434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51897-7" Healthcare Associated Infection Report (CONF:86-18434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-18435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-18435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-86-18436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:86-18436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:confidentialityCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:confidentialityCode)=1" id="a-86-18437-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] confidentialityCode (CONF:86-18437).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:confidentialityCode[count(self::node()[@code='N'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:confidentialityCode[count(self::node()[@code='N'])=1]" id="a-86-18438">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This confidentialityCode SHALL contain exactly one [1..1] @code="N" Normal (CodeSystem: ConfidentialityCode urn:oid:2.16.840.1.113883.5.25 STATIC) (CONF:86-18438).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:languageCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:languageCode)=1" id="a-86-18439">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] languageCode (CONF:86-18439).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:languageCode[@code='en-US']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:languageCode[@code='en-US']" id="a-86-18440">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This languageCode SHALL contain exactly one [1..1] @code="en-US" (CONF:86-18440).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:setId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:setId)=1" id="a-86-18441">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] setId (CONF:86-18441).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:versionNumber)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:versionNumber)=1" id="a-86-18442">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] versionNumber (CONF:86-18442).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:custodian)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:custodian)=1" id="a-86-18443">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] custodian (CONF:86-18443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian[count(cda:assignedCustodian)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian[count(cda:assignedCustodian)=1]" id="a-86-18444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This custodian SHALL contain exactly one [1..1] assignedCustodian (CONF:86-18444).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]" id="a-86-18445">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedCustodian SHALL contain exactly one [1..1] representedCustodianOrganization (CONF:86-18445).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]" id="a-86-18446">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This representedCustodianOrganization SHALL contain exactly one [1..1] id (CONF:86-18446).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']" id="a-86-18447">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root="2.16.840.1.114222.4.3.2.11" (CONF:86-18447).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-86-18448">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:86-18448).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-86-18449">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:86-18449).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-18450-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The structuredBody element SHALL contain a component element for each section required by the particular report type. Additional sections may be present but their content will not be processed by NHSN (CONF:86-18450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1" id="a-86-18460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-18460) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.25" (CONF:86-18461).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:typeId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:typeId)=1" id="a-86-18463">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] typeId (CONF:86-18463).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@root='2.16.840.1.113883.1.3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@root='2.16.840.1.113883.1.3']" id="a-86-18464">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @root="2.16.840.1.113883.1.3" (CONF:86-18464).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@extension='POCD_HD000040']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@extension='POCD_HD000040']" id="a-86-18465">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @extension="POCD_HD000040" (CONF:86-18465).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-18466-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-18466).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']" id="a-86-18470">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] @typeCode="RPLC" replace (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-18470).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-18471-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If versionNumber/@value is greater than 1, a relatedDocument element SHALL be present (CONF:86-18471).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget) &gt; 0" id="a-86-18472-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] recordTarget (CONF:86-18472).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:author) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:author) &gt; 0" id="a-86-18473-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] author (CONF:86-18473).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-86-18475-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain at least one [1..*] component (CONF:86-18475).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem]" id="a-86-27413">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:86-27413).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[count(cda:parentDocument)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[count(cda:parentDocument)=1]" id="a-86-28401">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] parentDocument (CONF:86-28401).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument/cda:parentDocument) or cda:relatedDocument/cda:parentDocument[count(cda:id) &gt; 0]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument/cda:parentDocument) or cda:relatedDocument/cda:parentDocument[count(cda:id) &gt; 0]" id="a-86-28402">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This parentDocument SHALL contain at least one [1..*] id (CONF:86-28402).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-28403-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of id SHALL be populated with the ClinicalDocument/id of the document being replaced (CONF:86-28403).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M8"/>
</axsl:template>
<axsl:template mode="M8" priority="3997" match="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25']]/cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25']">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25']]/cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25']" id="r-urn-oid-2.16.840.1.113883.10.20.5.4.25-18460-branch-18460-errors"/>
<axsl:choose>
<axsl:when test="not(@extension)"/>
<axsl:otherwise>
<failed-assert role="" test="not(@extension)" id="a-86-18462-branch-18460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL NOT contain [0..0] @extension (CONF:86-18462).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M8"/>
</axsl:template>
<axsl:template mode="M8" priority="-1" match="text()"/>
<axsl:template mode="M9" priority="3999" match="cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.112']]">
<fired-rule role="" context="cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.112']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.112-errors"/>
<axsl:choose>
<axsl:when test="@classCode='SBADM'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='SBADM'" id="a-86-19560">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="SBADM" Substance administration (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-19560).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-19561">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-19561).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-86-19562">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:86-19562).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:consumable)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:consumable)=1" id="a-86-19563">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] consumable (CONF:86-19563).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-19572">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-19572).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-19573">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-19573).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-19574">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:86-19574).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:consumable[count(cda:manufacturedProduct)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:consumable[count(cda:manufacturedProduct)=1]" id="a-86-19578">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This consumable SHALL contain exactly one [1..1] manufacturedProduct (CONF:86-19578).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:consumable/cda:manufacturedProduct[count(cda:manufacturedMaterial)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:consumable/cda:manufacturedProduct[count(cda:manufacturedMaterial)=1]" id="a-86-19579">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This manufacturedProduct SHALL contain exactly one [1..1] manufacturedMaterial (CONF:86-19579).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial[count(cda:code)=1]" id="a-86-19580">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This manufacturedMaterial SHALL contain exactly one [1..1] code (CONF:86-19580).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial/cda:code[@code='84451006']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial/cda:code[@code='84451006']" id="a-86-19581">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="84451006" General Anesthesia (CONF:86-19581).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial/cda:code[@codeSystem='2.16.840.1.113883.6.96']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial/cda:code[@codeSystem='2.16.840.1.113883.6.96']" id="a-86-19582">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.96" (CONF:86-19582).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-22720">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22720).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.16'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.16'])=1" id="a-86-28201">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28201) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.16" (CONF:86-28202).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.112'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.112'])=1" id="a-86-19570">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-19570) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.112" (CONF:86-19571).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime[@xsi:type='IVL_TS'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime[@xsi:type='IVL_TS'])=1" id="a-86-28331">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:86-28331).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@xsi:type='IVL_TS'][count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@xsi:type='IVL_TS'][count(cda:low)=1]" id="a-86-28332">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:86-28332).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@xsi:type='IVL_TS'][count(cda:high)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@xsi:type='IVL_TS'][count(cda:high)=1]" id="a-86-28333">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] high (CONF:86-28333).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:consumable/cda:manufacturedProduct[count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.23'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:consumable/cda:manufacturedProduct[count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.23'])=1]" id="a-86-28334">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This manufacturedProduct SHALL contain exactly one [1..1] templateId (CONF:86-28334) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.23" (CONF:86-28337).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@xsi:type='IVL_TS']/cda:low[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@xsi:type='IVL_TS']/cda:low[@nullFlavor='NA']" id="a-86-28335">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This low SHALL contain exactly one [1..1] @nullFlavor="NA" (CodeSystem: HL7NullFlavor urn:oid:2.16.840.1.113883.5.1008) (CONF:86-28335).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@xsi:type='IVL_TS']/cda:high[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@xsi:type='IVL_TS']/cda:high[@nullFlavor='NA']" id="a-86-28336">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This high SHALL contain exactly one [1..1] @nullFlavor="NA" (CodeSystem: HL7NullFlavor urn:oid:2.16.840.1.113883.5.1008) (CONF:86-28336).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:consumable/cda:manufacturedProduct[@classCode='MANU']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:consumable/cda:manufacturedProduct[@classCode='MANU']" id="a-86-28349">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This manufacturedProduct SHALL contain exactly one [1..1] @classCode="MANU" (CodeSystem: RoleClass urn:oid:2.16.840.1.113883.5.110) (CONF:86-28349).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M9"/>
</axsl:template>
<axsl:template mode="M9" priority="-1" match="text()"/>
<axsl:template mode="M10" priority="3999" match="cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.112']]">
<fired-rule role="" context="cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.112']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.112-errors-CL"/>
<axsl:apply-templates mode="M10"/>
</axsl:template>
<axsl:template mode="M10" priority="-1" match="text()"/>
<axsl:template mode="M11" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.113']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.113']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.113-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-86-19583">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-19583).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-19584">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-19584).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd='false'        or /cda:ClinicalDocument/cda:componentOf/cda:encompassingEncounter/cda:code[@code='AMB']"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd='false' or /cda:ClinicalDocument/cda:componentOf/cda:encompassingEncounter/cda:code[@code='AMB']" id="a-86-19585-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd="false" (CONF:86-19585).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-19586">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-19586).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION']" id="a-86-19587">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-19587).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-19588">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-19588).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-19589">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-19589).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD' and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.10']/voc:code/@value or @nullFlavor])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD' and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.10']/voc:code/@value or @nullFlavor])=1" id="a-86-19590">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHALL be selected from ValueSet NHSNASAClassCode urn:oid:2.16.840.1.113883.13.10 STATIC 2008-01-30 (CONF:86-19590).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1" id="a-86-28213">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28213) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:86-28214).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-19596">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-19596).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-22724">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22724).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.113'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.113'])=1" id="a-86-19594">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-19594) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.113" (CONF:86-19595).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']" id="a-86-28370">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28370).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M11"/>
</axsl:template>
<axsl:template mode="M11" priority="-1" match="text()"/>
<axsl:template mode="M12" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.113']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.113']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.113-errors-CL"/>
<axsl:apply-templates mode="M12"/>
</axsl:template>
<axsl:template mode="M12" priority="-1" match="text()"/>
<axsl:template mode="M13" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.114']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.114']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.114-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-86-19597">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-19597).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-19598">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-19598).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd='false'"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd='false'" id="a-86-19599">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd="false" (CONF:86-19599).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-19600">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-19600).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION']" id="a-86-19601">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-19601).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-19602">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-19602).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-19603">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-19603).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-86-19604">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHALL be selected from ValueSet NHSNBloodStreamInfectionEvidenceTypeCode urn:oid:2.16.840.1.113883.13.7 DYNAMIC (CONF:86-19604).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1" id="a-86-28215">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28215) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:86-28216).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-19610">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-19610).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-22725">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22725).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.114'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.114'])=1" id="a-86-19608">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-19608) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.114" (CONF:86-19609).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']" id="a-86-28371">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28371).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M13"/>
</axsl:template>
<axsl:template mode="M13" priority="-1" match="text()"/>
<axsl:template mode="M14" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.114']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.114']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.114-errors-CL"/>
<axsl:apply-templates mode="M14"/>
</axsl:template>
<axsl:template mode="M14" priority="-1" match="text()"/>
<axsl:template mode="M15" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.120']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.120']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.120-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-86-19611">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-19611).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-19612">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-19612).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-86-19613">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:86-19613).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-19614">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-19614).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION']" id="a-86-19615">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-19615).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-19616">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-19616).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-19617">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-19617).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-86-19618">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:86-19618).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@code='419099009']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@code='419099009']" id="a-86-19619">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="419099009" Dead (CONF:86-19619).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.79'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.79'])=1" id="a-86-28223">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28223) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.79" (CONF:86-28224).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-19625">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-19625).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-86-19626">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:86-19626).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[count(cda:low)=1]" id="a-86-19627">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:86-19627).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-22739">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22739).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime/cda:low[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime/cda:low[@nullFlavor='NA']" id="a-86-22740">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This low SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22740).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:entryRelationship) or cda:entryRelationship[@typeCode='CAUS']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:entryRelationship) or cda:entryRelationship[@typeCode='CAUS']" id="a-86-23064">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] @typeCode="CAUS" (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002) (CONF:86-23064).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:entryRelationship) or cda:entryRelationship[@inversionInd='true']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:entryRelationship) or cda:entryRelationship[@inversionInd='true']" id="a-86-23065">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] @inversionInd="true" (CONF:86-23065).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:entryRelationship) or cda:entryRelationship[@negationInd]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:entryRelationship) or cda:entryRelationship[@negationInd]" id="a-86-23066">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] @negationInd (CONF:86-23066).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(testable)"/>
<axsl:otherwise>
<failed-assert role="" test="not(testable)" id="a-86-23067-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the infection contributed to death, set the value of @negationInd to false. If the infection did not contribute to the death, set the value of @negationInd to true (CONF:86-23067).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.136']])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.136']])=1]" id="a-86-23068">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] Infection Contributed to Death Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.136) (CONF:86-23068).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(testable)"/>
<axsl:otherwise>
<failed-assert role="" test="not(testable)" id="a-86-23069-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the patient died, an entryRelationship element SHALL be present and SHALL contain an Infection Contributed to Death Observation (CONF:86-23069).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.120'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.120'])=1" id="a-86-19623">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-19623) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.120" (CONF:86-19624).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.96']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.96']" id="a-86-28353">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.96" (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96) (CONF:86-28353).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']" id="a-86-28374">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28374).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M15"/>
</axsl:template>
<axsl:template mode="M15" priority="-1" match="text()"/>
<axsl:template mode="M16" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.120']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.120']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.120-errors-CL"/>
<axsl:apply-templates mode="M16"/>
</axsl:template>
<axsl:template mode="M16" priority="-1" match="text()"/>
<axsl:template mode="M17" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.121']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.121']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.121-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-86-19628">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-19628).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-19629">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-19629).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-19630">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-19630).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION']" id="a-86-19631">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-19631).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-19632">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-19632).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-19633">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-19633).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-86-19634">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:86-19634).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@code='419099009']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@code='419099009']" id="a-86-19635">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="419099009" Dead (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96 STATIC) (CONF:86-19635).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.79'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.79'])=1" id="a-86-28225">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28225) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.79" (CONF:86-28226).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-19641">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-19641).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-86-19642">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:86-19642).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[count(cda:low)=1]" id="a-86-19643">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:86-19643).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-19646-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If @negationInd is present then @nullFlavor SHALL NOT contain a value (CONF:86-19646).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-19647-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If @nullFlavor is present then @negationInd SHALL NOT contain a value (CONF:86-19647).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-86-19648-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>*SHALL* contain either @nullFlavor or @negationInd, but SHALL NOT contain both (CONF:86-19648).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-22742">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22742).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime/cda:low[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime/cda:low[@nullFlavor='NA']" id="a-86-22743">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This low SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22743).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.121'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.121'])=1" id="a-86-19639">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-19639) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.121" (CONF:86-19640).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M17"/>
</axsl:template>
<axsl:template mode="M17" priority="-1" match="text()"/>
<axsl:template mode="M18" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.121']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.121']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.121-errors-CL"/>
<axsl:apply-templates mode="M18"/>
</axsl:template>
<axsl:template mode="M18" priority="-1" match="text()"/>
<axsl:template mode="M19" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.174']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.174']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.174-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-86-19679">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-19679).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-19680">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-19680).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-19681">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-19681).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='420089007' and @codeSystem='2.16.840.1.113883.6.96']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='420089007' and @codeSystem='2.16.840.1.113883.6.96']" id="a-86-19682">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="420089007" CDC Wound Classification Category (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96 STATIC) (CONF:86-19682).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-19683">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-19683).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-19684">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-19684).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD' and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.9']/voc:code/@value or @nullFlavor])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD' and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.9']/voc:code/@value or @nullFlavor])=1" id="a-86-19685">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHALL be selected from ValueSet NHSNWoundClassCode urn:oid:2.16.840.1.113883.13.9 STATIC 2008-01-30 (CONF:86-19685).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1" id="a-86-28299">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28299) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:86-28300).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-19691">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-19691).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-22717">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22717).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.174'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.174'])=1" id="a-86-19689">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-19689) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.174" (CONF:86-19690).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M19"/>
</axsl:template>
<axsl:template mode="M19" priority="-1" match="text()"/>
<axsl:template mode="M20" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.174']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.174']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.174-errors-CL"/>
<axsl:apply-templates mode="M20"/>
</axsl:template>
<axsl:template mode="M20" priority="-1" match="text()"/>
<axsl:template mode="M21" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.173']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.173']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.173-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-86-19702">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-19702).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-19703">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-19703).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd='false'"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd='false'" id="a-86-19704">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd="false" (CONF:86-19704).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-19705">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-19705).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='27113001' and @codeSystem='2.16.840.1.113883.6.96']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='27113001' and @codeSystem='2.16.840.1.113883.6.96']" id="a-86-19706">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="27113001" Body weight (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96 STATIC) (CONF:86-19706).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-19707">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-19707).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-19708">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-19708).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value/@xsi:type='PQ' and (cda:value/@value &gt;= 0)"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value/@xsi:type='PQ' and (cda:value/@value &gt;= 0)" id="a-86-19709-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="PQ" (CONF:86-19709).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.27'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.27'])=1" id="a-86-28297">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28297) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.27" (CONF:86-28298).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-19897">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-19897).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-86-19898">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:86-19898).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-22718">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22718).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@nullFlavor='NA']" id="a-86-22719">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22719).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.173'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.173'])=1" id="a-86-19712">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-19712) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.173" (CONF:86-19714).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='PQ'][@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='PQ'][@value]" id="a-86-19710">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @value (CONF:86-19710).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='PQ'][@unit]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='PQ'][@unit]" id="a-86-28399">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @unit (CONF:86-28399).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-28400-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of @value SHALL be a non-negative real number representing the body weight in terms of the units specified in @unit (CONF:86-28400).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M21"/>
</axsl:template>
<axsl:template mode="M21" priority="-1" match="text()"/>
<axsl:template mode="M22" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.173']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.173']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.173-errors-CL"/>
<axsl:apply-templates mode="M22"/>
</axsl:template>
<axsl:template mode="M22" priority="-1" match="text()"/>
<axsl:template mode="M23" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.150']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.150']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.150-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-86-19715">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-19715).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-19716">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-19716).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-86-19717">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:86-19717).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-19719">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-19719).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION']" id="a-86-19720">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-19720).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-19721">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-19721).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-19722">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-19722).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:entryRelationship) or cda:entryRelationship[@typeCode='REFR']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:entryRelationship) or cda:entryRelationship[@typeCode='REFR']" id="a-86-19726">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] @typeCode="REFR" (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-19726).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.154']])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.154']])=1]" id="a-86-19727">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] Procedure Details Clinical Statement in an Infection-Type Report (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.154) (CONF:86-19727).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd='true' or (@negationInd='false' and count(cda:entryRelationship)=1)"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd='true' or (@negationInd='false' and count(cda:entryRelationship)=1)" id="a-86-19728-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the value of @negationInd is false this entryRelationship SHALL be present (CONF:86-19728).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1" id="a-86-28265">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28265) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:86-28266).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-86-19784">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:86-19784).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@code='3188-0']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@code='3188-0']" id="a-86-19785">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="3188-0" Infection occurred post-procedure (CONF:86-19785).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']" id="a-86-19786">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:86-19786).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-19882">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-19882).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-22782">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22782).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.150'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.150'])=1" id="a-86-19742">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-19742) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.150" (CONF:86-19743).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']" id="a-86-28397">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28397).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M23"/>
</axsl:template>
<axsl:template mode="M23" priority="-1" match="text()"/>
<axsl:template mode="M24" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.150']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.150']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.150-errors-CL"/>
<axsl:apply-templates mode="M24"/>
</axsl:template>
<axsl:template mode="M24" priority="-1" match="text()"/>
<axsl:template mode="M25" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.131']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.131']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.131-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-86-19729">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-19729).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-19730">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-19730).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd='false'"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd='false'" id="a-86-19731">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd="false" (CONF:86-19731).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-19732">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-19732).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='50373000']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='50373000']" id="a-86-19733">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="50373000" Body height (CONF:86-19733).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-19734">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-19734).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-19735">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-19735).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='PQ'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='PQ'])=1" id="a-86-19736">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="PQ" (CONF:86-19736).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.27'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.27'])=1" id="a-86-28241">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28241) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.27" (CONF:86-28242).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-19748">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-19748).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-86-19749">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:86-19749).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='PQ'][@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='PQ'][@value]" id="a-86-19750">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @value (CONF:86-19750).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value/@value &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value/@value &gt; 0" id="a-86-19751-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of @value SHALL be a non-negative real number representing the body height in terms of the units specified in @unit (CONF:86-19751).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='PQ'][@unit]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='PQ'][@unit]" id="a-86-19752">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @unit (CONF:86-19752).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-22753">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22753).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@nullFlavor='NA']" id="a-86-22754">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22754).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.131'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.131'])=1" id="a-86-19746">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-19746) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.131" (CONF:86-27434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M25"/>
</axsl:template>
<axsl:template mode="M25" priority="-1" match="text()"/>
<axsl:template mode="M26" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.131']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.131']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.131-errors-CL"/>
<axsl:apply-templates mode="M26"/>
</axsl:template>
<axsl:template mode="M26" priority="-1" match="text()"/>
<axsl:template mode="M27" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.137']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.137']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.137-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-86-19769">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-19769).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-19770">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-19770).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd='false'"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd='false'" id="a-86-19771">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd="false" (CONF:86-19771).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-19772">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-19772).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='364589006']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='364589006']" id="a-86-19773">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="364589006" Birth weight (CONF:86-19773).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-19774">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-19774).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-19775">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-19775).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='PQ'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='PQ'])=1" id="a-86-19776">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="PQ" (CONF:86-19776).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.27'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.27'])=1" id="a-86-28247">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28247) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.27" (CONF:86-28248).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-19782">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-19782).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-86-19899">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:86-19899).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-22759">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22759).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@nullFlavor='NA']" id="a-86-22760">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22760).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.137'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.137'])=1" id="a-86-19780">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-19780) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.137" (CONF:86-19781).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M27"/>
</axsl:template>
<axsl:template mode="M27" priority="-1" match="text()"/>
<axsl:template mode="M28" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.137']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.137']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.137-errors-CL"/>
<axsl:apply-templates mode="M28"/>
</axsl:template>
<axsl:template mode="M28" priority="-1" match="text()"/>
<axsl:template mode="M29" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.147']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.147']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.147-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-86-19787">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-19787).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-19788">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-19788).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-19789">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-19789).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION']" id="a-86-19790">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-19790).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-19791">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-19791).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-19792">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-19792).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@codeSystem='2.16.840.1.113883.6.277' or @nullFlavor][@xsi:type='CO'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@codeSystem='2.16.840.1.113883.6.277' or @nullFlavor][@xsi:type='CO'])=1" id="a-86-19793">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CO" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277 STATIC) (CONF:86-19793).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="(cda:value[@xsi:type='CO'][@codeSystem='2.16.840.1.113883.6.277'][@code='1' or @code='2' or @code='3'])"/>
<axsl:otherwise>
<failed-assert role="" test="(cda:value[@xsi:type='CO'][@codeSystem='2.16.840.1.113883.6.277'][@code='1' or @code='2' or @code='3'])" id="a-86-19794-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of value/@codeSystem SHALL be 2.16.840.1.113883.6.277 cdcNHSN, and the value of value/@code SHALL be the number 1 or 2 or 3, where 1 represents the highest-ranked pathogen of up to three pathogens recorded (CONF:86-19794).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1" id="a-86-28263">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28263) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:86-28264).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-19799">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-19799).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-22780">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22780).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.147'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.147'])=1" id="a-86-19797">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-19797) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.147" (CONF:86-19798).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']" id="a-86-28384">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28384).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M29"/>
</axsl:template>
<axsl:template mode="M29" priority="-1" match="text()"/>
<axsl:template mode="M30" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.147']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.147']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.147-errors-CL"/>
<axsl:apply-templates mode="M30"/>
</axsl:template>
<axsl:template mode="M30" priority="-1" match="text()"/>
<axsl:template mode="M31" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.138']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.138']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.138-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-86-19800">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-19800).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-19801">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-19801).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-86-19802">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:86-19802).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-19803">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-19803).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION']" id="a-86-19804">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-19804).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-19805">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-19805).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-19806">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-19806).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD' and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.6']/voc:code/@value or @nullFlavor])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD' and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.6']/voc:code/@value or @nullFlavor])=1" id="a-86-19807">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHALL be selected from ValueSet NHSNInfectionRiskFactorsCode urn:oid:2.16.840.1.113883.13.6 STATIC 2012-08-09 (CONF:86-19807).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:entryRelationship) or cda:entryRelationship[@typeCode='REFR']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:entryRelationship) or cda:entryRelationship[@typeCode='REFR']" id="a-86-19810">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] @typeCode="REFR" (CONF:86-19810).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:entryRelationship) or cda:entryRelationship[@inversionInd='true']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:entryRelationship) or cda:entryRelationship[@inversionInd='true']" id="a-86-19811">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] @inversionInd="true" (CONF:86-19811).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.122']])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.122']])=1]" id="a-86-19812">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] Device Insertion Time and Location Procedure (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.122) (CONF:86-19812).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1" id="a-86-28249">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28249) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:86-28250).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-19817">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-19817).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-22761">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22761).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.138'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.138'])=1" id="a-86-19814">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-19814) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.138" (CONF:86-19816).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']" id="a-86-28381">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28381).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M31"/>
</axsl:template>
<axsl:template mode="M31" priority="-1" match="text()"/>
<axsl:template mode="M32" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.138']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.138']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.138-errors-CL"/>
<axsl:apply-templates mode="M32"/>
</axsl:template>
<axsl:template mode="M32" priority="-1" match="text()"/>
<axsl:template mode="M33" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.160']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.160']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.160-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-86-19840">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-19840).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-19841">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-19841).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-86-19842">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:86-19842).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-19843">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-19843).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION']" id="a-86-19844">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-19844).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-19845">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-19845).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-19846">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-19846).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-86-19847">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:86-19847).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@code='3111-2']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@code='3111-2']" id="a-86-19848">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="3111-2" Secondary bloodstream infection (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277 STATIC) (CONF:86-19848).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1" id="a-86-28275">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28275) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:86-28276).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-23363">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-23363).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-23364">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-23364).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.160'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.160'])=1" id="a-86-19851">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-19851) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.160" (CONF:86-19852).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']" id="a-86-28388">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28388).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M33"/>
</axsl:template>
<axsl:template mode="M33" priority="-1" match="text()"/>
<axsl:template mode="M34" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.160']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.160']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.160-errors-CL"/>
<axsl:apply-templates mode="M34"/>
</axsl:template>
<axsl:template mode="M34" priority="-1" match="text()"/>
<axsl:template mode="M35" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.135']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.135']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.135-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-86-19883">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-19883).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-19884">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-19884).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd='false'"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd='false'" id="a-86-19885">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd="false" (CONF:86-19885).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1" id="a-86-28245">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28245) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:86-28246).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-19890">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-19890).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-19891">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-19891).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION']" id="a-86-19892">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-19892).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-19893">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-19893).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-19894">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-19894).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-86-19895">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHALL be selected from ValueSet NHSNInfectionConditionCode urn:oid:2.16.840.1.114222.4.11.3196 DYNAMIC (CONF:86-19895).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-22758">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22758).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.135'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.135'])=1" id="a-86-19888">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-19888) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.135" (CONF:86-19889).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']" id="a-86-28379">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28379).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M35"/>
</axsl:template>
<axsl:template mode="M35" priority="-1" match="text()"/>
<axsl:template mode="M36" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.135']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.135']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.135-errors-CL"/>
<axsl:apply-templates mode="M36"/>
</axsl:template>
<axsl:template mode="M36" priority="-1" match="text()"/>
<axsl:template mode="M37" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.157']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.157']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.157-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-86-19900">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-19900).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-19901">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-19901).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-86-19902">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:86-19902).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1" id="a-86-28271">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28271) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:86-28272).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-19907">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-19907).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-19908">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-19908).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION']" id="a-86-19909">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-19909).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-19910">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-19910).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-19911">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-19911).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-86-19912">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:86-19912).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@code='2305-1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@code='2305-1']" id="a-86-19913">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="2305-1" Pus, redness, or increased swelling (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277 STATIC) (CONF:86-19913).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="(@negationInd != 'false') or count(cda:participant) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="(@negationInd != 'false') or count(cda:participant) &gt; 0" id="a-86-19914-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the value of @negationInd is 'false', this observation SHALL contain one or more [[]1..[*][]] participant elements representing the access site which displayed this infection indicator (CONF:86-19914).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant) or cda:participant/@typeCode='DEV'"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant) or cda:participant/@typeCode='DEV'" id="a-86-19915-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @typeCode="DEV" Device (CONF:86-19915).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant) or cda:participant[count(cda:participantRole) = 1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant) or cda:participant[count(cda:participantRole) = 1]" id="a-86-19916-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participantRole (CONF:86-19916).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant) or cda:participant/cda:participantRole[count(cda:playingDevice) = 1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant) or cda:participant/cda:participantRole[count(cda:playingDevice) = 1]" id="a-86-19917-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain exactly one [1..1] playingDevice (CONF:86-19917).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant) or cda:participant/cda:participantRole/cda:playingDevice[count(cda:code) = 1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant) or cda:participant/cda:participantRole/cda:playingDevice[count(cda:code) = 1]" id="a-86-19918-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This playingDevice SHALL contain exactly one [1..1] code (CONF:86-19918).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant) or cda:participant/cda:participantRole/cda:playingDevice/cda:code[@nullFlavor and not(@code)] or cda:participant/cda:participantRole/cda:playingDevice/cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.6042']/voc:code/@value]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant) or cda:participant/cda:participantRole/cda:playingDevice/cda:code[@nullFlavor and not(@code)] or cda:participant/cda:participantRole/cda:playingDevice/cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.6042']/voc:code/@value]" id="a-86-19919-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>To record a vascular access site as a code, the value of @code SHALL be selected from ValueSet 2.16.840.1.114222.4.11.6042 NHSNVascularAccessSiteCode STATIC 20120808 (CONF:86-19919).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant) or cda:participant/cda:participantRole/cda:playingDevice/cda:code[@nullFlavor='OTH' or @code]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant) or cda:participant/cda:participantRole/cda:playingDevice/cda:code[@nullFlavor='OTH' or @code]" id="a-86-19920-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>To represent a site of vascular access that is not listed in the NHSNVascularAccessSiteCode value set, set the value of @nullFlavor to OTH (other) (CONF:86-19920).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant) or cda:participant/cda:participantRole[@classCode='MANU']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant) or cda:participant/cda:participantRole[@classCode='MANU']" id="a-86-19921-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain exactly one [1..1] @classCode="MANU" (CONF:86-19921).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-22788">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22788).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.157'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.157'])=1" id="a-86-19905">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-19905) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.157" (CONF:86-19906).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']" id="a-86-28396">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28396).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M37"/>
</axsl:template>
<axsl:template mode="M37" priority="-1" match="text()"/>
<axsl:template mode="M38" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.157']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.157']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.157-errors-CL"/>
<axsl:apply-templates mode="M38"/>
</axsl:template>
<axsl:template mode="M38" priority="-1" match="text()"/>
<axsl:template mode="M39" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.145']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.145']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.145-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-86-20909">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-20909).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-20910">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-20910).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.2'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.2'])=1" id="a-86-28261">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28261) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.2" (CONF:86-28262).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-20915">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-20915).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-20916">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-20916).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='41852-5' and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='41852-5' and @codeSystem='2.16.840.1.113883.6.1']" id="a-86-20917">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="41852-5" Microorganism identified (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1 STATIC) (CONF:86-20917).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-20918">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-20918).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-20919">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-20919).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-86-20920">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHALL be selected from ValueSet NHSNPathogenCode urn:oid:2.16.840.1.113883.13.16 DYNAMIC (CONF:86-20920).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-86-22716">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:86-22716).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-22777">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22777).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@nullFlavor='NA']" id="a-86-22778">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22778).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.145'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.145'])=1" id="a-86-20913">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-20913) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.145" (CONF:86-20914).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M39"/>
</axsl:template>
<axsl:template mode="M39" priority="-1" match="text()"/>
<axsl:template mode="M40" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.145']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.145']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.145-errors-CL"/>
<axsl:apply-templates mode="M40"/>
</axsl:template>
<axsl:template mode="M40" priority="-1" match="text()"/>
<axsl:template mode="M41" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.170']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.170']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.170-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-86-20922">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-20922).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-20923">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-20923).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-86-20924">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:86-20924).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4']) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4']) &gt; 0" id="a-86-28291">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] templateId (CONF:86-28291) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:86-28292).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-20929">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-20929).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-20930">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-20930).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[count(self::node()[@code='ASSERTION'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[count(self::node()[@code='ASSERTION'])=1]" id="a-86-20931">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-20931).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-20932">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-20932).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-20933">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-20933).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-86-20934">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:86-20934).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@code='417746004']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@code='417746004']" id="a-86-20936">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="417746004" Trauma (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96 STATIC) (CONF:86-20936).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-22735">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22735).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.170']) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.170']) &gt; 0" id="a-86-20927">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] templateId (CONF:86-20927) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.170" (CONF:86-20928).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']" id="a-86-28392">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28392).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M41"/>
</axsl:template>
<axsl:template mode="M41" priority="-1" match="text()"/>
<axsl:template mode="M42" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.170']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.170']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.170-errors-CL"/>
<axsl:apply-templates mode="M42"/>
</axsl:template>
<axsl:template mode="M42" priority="-1" match="text()"/>
<axsl:template mode="M43" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.163']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.163']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.163-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-86-20938">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-20938).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-20939">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-20939).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-86-20940">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:86-20940).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1" id="a-86-28277">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28277) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:86-28278).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-20945">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-20945).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-20946">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-20946).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[count(self::node()[@code='ASSERTION'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[count(self::node()[@code='ASSERTION'])=1]" id="a-86-20947">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-20947).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-20948">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-20948).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-20949">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-20949).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-86-20950">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:86-20950).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@code='3114-6']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@code='3114-6']" id="a-86-20952">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="3114-6" Solution(s) had dried (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277 STATIC) (CONF:86-20952).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-22783">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22783).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.163'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.163'])=1" id="a-86-20943">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-20943) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.163" (CONF:86-20944).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']" id="a-86-28389">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28389).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M43"/>
</axsl:template>
<axsl:template mode="M43" priority="-1" match="text()"/>
<axsl:template mode="M44" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.163']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.163']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.163-errors-CL"/>
<axsl:apply-templates mode="M44"/>
</axsl:template>
<axsl:template mode="M44" priority="-1" match="text()"/>
<axsl:template mode="M45" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.123']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.123']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.123-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-86-21000">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21000).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-21001">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21001).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-86-21002">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:86-21002).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1" id="a-86-28229">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28229) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:86-28230).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-21007">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-21007).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21008">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21008).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION']" id="a-86-21009">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-21009).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-21010">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-21010).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-21011">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-21011).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-86-21012">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:86-21012).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][count(self::node()[@code='73211009'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][count(self::node()[@code='73211009'])=1]" id="a-86-21013">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="73211009 " Diabetes mellitus (CONF:86-21013).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-22745">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22745).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.123'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.123'])=1" id="a-86-21005">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21005) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.123" (CONF:86-21006).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.96']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.96']" id="a-86-28354">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.96" (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96) (CONF:86-28354).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']" id="a-86-28376">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28376).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M45"/>
</axsl:template>
<axsl:template mode="M45" priority="-1" match="text()"/>
<axsl:template mode="M46" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.123']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.123']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.123-errors-CL"/>
<axsl:apply-templates mode="M46"/>
</axsl:template>
<axsl:template mode="M46" priority="-1" match="text()"/>
<axsl:template mode="M47" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.126']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.126']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.126-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-86-21014">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21014).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-21015">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21015).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.2'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.2'])=1" id="a-86-28233">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28233) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.2" (CONF:86-28234).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-21020">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-21020).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21021">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNDrugSusceptibilityTestsCode urn:oid:2.16.840.1.113883.13.15 DYNAMIC (CONF:86-21021).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-21023">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-21023).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-21024">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-21024).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-86-21025">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:86-21025).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:interpretationCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:interpretationCode)=1" id="a-86-21026">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] interpretationCode (CONF:86-21026).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:interpretationCode[@nullFlavor='NASK' or @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.13']/voc:code/@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:interpretationCode[@nullFlavor='NASK' or @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.13']/voc:code/@value]" id="a-86-21027-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the interpretation result is known, the value of interpretationCode/@code SHALL be selected from Value Set 2.16.840.1.113883.13.13 NHSNDrugSusceptibilityFindingCode STATIC 20080130. If the drug was not tested, the value of @nullFlavor SHALL be NASK (CONF:86-21027).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-22748">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22748).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@nullFlavor='NA']" id="a-86-22749">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22749).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.126'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.126'])=1" id="a-86-21018">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21018) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.126" (CONF:86-21019).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M47"/>
</axsl:template>
<axsl:template mode="M47" priority="-1" match="text()"/>
<axsl:template mode="M48" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.126']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.126']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.126-errors-CL"/>
<axsl:apply-templates mode="M48"/>
</axsl:template>
<axsl:template mode="M48" priority="-1" match="text()"/>
<axsl:template mode="M49" priority="3999" match="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.117']]">
<fired-rule role="" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.117']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.117-errors"/>
<axsl:choose>
<axsl:when test="@classCode='PROC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='PROC'" id="a-86-21028">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="PROC" (CONF:86-21028).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-21029">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" (CONF:86-21029).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21032">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21032).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='112695004']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='112695004']" id="a-86-21033">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="112695004" Surgical Closure (CONF:86-21033).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-21034">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-21034).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-21035">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" (CONF:86-21035).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:methodCode[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.6051']/voc:code/@value])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:methodCode[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.6051']/voc:code/@value])=1" id="a-86-21036">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] methodCode, which SHALL be selected from ValueSet NHSNClosureTechniqueCode urn:oid:2.16.840.1.114222.4.11.6051 STATIC (CONF:86-21036).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.14'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.14'])=1" id="a-86-28219">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28219) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.14" (CONF:86-28220).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-21040">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-21040).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-22734">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22734).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.117'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.117'])=1" id="a-86-21038">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21038) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.117" (CONF:86-21039).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.6.96']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.6.96']" id="a-86-28352">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.96" (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96) (CONF:86-28352).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M49"/>
</axsl:template>
<axsl:template mode="M49" priority="-1" match="text()"/>
<axsl:template mode="M50" priority="3999" match="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.117']]">
<fired-rule role="" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.117']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.117-errors-CL"/>
<axsl:apply-templates mode="M50"/>
</axsl:template>
<axsl:template mode="M50" priority="-1" match="text()"/>
<axsl:template mode="M51" priority="3999" match="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.122']]">
<fired-rule role="" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.122']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.122-errors"/>
<axsl:choose>
<axsl:when test="@classCode='PROC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='PROC'" id="a-86-21041">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="PROC" (CONF:86-21041).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-21042">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" (CONF:86-21042).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21044">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21044).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-21046">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-21046).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-86-21047">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:86-21047).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[count(cda:low)=1]" id="a-86-21048">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:86-21048).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant) or cda:participant[@typeCode='LOC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant) or cda:participant[@typeCode='LOC']" id="a-86-21050">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The participant, if present, SHALL contain exactly one [1..1] @typeCode="LOC" (CONF:86-21050).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant) or cda:participant[count(cda:participantRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant) or cda:participant[count(cda:participantRole)=1]" id="a-86-21051">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The participant, if present, SHALL contain exactly one [1..1] participantRole (CONF:86-21051).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant/cda:participantRole) or cda:participant/cda:participantRole[@classCode='SDLOC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant/cda:participantRole) or cda:participant/cda:participantRole[@classCode='SDLOC']" id="a-86-21052">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain exactly one [1..1] @classCode="SDLOC" (CONF:86-21052).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant/cda:participantRole) or cda:participant/cda:participantRole[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant/cda:participantRole) or cda:participant/cda:participantRole[count(cda:id)=1]" id="a-86-21053">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain exactly one [1..1] id (CONF:86-21053).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant/cda:participantRole/cda:id) or cda:participant/cda:participantRole/cda:id[@root]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant/cda:participantRole/cda:id) or cda:participant/cda:participantRole/cda:id[@root]" id="a-86-21054">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root (CONF:86-21054).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-86-21055-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id/@root SHALL contain the facility identifier (CONF:86-21055).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant/cda:participantRole/cda:id) or cda:participant/cda:participantRole/cda:id[@extension]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant/cda:participantRole/cda:id) or cda:participant/cda:participantRole/cda:id[@extension]" id="a-86-21056">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @extension (CONF:86-21056).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant/cda:participantRole) or cda:participant/cda:participantRole[count(cda:playingEntity)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant/cda:participantRole) or cda:participant/cda:participantRole[count(cda:playingEntity)=1]" id="a-86-21057">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain exactly one [1..1] playingEntity (CONF:86-21057).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant/cda:participantRole/cda:playingEntity) or cda:participant/cda:participantRole/cda:playingEntity[@classCode='PLC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant/cda:participantRole/cda:playingEntity) or cda:participant/cda:participantRole/cda:playingEntity[@classCode='PLC']" id="a-86-21058">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This playingEntity SHALL contain exactly one [1..1] @classCode="PLC" (CodeSystem: EntityClass urn:oid:2.16.840.1.113883.5.41 STATIC) (CONF:86-21058).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant/cda:participantRole/cda:playingEntity) or cda:participant/cda:participantRole/cda:playingEntity[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant/cda:participantRole/cda:playingEntity) or cda:participant/cda:participantRole/cda:playingEntity[count(cda:code)=1]" id="a-86-21059">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This playingEntity SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNHealthcareServiceLocationCode urn:oid:2.16.840.1.113883.13.19 DYNAMIC (CONF:86-21059).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.14'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.14'])=1" id="a-86-28227">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28227) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.14" (CONF:86-28228).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-21065">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-21065).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='71861002']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='71861002']" id="a-86-21066">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="71861002" Insertion procedure (CONF:86-21066).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-22744">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CodeSystem: HL7NullFlavor urn:oid:2.16.840.1.113883.5.1008) (CONF:86-22744).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.6.96']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.6.96']" id="a-86-28103">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.96" (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96) (CONF:86-28103).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-28106">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:86-28106).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.122'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.122'])=1" id="a-86-21063">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21063) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.122" (CONF:86-21064).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M51"/>
</axsl:template>
<axsl:template mode="M51" priority="-1" match="text()"/>
<axsl:template mode="M52" priority="3999" match="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.122']]">
<fired-rule role="" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.122']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.122-errors-CL"/>
<axsl:apply-templates mode="M52"/>
</axsl:template>
<axsl:template mode="M52" priority="-1" match="text()"/>
<axsl:template mode="M53" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.175']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.175']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.175-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-86-21067">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:86-21067).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-21068">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:86-21068).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-21069">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-21069).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-21070">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-21070).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.2'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.2'])=1" id="a-86-28203">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28203) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.2" (CONF:86-28204).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21075">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21075).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-21076">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-21076).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-21077">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:86-21077).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-86-21078">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:86-21078).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD' and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.13']/voc:code/@value or @nullFlavor])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD' and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.13']/voc:code/@value or @nullFlavor])=1" id="a-86-21079">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHALL be selected from ValueSet NHSNDrugSusceptibilityFindingCode urn:oid:2.16.840.1.113883.13.13 (CONF:86-21079).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@nullFlavor='NA']" id="a-86-22630">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22630).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='365705006']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='365705006']" id="a-86-28099">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="365705006" Final Interpretation Result (CONF:86-28099).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.6.96']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.6.96']" id="a-86-28100">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.96" (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96) (CONF:86-28100).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.175'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.175'])=1" id="a-86-21071">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21071) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.175" (CONF:86-21072).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M53"/>
</axsl:template>
<axsl:template mode="M53" priority="-1" match="text()"/>
<axsl:template mode="M54" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.175']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.175']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.175-errors-CL"/>
<axsl:apply-templates mode="M54"/>
</axsl:template>
<axsl:template mode="M54" priority="-1" match="text()"/>
<axsl:template mode="M55" priority="3999" match="cda:participant[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.176']]">
<fired-rule role="" context="cda:participant[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.176']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.176-errors"/>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.176'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.176'])=1" id="a-86-21084">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21084) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.176" (CONF:86-21085).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@typeCode='SBJ'"/>
<axsl:otherwise>
<failed-assert role="" test="@typeCode='SBJ'" id="a-86-27113">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @typeCode="SBJ" (CONF:86-27113).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participantRole)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participantRole)=1" id="a-86-27114">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participantRole (CONF:86-27114).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participantRole[count(cda:playingEntity)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participantRole[count(cda:playingEntity)=1]" id="a-86-27116">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain exactly one [1..1] playingEntity (CONF:86-27116).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participantRole/cda:playingEntity[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participantRole/cda:playingEntity[count(cda:code)=1]" id="a-86-27117">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This playingEntity SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNAntimicrobialAgentAURPCode urn:oid:2.16.840.1.114222.4.11.3360 DYNAMIC (CONF:86-27117).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M55"/>
</axsl:template>
<axsl:template mode="M55" priority="-1" match="text()"/>
<axsl:template mode="M56" priority="3999" match="cda:participant[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.176']]">
<fired-rule role="" context="cda:participant[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.176']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.176-errors-CL"/>
<axsl:apply-templates mode="M56"/>
</axsl:template>
<axsl:template mode="M56" priority="-1" match="text()"/>
<axsl:template mode="M57" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.142']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.142']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.142-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-86-21157">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21157).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-21158">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21158).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-86-21159">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:86-21159).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21160">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21160).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION']" id="a-86-21161">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-21161).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-21162">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-21162).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-21163">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-21163).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-86-21164">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:86-21164).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@code='2318-4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@code='2318-4']" id="a-86-21165">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="2318-4" MDRO Infection or C.difficile infection (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277 STATIC) (CONF:86-21165).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1" id="a-86-28257">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28257) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:86-28258).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-21236">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-21236).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-22769">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22769).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.142'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.142'])=1" id="a-86-21234">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21234) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.142" (CONF:86-21235).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']" id="a-86-28382">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28382).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M57"/>
</axsl:template>
<axsl:template mode="M57" priority="-1" match="text()"/>
<axsl:template mode="M58" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.142']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.142']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.142-errors-CL"/>
<axsl:apply-templates mode="M58"/>
</axsl:template>
<axsl:template mode="M58" priority="-1" match="text()"/>
<axsl:template mode="M59" priority="3999" match="cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.141']]">
<fired-rule role="" context="cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.141']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.141-errors"/>
<axsl:choose>
<axsl:when test="@classCode='SBADM'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='SBADM'" id="a-86-21166">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="SBADM" Substance Administration (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21166).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-21167">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21167).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-86-21168">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:86-21168).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21169">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21169).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='2306-9']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='2306-9']" id="a-86-21170">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="2306-9" Intravenous injection of antifungal substance (CONF:86-21170).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.16'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.16'])=1" id="a-86-28255">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28255) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.16" (CONF:86-28256).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-21503">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-21503).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-21504">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-21504).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime[@xsi:type='IVL_TS'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime[@xsi:type='IVL_TS'])=1" id="a-86-21505">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:86-21505).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@xsi:type='IVL_TS'][count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@xsi:type='IVL_TS'][count(cda:low)=1]" id="a-86-21506">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:86-21506).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@xsi:type='IVL_TS'][count(cda:high)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@xsi:type='IVL_TS'][count(cda:high)=1]" id="a-86-21507">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] high (CONF:86-21507).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-22763">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22763).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-28110">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:86-28110).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.141'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.141'])=1" id="a-86-21501">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21501) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.141" (CONF:86-21502).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:consumable)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:consumable)=1" id="a-86-28340">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] consumable (CONF:86-28340).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:consumable[count(cda:manufacturedProduct)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:consumable[count(cda:manufacturedProduct)=1]" id="a-86-28341">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This consumable SHALL contain exactly one [1..1] manufacturedProduct (CONF:86-28341).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:consumable/cda:manufacturedProduct[count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.23'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:consumable/cda:manufacturedProduct[count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.23'])=1]" id="a-86-28342">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This manufacturedProduct SHALL contain exactly one [1..1] templateId (CONF:86-28342) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.23" (CONF:86-28345).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:consumable/cda:manufacturedProduct[count(cda:manufacturedMaterial)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:consumable/cda:manufacturedProduct[count(cda:manufacturedMaterial)=1]" id="a-86-28343">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This manufacturedProduct SHALL contain exactly one [1..1] manufacturedMaterial (CONF:86-28343).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial[count(cda:code)=1]" id="a-86-28344">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This manufacturedMaterial SHALL contain exactly one [1..1] code (CONF:86-28344).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial/cda:code[@nullFlavor='NI']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial/cda:code[@nullFlavor='NI']" id="a-86-28346">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @nullFlavor="NI" (CodeSystem: HL7NullFlavor urn:oid:2.16.840.1.113883.5.1008) (CONF:86-28346).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:consumable/cda:manufacturedProduct[@classCode='MANU']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:consumable/cda:manufacturedProduct[@classCode='MANU']" id="a-86-28347">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This manufacturedProduct SHALL contain exactly one [1..1] @classCode="MANU" (CodeSystem: RoleClass urn:oid:2.16.840.1.113883.5.110) (CONF:86-28347).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M59"/>
</axsl:template>
<axsl:template mode="M59" priority="-1" match="text()"/>
<axsl:template mode="M60" priority="3999" match="cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.141']]">
<fired-rule role="" context="cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.141']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.141-errors-CL"/>
<axsl:apply-templates mode="M60"/>
</axsl:template>
<axsl:template mode="M60" priority="-1" match="text()"/>
<axsl:template mode="M61" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.139']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.139']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.139-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-86-21181">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21181).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-21182">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21182).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd='false'"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd='false'" id="a-86-21183">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd="false" (CONF:86-21183).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-21184">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-21184).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21185">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21185).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION']" id="a-86-21186">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-21186).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-21187">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-21187).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-21188">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-21188).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-86-21189">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:86-21189).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-86-21190">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHALL be selected from ValueSet NHSNInfectionTypeCode urn:oid:2.16.840.1.113883.13.20 DYNAMIC (CONF:86-21190).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship[@typeCode='SPRT'][count(cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.180']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship[@typeCode='SPRT'][count(cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.180']])=1])=1" id="a-86-21192">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entryRelationship (CONF:86-21192) such that it SHALL contain exactly one [1..1] @typeCode="SPRT" Supports (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-21193). SHALL contain exactly one [1..1] Criteria of Diagnosis Organizer (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.180) (CONF:86-21194).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1" id="a-86-28251">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28251) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:86-28252).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(/*/cda:templateId[@root='2.16.840.1.113883.10.20.5.33' or @root='2.16.840.1.113883.10.20.5.34'] ) or (cda:entryRelationship[@typeCode='REFR']/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.135'])"/>
<axsl:otherwise>
<failed-assert role="" test="not(/*/cda:templateId[@root='2.16.840.1.113883.10.20.5.33' or @root='2.16.840.1.113883.10.20.5.34'] ) or (cda:entryRelationship[@typeCode='REFR']/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.135'])" id="a-86-23220-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the report is an Infection-type Report and the infection type is not BSI, an entryRelationship element SHALL be present containing an Infection Condition Observation (CONF:86-23220).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(/*/cda:templateId[@root='2.16.840.1.113883.10.20.5.33' or @root='2.16.840.1.113883.10.20.5.34'] ) or (cda:entryRelationship[@typeCode='REFR']/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.160'])"/>
<axsl:otherwise>
<failed-assert role="" test="not(/*/cda:templateId[@root='2.16.840.1.113883.10.20.5.33' or @root='2.16.840.1.113883.10.20.5.34'] ) or (cda:entryRelationship[@typeCode='REFR']/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.160'])" id="a-86-23224-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the report is an Infection-type Report and the infection type is not BSI, an entryRelationship element SHALL be present containing a Secondary Bloodstream Infection Observation (CONF:86-23224).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(/*/cda:templateId[@root='2.16.840.1.113883.10.20.5.32']) or (cda:entryRelationship[@typeCode='COMP']/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.114'] )"/>
<axsl:otherwise>
<failed-assert role="" test="not(/*/cda:templateId[@root='2.16.840.1.113883.10.20.5.32']) or (cda:entryRelationship[@typeCode='COMP']/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.114'] )" id="a-86-23228-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the report is a BSI Report, an entryRelationship element SHALL be present containing a Bloodstream Infection Evidence Type Observation (CONF:86-23228).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(/*/cda:templateId[@root='2.16.840.1.113883.10.20.5.33']) or (cda:entryRelationship[@typeCode='COMP']/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.144'])"/>
<axsl:otherwise>
<failed-assert role="" test="not(/*/cda:templateId[@root='2.16.840.1.113883.10.20.5.33']) or (cda:entryRelationship[@typeCode='COMP']/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.144'])" id="a-86-23232-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the report is an SSI Report, an entryRelationship element SHALL be present containing an Occasion of HAI Detection Observation (CONF:86-23232).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']" id="a-86-28186">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28186).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[count(cda:low)=1]" id="a-86-28190">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:86-28190).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.139'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.139'])=1" id="a-86-21239">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21239) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.139" (CONF:86-21240).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M61"/>
</axsl:template>
<axsl:template mode="M61" priority="-1" match="text()"/>
<axsl:template mode="M62" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.139']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.139']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.139-errors-CL"/>
<axsl:apply-templates mode="M62"/>
</axsl:template>
<axsl:template mode="M62" priority="-1" match="text()"/>
<axsl:template mode="M63" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.148']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.148']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.148-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-86-21214">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21214).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-21215">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21215).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-86-21216">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:86-21216).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21217">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21217).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION']" id="a-86-21218">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-21218).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-21219">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-21219).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-21220">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" COMPLETED (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4 STATIC) (CONF:86-21220).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-86-21221">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:86-21221).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@code='2213-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@code='2213-7']" id="a-86-21222">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="2213-7" Performer was a member of PICC/IV Team (CONF:86-21222).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.148'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.148'])=1" id="a-86-22002">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22002) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.148" (CONF:86-22003).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-22004">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-22004).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-22779">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22779).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']" id="a-86-28385">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28385).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']" id="a-86-28404">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:86-28404).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M63"/>
</axsl:template>
<axsl:template mode="M63" priority="-1" match="text()"/>
<axsl:template mode="M64" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.148']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.148']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.148-errors-CL"/>
<axsl:apply-templates mode="M64"/>
</axsl:template>
<axsl:template mode="M64" priority="-1" match="text()"/>
<axsl:template mode="M65" priority="3999" match="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.156']]">
<fired-rule role="" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.156']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.156-errors"/>
<axsl:choose>
<axsl:when test="@classCode='PROC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='PROC'" id="a-86-21319">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="PROC" Procedure (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21319).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-21320">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21320).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-21321">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-21321).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-86-21322-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of the id element SHALL be the same as the value of the corresponding procedure/id element in the Details Section of the report (CONF:86-21322).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.174']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.174']])=1])=1" id="a-86-21323">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entryRelationship (CONF:86-21323) such that it SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-21324). SHALL contain exactly one [1..1] Wound Class Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.174) (CONF:86-21325).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(checked-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(checked-here)" id="a-86-21325-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] Wound Class Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.174) (CONF:86-21325).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.128']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.128']])=1])=1" id="a-86-21327">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entryRelationship (CONF:86-21327) such that it SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-21328). SHALL contain exactly one [1..1] Endoscope Used Clinical Statement (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.128) (CONF:86-21329).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-86-21329-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] Endoscope Used Clinical Statement (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.128) (CONF:86-21329).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-86-21331-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the procedure was an emergency, the procedure element SHALL contain a methodCode element where the value of @code is 373110003 Emergency procedure 2.16.840.1.113883.6.96 SNOMED CT STATIC (CONF:86-21331).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.156'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.156'])=1" id="a-86-21990">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21990) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.156" (CONF:86-21991).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M65"/>
</axsl:template>
<axsl:template mode="M65" priority="-1" match="text()"/>
<axsl:template mode="M66" priority="3999" match="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.156']]">
<fired-rule role="" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.156']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.156-errors-CL"/>
<axsl:apply-templates mode="M66"/>
</axsl:template>
<axsl:template mode="M66" priority="-1" match="text()"/>
<axsl:template mode="M67" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.159']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.159']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.159-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-86-21342">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21342).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-21343">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21343).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-86-21344">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:86-21344).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21345">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21345).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION']" id="a-86-21346">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-21346).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-21347">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-21347).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-21348">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-21348).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-86-21349">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:86-21349).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@code='3104-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@code='3104-7']" id="a-86-21350">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="3104-7" Recorder was performer (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277 STATIC) (CONF:86-21350).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.159'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.159'])=1" id="a-86-21987">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21987) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.159" (CONF:86-21988).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-21989">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-21989).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-22790">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22790).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']" id="a-86-28387">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28387).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M67"/>
</axsl:template>
<axsl:template mode="M67" priority="-1" match="text()"/>
<axsl:template mode="M68" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.159']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.159']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.159-errors-CL"/>
<axsl:apply-templates mode="M68"/>
</axsl:template>
<axsl:template mode="M68" priority="-1" match="text()"/>
<axsl:template mode="M69" priority="3999" match="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.165']]">
<fired-rule role="" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.165']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.165-errors"/>
<axsl:choose>
<axsl:when test="@classCode='PROC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='PROC'" id="a-86-21389">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="PROC" Procedure (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21389).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-21390">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21390).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-86-21391">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:86-21391).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@value]" id="a-86-21392">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] @value (CONF:86-21392).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant)=1" id="a-86-21393">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:86-21393).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant[@typeCode='PRD']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant[@typeCode='PRD']" id="a-86-21394">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participant SHALL contain exactly one [1..1] @typeCode="PRD" Product (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:86-21394).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant[count(cda:participantRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant[count(cda:participantRole)=1]" id="a-86-21395">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participant SHALL contain exactly one [1..1] participantRole (CONF:86-21395).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole[@classCode='SPEC']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole[@classCode='SPEC']" id="a-86-21396">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain exactly one [1..1] @classCode="SPEC" Specimen (CodeSystem: RoleClass urn:oid:2.16.840.1.113883.5.110 STATIC) (CONF:86-21396).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole[count(cda:playingEntity)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole[count(cda:playingEntity)=1]" id="a-86-21397">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain exactly one [1..1] playingEntity (CONF:86-21397).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole/cda:playingEntity[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole/cda:playingEntity[count(cda:code)=1]" id="a-86-21398">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This playingEntity SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNSpecimenTypeCode urn:oid:2.16.840.1.114222.4.11.3249 DYNAMIC (CONF:86-21398).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship)=1" id="a-86-21400">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entryRelationship (CONF:86-21400).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship[@typeCode='COMP']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship[@typeCode='COMP']" id="a-86-21401">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This entryRelationship SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-21401).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship[@inversionInd='true']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship[@inversionInd='true']" id="a-86-21402">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This entryRelationship SHALL contain exactly one [1..1] @inversionInd="true" (CONF:86-21402).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship[count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.164']])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship[count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.164']])=1]" id="a-86-21403">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This entryRelationship SHALL contain exactly one [1..1] Specimen Collection Encounter (LIO) (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.164) (CONF:86-21403).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.165'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.165'])=1" id="a-86-21982">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21982) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.165" (CONF:86-21983).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M69"/>
</axsl:template>
<axsl:template mode="M69" priority="-1" match="text()"/>
<axsl:template mode="M70" priority="3999" match="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.165']]">
<fired-rule role="" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.165']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.165-errors-CL"/>
<axsl:apply-templates mode="M70"/>
</axsl:template>
<axsl:template mode="M70" priority="-1" match="text()"/>
<axsl:template mode="M71" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.169']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.169']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.169-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-86-21451">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21451).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-21452">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21452).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-86-21453">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:86-21453).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21454">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21454).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION']" id="a-86-21455">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-21455).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-21456">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-21456).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-21457">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-21457).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-86-21458">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:86-21458).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@code='2304-4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@code='2304-4']" id="a-86-21459">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="2304-4" Transient Patient (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277 STATIC) (CONF:86-21459).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1" id="a-86-28289">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28289) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:86-28290).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-22737">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-22737).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-22738">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22738).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.169'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.169'])=1" id="a-86-22035">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22035) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.169" (CONF:86-22036).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']" id="a-86-28391">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28391).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M71"/>
</axsl:template>
<axsl:template mode="M71" priority="-1" match="text()"/>
<axsl:template mode="M72" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.169']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.169']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.169-errors-CL"/>
<axsl:apply-templates mode="M72"/>
</axsl:template>
<axsl:template mode="M72" priority="-1" match="text()"/>
<axsl:template mode="M73" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.171']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.171']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.171-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-86-21460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21460).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-21461">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21461).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-86-21462">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:86-21462).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21463">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21463).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-21465">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-21465).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-21466">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-21466).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-86-21467">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:86-21467).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@code='3191-4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@code='3191-4']" id="a-86-21468">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="3191-4" Urinary catheter present (CONF:86-21468).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1" id="a-86-28293">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28293) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:86-28294).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-22115">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-22115).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[count(self::node()[@code='ASSERTION'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[count(self::node()[@code='ASSERTION'])=1]" id="a-86-22116">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-22116).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-22727">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22727).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd != 'true' or (cda:entryRelationship[@typeCode='COMP']/cda:observation/cda:templateId[@root='2.16.840.1.113883.10.20.5.6.132'])"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd != 'true' or (cda:entryRelationship[@typeCode='COMP']/cda:observation/cda:templateId[@root='2.16.840.1.113883.10.20.5.6.132'])" id="a-86-22731-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If a urinary catheter is not present (@negationInd="true"), this entryRelationship SHALL be present (CONF:86-22731).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.171'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.171'])=1" id="a-86-22114">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22114) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.171" (CONF:86-22117).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']" id="a-86-28393">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28393).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']" id="a-86-28394">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:86-28394).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M73"/>
</axsl:template>
<axsl:template mode="M73" priority="-1" match="text()"/>
<axsl:template mode="M74" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.171']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.171']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.171-errors-CL"/>
<axsl:apply-templates mode="M74"/>
</axsl:template>
<axsl:template mode="M74" priority="-1" match="text()"/>
<axsl:template mode="M75" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.172']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.172']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.172-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-86-21474">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21474).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-21475">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21475).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-86-21476">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:86-21476).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21477">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21477).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION']" id="a-86-21478">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-21478).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-86-21480-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The text element is to be used for additional information commenting on the vascular access type (CONF:86-21480).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-21481">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-21481).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-21482">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-21482).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-86-21483">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:86-21483).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[count(cda:low)=1]" id="a-86-21484">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:86-21484).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime/cda:low[@value or @nullFlavor='NI']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime/cda:low[@value or @nullFlavor='NI']" id="a-86-21485-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>When the access placement date is not known, the value of @nullFlavor SHALL be NI (no information) (CONF:86-21485).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime/cda:low[@nullFlavor or string-length(@value) = 6]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime/cda:low[@nullFlavor or string-length(@value) = 6]" id="a-86-21486-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>When the access placement date is known, it SHALL be recorded as year and month (yyyymm) (CONF:86-21486).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value)=1" id="a-86-21487">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value (CONF:86-21487).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.6007']/voc:code/@value] or cda:value[@nullFlavor='OTH']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.6007']/voc:code/@value] or cda:value[@nullFlavor='OTH']" id="a-86-21488-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>To record the presence or absence of a vascular access type that is listed in the NHSN Vascular Access Type value set, the value of @code SHALL be selected from ValueSet 2.16.840.1.114222.4.11.6007 NHSNVascularAccessTypeCode STATIC 20120808 (CONF:86-21488).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-86-21489-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>To record that another type of vascular access is present, set the value of @nullFlavor to OTH (other) (CONF:86-21489).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1" id="a-86-28295">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28295) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:86-28296).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-22721">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-22721).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor]" id="a-86-22722">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor (CONF:86-22722).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.172'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.172'])=1" id="a-86-22037">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22037) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.172" (CONF:86-22038).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']" id="a-86-28395">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28395).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M75"/>
</axsl:template>
<axsl:template mode="M75" priority="-1" match="text()"/>
<axsl:template mode="M76" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.172']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.172']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.172-errors-CL"/>
<axsl:apply-templates mode="M76"/>
</axsl:template>
<axsl:template mode="M76" priority="-1" match="text()"/>
<axsl:template mode="M77" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.168']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.168']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.168-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-86-21508">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21508).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-21509">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21509).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd='false'"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd='false'" id="a-86-21510">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd="false" (CONF:86-21510).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21511">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21511).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION']" id="a-86-21512">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-21512).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-21513">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-21513).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-21514">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-21514).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-86-21515">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:86-21515).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37']) or (cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37'] and cda:value[@code = document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.6008']/voc:code/@value  or (@nullFlavor='NI')])"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37']) or (cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37'] and cda:value[@code = document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.6008']/voc:code/@value or (@nullFlavor='NI')])" id="a-86-21516-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>In an Evidence of Infection (Dialysis) report, to represent the suspected source as a code, the value of @code SHALL be selected from ValueSet NHSNSuspectedSourceTypeCode 2.16.840.1.114222.4.11.6008 STATIC 20111215 (CONF:86-21516).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-86-21517-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the suspected source is not listed in Value Set 2.16.840.1.114222.4.11.6008 NHSNSuspectedSourceTypeCode STATIC 20111215, set the value of @nullFlavor to OTH (CONF:86-21517).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-86-21518-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the suspected source is uncertain, set the value of @nullFlavor to NI (CONF:86-21518).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.134']][count(cda:code[@code='2307-7'])=1][count(cda:value[@code='60022001'])=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.134']][count(cda:code[@code='2307-7'])=1][count(cda:value[@code='60022001'])=1])=1])=1" id="a-86-21519">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entryRelationship (CONF:86-21519) such that it SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-21520). SHALL contain exactly one [1..1] Imputability Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.134) (CONF:86-21521). This observation SHALL contain exactly one [1..1] code (CONF:86-21522). This code SHALL contain exactly one [1..1] @code="2307-7" Imputability of positive blood culture to the suspected source (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277 STATIC) (CONF:86-21523). This observation SHALL contain exactly one [1..1] value (CONF:86-21524). This value SHALL contain exactly one [1..1] @code="60022001" Possible (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96 STATIC) (CONF:86-21525).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1" id="a-86-28287">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28287) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:86-28288).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-21530">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-21530).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-22741">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22741).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.168'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.168'])=1" id="a-86-21528">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21528) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.168" (CONF:86-21529).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']" id="a-86-28356">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28356).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M77"/>
</axsl:template>
<axsl:template mode="M77" priority="-1" match="text()"/>
<axsl:template mode="M78" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.168']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.168']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.168-errors-CL"/>
<axsl:apply-templates mode="M78"/>
</axsl:template>
<axsl:template mode="M78" priority="-1" match="text()"/>
<axsl:template mode="M79" priority="3999" match="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.167']]">
<fired-rule role="" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.167']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.167-errors"/>
<axsl:choose>
<axsl:when test="@classCode='PROC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='PROC'" id="a-86-21531">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="PROC" Procedure (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21531).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-21532">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21532).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd='false'"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd='false'" id="a-86-21533">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd="false" (CONF:86-21533).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21534">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21534).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[count(self::node()[@code='370822003' and @codeSystem='2.16.840.1.113883.6.96'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[count(self::node()[@code='370822003' and @codeSystem='2.16.840.1.113883.6.96'])=1]" id="a-86-21535">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="370822003" Use of sterile technique (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96 STATIC) (CONF:86-21535).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant) or cda:participant[@typeCode='DEV']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant) or cda:participant[@typeCode='DEV']" id="a-86-21537">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The participant, if present, SHALL contain exactly one [1..1] @typeCode="DEV" Device (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:86-21537).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant) or cda:participant[count(cda:participantRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant) or cda:participant[count(cda:participantRole)=1]" id="a-86-21538">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The participant, if present, SHALL contain exactly one [1..1] participantRole (CONF:86-21538).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant/cda:participantRole) or cda:participant/cda:participantRole[@classCode='MANU']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant/cda:participantRole) or cda:participant/cda:participantRole[@classCode='MANU']" id="a-86-21539">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain exactly one [1..1] @classCode="MANU" (CodeSystem: RoleClass urn:oid:2.16.840.1.113883.5.110 STATIC) (CONF:86-21539).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant/cda:participantRole) or cda:participant/cda:participantRole[count(cda:playingDevice)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant/cda:participantRole) or cda:participant/cda:participantRole[count(cda:playingDevice)=1]" id="a-86-21540">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain exactly one [1..1] playingDevice (CONF:86-21540).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant/cda:participantRole/cda:playingDevice) or cda:participant/cda:participantRole/cda:playingDevice[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant/cda:participantRole/cda:playingDevice) or cda:participant/cda:participantRole/cda:playingDevice[count(cda:code)=1]" id="a-86-21541">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This playingDevice SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNSterileBarrierCode urn:oid:2.16.840.1.114222.4.11.3184 DYNAMIC (CONF:86-21541).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.14'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.14'])=1" id="a-86-28285">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28285) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.14" (CONF:86-28286).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-21560">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-21560).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-21561">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-21561).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-21562">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:86-21562).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor]" id="a-86-22772">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor (CONF:86-22772).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.167'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.167'])=1" id="a-86-21558">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21558) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.167" (CONF:86-21559).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M79"/>
</axsl:template>
<axsl:template mode="M79" priority="-1" match="text()"/>
<axsl:template mode="M80" priority="3999" match="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.167']]">
<fired-rule role="" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.167']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.167-errors-CL"/>
<axsl:apply-templates mode="M80"/>
</axsl:template>
<axsl:template mode="M80" priority="-1" match="text()"/>
<axsl:template mode="M81" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.166']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.166']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.166-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-86-21543">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21543).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-21544">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21544).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21545">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21545).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION']" id="a-86-21546">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-21546).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-21547">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-21547).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-21548">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-21548).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD' and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.11']/voc:code/@value or @nullFlavor])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD' and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.11']/voc:code/@value or @nullFlavor])=1" id="a-86-21549">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHALL be selected from ValueSet NHSNSpinalFusionLevelCode urn:oid:2.16.840.1.113883.13.11 STATIC 2009-06-25 (CONF:86-21549).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1" id="a-86-28283">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28283) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:86-28284).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-21555">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-21555).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-22775">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22775).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.166'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.166'])=1" id="a-86-21553">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21553) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.166" (CONF:86-21554).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']" id="a-86-28390">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28390).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M81"/>
</axsl:template>
<axsl:template mode="M81" priority="-1" match="text()"/>
<axsl:template mode="M82" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.166']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.166']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.166-errors-CL"/>
<axsl:apply-templates mode="M82"/>
</axsl:template>
<axsl:template mode="M82" priority="-1" match="text()"/>
<axsl:template mode="M83" priority="3999" match="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.164']]">
<fired-rule role="" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.164']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.164-errors"/>
<axsl:choose>
<axsl:when test="@classCode='ENC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='ENC'" id="a-86-21563">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="ENC" Encounter (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21563).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-21564">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21564).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.49'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.49'])=1" id="a-86-28281">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28281) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.49" (CONF:86-28282).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-21569">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-21569).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant)=1" id="a-86-21571">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:86-21571).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant[@typeCode='LOC']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant[@typeCode='LOC']" id="a-86-21572">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participant SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:86-21572).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant[count(cda:participantRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant[count(cda:participantRole)=1]" id="a-86-21573">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participant SHALL contain exactly one [1..1] participantRole (CONF:86-21573).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole[@classCode='SDLOC']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole[@classCode='SDLOC']" id="a-86-21574">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain exactly one [1..1] @classCode="SDLOC" Service delivery location (CodeSystem: RoleClass urn:oid:2.16.840.1.113883.5.110 STATIC) (CONF:86-21574).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole[count(cda:id)=1]" id="a-86-21575">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain exactly one [1..1] id (CONF:86-21575).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole/cda:id[@root]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole/cda:id[@root]" id="a-86-21576">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root (CONF:86-21576).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole/cda:id[@extension]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole/cda:id[@extension]" id="a-86-21577">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @extension (CONF:86-21577).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole[count(cda:playingEntity)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole[count(cda:playingEntity)=1]" id="a-86-21578">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain exactly one [1..1] playingEntity (CONF:86-21578).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole/cda:playingEntity[@classCode='PLC']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole/cda:playingEntity[@classCode='PLC']" id="a-86-21579">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This playingEntity SHALL contain exactly one [1..1] @classCode="PLC" Place (CodeSystem: EntityClass urn:oid:2.16.840.1.113883.5.41 STATIC) (CONF:86-21579).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole/cda:playingEntity[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole/cda:playingEntity[count(cda:code)=1]" id="a-86-21580">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This playingEntity SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNHealthcareServiceLocationCode urn:oid:2.16.840.1.113883.13.19 DYNAMIC (CONF:86-21580).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-21583">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-21583).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-86-21584">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:86-21584).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-86-21585-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the patient was an inpatient, an effectiveTime/low element SHALL be present representing the date the patient was admitted or transferred to that location (CONF:86-21585).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.164'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.164'])=1" id="a-86-21567">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21567) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.164" (CONF:86-21568).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M83"/>
</axsl:template>
<axsl:template mode="M83" priority="-1" match="text()"/>
<axsl:template mode="M84" priority="3999" match="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.164']]">
<fired-rule role="" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.164']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.164-errors-CL"/>
<axsl:apply-templates mode="M84"/>
</axsl:template>
<axsl:template mode="M84" priority="-1" match="text()"/>
<axsl:template mode="M85" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.158']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.158']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.158-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-86-21589">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21589).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-21590">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21590).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd='false'"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd='false'" id="a-86-21591">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd="false" (CONF:86-21591).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.19'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.19'])=1" id="a-86-28273">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28273) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.19" (CONF:86-28274).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-21594">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-21594).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21595">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21595).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION']" id="a-86-21596">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-21596).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-21597">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-21597).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-21598">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-21598).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value)=1" id="a-86-21599">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value (CONF:86-21599).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-86-21600-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>In a CLIP Report, to record the reason as a code, the value of @xsi:type SHALL be CD and the value of @code SHALL be selected from ValueSet 2.16.840.1.114222.4.11.3182 ReasonForInsertionCode STATIC 20090625. Or, to record the reason as text, the value of @xsi:type SHALL be ST and a text value SHALL be present (CONF:86-21600).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-22789">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22789).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:entryRelationship) or cda:entryRelationship[@typeCode='RSON']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:entryRelationship) or cda:entryRelationship[@typeCode='RSON']" id="a-86-23287">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] @typeCode="RSON" (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002) (CONF:86-23287).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:entryRelationship) or cda:entryRelationship[@inversionInd='true']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:entryRelationship) or cda:entryRelationship[@inversionInd='true']" id="a-86-23288">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] @inversionInd="true" (CONF:86-23288).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.129']])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.129']])=1]" id="a-86-23289">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] Guidewire Used Clinical Statement (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.129) (CONF:86-23289).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:value[@code = '5107-8']) or (cda:entryRelationship[@typeCode='RSON' and @inversionInd='true']/cda:procedure/cda:templateId[@root='2.16.840.1.113883.10.20.5.6.129'])"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:value[@code = '5107-8']) or (cda:entryRelationship[@typeCode='RSON' and @inversionInd='true']/cda:procedure/cda:templateId[@root='2.16.840.1.113883.10.20.5.6.129'])" id="a-86-23290-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>In a CLIP Report, if the coded reason is [[]To replace] An existing central line where infection was suspected (5107-8), an entryRelationship element *SHALL* be present containing Guidewire Used Clinical Statement (CONF:86-23290).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.158'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.158'])=1" id="a-86-21593">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21593) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.158" (CONF:86-21603).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']" id="a-86-28386">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28386).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M85"/>
</axsl:template>
<axsl:template mode="M85" priority="-1" match="text()"/>
<axsl:template mode="M86" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.158']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.158']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.158-errors-CL"/>
<axsl:apply-templates mode="M86"/>
</axsl:template>
<axsl:template mode="M86" priority="-1" match="text()"/>
<axsl:template mode="M87" priority="3999" match="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.155']]">
<fired-rule role="" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.155']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.155-errors"/>
<axsl:choose>
<axsl:when test="@classCode='PROC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='PROC'" id="a-86-21605">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="PROC" Procedure (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21605).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-21606">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21606).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21607">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21607).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='233527006' and @codeSystem='2.16.840.1.113883.6.96']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='233527006' and @codeSystem='2.16.840.1.113883.6.96']" id="a-86-21608">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="233527006" Central-line insertion (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96 STATIC) (CONF:86-21608).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-21609">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode, which SHALL be selected from ValueSet ProcedureAct statusCode urn:oid:2.16.840.1.113883.11.20.9.22 DYNAMIC (CONF:86-21609).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-86-21610">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:86-21610).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:targetSiteCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:targetSiteCode)=1" id="a-86-21611">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] targetSiteCode, which SHALL be selected from ValueSet NHSNInsertionSiteCode urn:oid:2.16.840.1.114222.4.11.3180 DYNAMIC (CONF:86-21611).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:performer)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:performer)=1" id="a-86-21613">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] performer (CONF:86-21613).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:performer[count(cda:assignedEntity)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:performer[count(cda:assignedEntity)=1]" id="a-86-21614">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This performer SHALL contain exactly one [1..1] assignedEntity (CONF:86-21614).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:performer/cda:assignedEntity[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:performer/cda:assignedEntity[count(cda:id)=1]" id="a-86-21615">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedEntity SHALL contain exactly one [1..1] id (CONF:86-21615).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:performer/cda:assignedEntity/cda:id[@root or @nullFlavor='UNK']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:performer/cda:assignedEntity/cda:id[@root or @nullFlavor='UNK']" id="a-86-21616-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the performer ID is not known, the value of performer/assignedEntity/id/@nullFlavor SHALL be UNK (CONF:86-21616).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:performer/cda:assignedEntity[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:performer/cda:assignedEntity[count(cda:code)=1]" id="a-86-21617">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedEntity SHALL contain exactly one [1..1] code (CONF:86-21617).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:performer/cda:assignedEntity/cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3181']/voc:code/@value or (@nullFlavor='OTH' and cda:originalText)]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:performer/cda:assignedEntity/cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3181']/voc:code/@value or (@nullFlavor='OTH' and cda:originalText)]" id="a-86-21618-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the occupation is recorded as a code, the value of @xsi:type SHALL be CD and the value of @code SHALL be selected from ValueSet 2.16.840.1.114222.4.11.3181 NHSNRoleOfPerformerCode DYNAMIC. If the occupation is recorded as text, the value of @nullFlavor SHALL be OTH and the code element SHALL contain an originalText element recording the occupation of the performer (CONF:86-21618).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant)=1" id="a-86-21619">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:86-21619).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant[@typeCode='DEV']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant[@typeCode='DEV']" id="a-86-21620">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participant SHALL contain exactly one [1..1] @typeCode="DEV" Device (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:86-21620).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant[count(cda:participantRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant[count(cda:participantRole)=1]" id="a-86-21621">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participant SHALL contain exactly one [1..1] participantRole (CONF:86-21621).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole[@classCode='MANU']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole[@classCode='MANU']" id="a-86-21622">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain exactly one [1..1] @classCode="MANU" Manufactured product (CodeSystem: RoleClass urn:oid:2.16.840.1.113883.5.110 STATIC) (CONF:86-21622).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole[count(cda:playingDevice)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole[count(cda:playingDevice)=1]" id="a-86-21623">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain exactly one [1..1] playingDevice (CONF:86-21623).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole/cda:playingDevice[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole/cda:playingDevice[count(cda:code)=1]" id="a-86-21624">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This playingDevice SHALL contain exactly one [1..1] code (CONF:86-21624).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole/cda:playingDevice/cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3185']/voc:code/@value or (@nullFlavor='OTH' and cda:originalText)]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole/cda:playingDevice/cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3185']/voc:code/@value or (@nullFlavor='OTH' and cda:originalText)]" id="a-86-21625-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>To record the catheter type as a code, the value of @code SHALL be selected from ValueSet 2.16.840.1.114222.4.11.3185 NHSNCatheterTypeCode STATIC 20090625. Or, to record the catheter type as text, the value of @nullFlavor SHALL be OTH and an originalText element SHALL be present (CONF:86-21625).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.159']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.159']])=1])=1" id="a-86-21626">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entryRelationship (CONF:86-21626) such that it SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-21627). SHALL contain exactly one [1..1] Recorder Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.159) (CONF:86-21628).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship[@typeCode='RSON'][count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.158']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship[@typeCode='RSON'][count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.158']])=1])=1" id="a-86-21629">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entryRelationship (CONF:86-21629) such that it SHALL contain exactly one [1..1] @typeCode="RSON" Has reason (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-21630). SHALL contain exactly one [1..1] Reason for Procedure Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.158) (CONF:86-21631).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.148']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.148']])=1])=1" id="a-86-21632">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entryRelationship (CONF:86-21632) such that it SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-21633). SHALL contain exactly one [1..1] PICC/IV Team (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.148) (CONF:86-21634).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.14'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.14'])=1" id="a-86-28267">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28267) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.14" (CONF:86-28268).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-21639">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-21639).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-22784">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22784).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.155'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.155'])=1" id="a-86-21637">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21637) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.155" (CONF:86-21638).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M87"/>
</axsl:template>
<axsl:template mode="M87" priority="-1" match="text()"/>
<axsl:template mode="M88" priority="3999" match="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.155']]">
<fired-rule role="" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.155']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.155-errors-CL"/>
<axsl:apply-templates mode="M88"/>
</axsl:template>
<axsl:template mode="M88" priority="-1" match="text()"/>
<axsl:template mode="M89" priority="3999" match="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.154']]">
<fired-rule role="" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.154']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.154-errors"/>
<axsl:choose>
<axsl:when test="@classCode='PROC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='PROC'" id="a-86-21640">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="PROC" Procedure (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21640).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-21641">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21641).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-21642">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-21642).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21643">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (ValueSet: NHSNProcedureCategoryCode urn:oid:2.16.840.1.113883.13.17 DYNAMIC) (CONF:86-21643).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-86-21647">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:86-21647).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[count(cda:low)=1]" id="a-86-21648">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:86-21648).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.14'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.14'])=1" id="a-86-28269">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28269) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.14" (CONF:86-28270).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-21653">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (ValueSet: ProcedureAct statusCode urn:oid:2.16.840.1.113883.11.20.9.22 DYNAMIC) (CONF:86-21653).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.154'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.154'])=1" id="a-86-21651">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21651) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.154" (CONF:86-21652).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M89"/>
</axsl:template>
<axsl:template mode="M89" priority="-1" match="text()"/>
<axsl:template mode="M90" priority="3999" match="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.154']]">
<fired-rule role="" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.154']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.154-errors-CL"/>
<axsl:apply-templates mode="M90"/>
</axsl:template>
<axsl:template mode="M90" priority="-1" match="text()"/>
<axsl:template mode="M91" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.144']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.144']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.144-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-86-21716">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21716).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-21717">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21717).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd='false'"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd='false'" id="a-86-21718">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd="false" (CONF:86-21718).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1" id="a-86-28259">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28259) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:86-28260).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-21723">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-21723).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21724">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21724).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION']" id="a-86-21725">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-21725).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-21726">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-21726).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-21727">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-21727).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-86-21728">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHALL be selected from ValueSet NHSNOccasionOfDetectionCode urn:oid:2.16.840.1.113883.13.12 DYNAMIC (CONF:86-21728).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-22773">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22773).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.144'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.144'])=1" id="a-86-21721">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21721) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.144" (CONF:86-21722).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']" id="a-86-28383">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28383).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M91"/>
</axsl:template>
<axsl:template mode="M91" priority="-1" match="text()"/>
<axsl:template mode="M92" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.144']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.144']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.144-errors-CL"/>
<axsl:apply-templates mode="M92"/>
</axsl:template>
<axsl:template mode="M92" priority="-1" match="text()"/>
<axsl:template mode="M93" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.125']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.125']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.125-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-86-21747">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21747).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-21748">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21748).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd='false'"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd='false'" id="a-86-21749">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd="false" (CONF:86-21749).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1" id="a-86-28231">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28231) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:86-28232).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-21754">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-21754).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21755">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21755).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION']" id="a-86-21756">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-21756).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-21757">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-21757).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-21758">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-21758).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-86-21759">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:86-21759).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@code='236435004']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@code='236435004']" id="a-86-21760">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="236435004" End-stage renal failure, on dialysis (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96 STATIC) (CONF:86-21760).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.169']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.169']])=1])=1" id="a-86-21761">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entryRelationship (CONF:86-21761) such that it SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-21762). SHALL contain exactly one [1..1] Transient Patient Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.169) (CONF:86-21763).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-22747">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22747).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.125'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.125'])=1" id="a-86-21752">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21752) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.125" (CONF:86-21753).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']" id="a-86-28377">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28377).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M93"/>
</axsl:template>
<axsl:template mode="M93" priority="-1" match="text()"/>
<axsl:template mode="M94" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.125']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.125']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.125-errors-CL"/>
<axsl:apply-templates mode="M94"/>
</axsl:template>
<axsl:template mode="M94" priority="-1" match="text()"/>
<axsl:template mode="M95" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.115']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.115']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.115-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-86-21764">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21764).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-21765">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21765).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-86-21766">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:86-21766).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21767">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21767).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION']" id="a-86-21768">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-21768).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-21769">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-21769).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-21770">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-21770).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-86-21771">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:86-21771).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@code='2308-5']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@code='2308-5']" id="a-86-21772">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="2308-5" Buttonhole cannulation (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277 STATIC) (CONF:86-21772).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.13'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.13'])=1" id="a-86-28217">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28217) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.13" (CONF:86-28218).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-21777">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-21777).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-22726">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22726).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.115'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.115'])=1" id="a-86-21775">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21775) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.115" (CONF:86-21776).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']" id="a-86-28372">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28372).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M95"/>
</axsl:template>
<axsl:template mode="M95" priority="-1" match="text()"/>
<axsl:template mode="M96" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.115']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.115']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.115-errors-CL"/>
<axsl:apply-templates mode="M96"/>
</axsl:template>
<axsl:template mode="M96" priority="-1" match="text()"/>
<axsl:template mode="M97" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.134']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.134']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.134-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-86-21796">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21796).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-21797">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21797).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-86-21798">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:86-21798).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1" id="a-86-28243">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28243) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:86-28244).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-21803">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-21803).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21804">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21804).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='2307-7'][@codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='2307-7'][@codeSystem='2.16.840.1.113883.6.277']" id="a-86-21805-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>To record imputability of a positive blood culture to the suspected source of contamination, the value of @code SHALL be 2307-7 Imputability of positive blood culture to the suspected source 2.16.840.1.113883.6.277 cdcNHSN (CONF:86-21805).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-21806">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-21806).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-21807">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-21807).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value)=1" id="a-86-21808">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value (CONF:86-21808).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-86-21809-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>In an Evidence of Infection (Dialysis) Report, (CONF:86-21809).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37']) or (/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37'] and @negationInd='false')"/>
<axsl:otherwise>
<failed-assert role="" test="not(/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37']) or (/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37'] and @negationInd='false')" id="a-86-21810-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of the observation's @negationInd SHALL be 'false' (CONF:86-21810).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37']) or (/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37'] and cda:value[@code='60022001'] [@codeSystem='2.16.840.1.113883.6.96'])"/>
<axsl:otherwise>
<failed-assert role="" test="not(/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37']) or (/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37'] and cda:value[@code='60022001'] [@codeSystem='2.16.840.1.113883.6.96'])" id="a-86-21811-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of @code SHALL be 60022001 Possible 2.16.840.1.113883.6.96 SNOMED CT (CONF:86-21811).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor]" id="a-86-22757">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor (CONF:86-22757).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.134'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.134'])=1" id="a-86-21801">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21801) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.134" (CONF:86-21802).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M97"/>
</axsl:template>
<axsl:template mode="M97" priority="-1" match="text()"/>
<axsl:template mode="M98" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.134']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.134']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.134-errors-CL"/>
<axsl:apply-templates mode="M98"/>
</axsl:template>
<axsl:template mode="M98" priority="-1" match="text()"/>
<axsl:template mode="M99" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-86-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1 STATIC) (CONF:86-21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-86-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:86-21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-86-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:86-21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-86-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:86-21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M99"/>
</axsl:template>
<axsl:template mode="M99" priority="-1" match="text()"/>
<axsl:template mode="M100" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors-CL"/>
<axsl:apply-templates mode="M100"/>
</axsl:template>
<axsl:template mode="M100" priority="-1" match="text()"/>
<axsl:template mode="M101" priority="3999" match="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.128']]">
<fired-rule role="" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.128']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.128-errors"/>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.14'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.14'])=1" id="a-86-28235">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28235) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.14" (CONF:86-28236).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-22162">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-22162).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-22163">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-22163).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-28107">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:86-28107).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.6.96']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.6.96']" id="a-86-28184">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.96" (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96) (CONF:86-28184).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.128'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.128'])=1" id="a-86-22160">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22160) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.128" (CONF:86-22161).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='PROC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='PROC'" id="a-86-21992">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="PROC" Procedure (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21992).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-21993">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21993).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-86-21994">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:86-21994).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21995">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21995).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='423827005']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='423827005']" id="a-86-21996">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="423827005" Endoscopy (CONF:86-21996).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M101"/>
</axsl:template>
<axsl:template mode="M101" priority="-1" match="text()"/>
<axsl:template mode="M102" priority="3999" match="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.128']]">
<fired-rule role="" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.128']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.128-errors-CL"/>
<axsl:apply-templates mode="M102"/>
</axsl:template>
<axsl:template mode="M102" priority="-1" match="text()"/>
<axsl:template mode="M103" priority="3999" match="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.180']]">
<fired-rule role="" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.180']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.180-errors"/>
<axsl:choose>
<axsl:when test="@classCode='CLUSTER'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='CLUSTER'" id="a-86-22101">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="CLUSTER" Cluster (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-22101).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-22102">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-22102).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.180'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.180'])=1" id="a-86-22103">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22103) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.180" (CONF:86-22104).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-22106">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-22106).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-86-22107">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] component (CONF:86-22107).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-23061">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:86-23061).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.119']])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.119']])=1]" id="a-86-23062">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such components SHALL contain exactly one [1..1] Criterion of Diagnosis Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.119) (CONF:86-23062).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M103"/>
</axsl:template>
<axsl:template mode="M103" priority="-1" match="text()"/>
<axsl:template mode="M104" priority="3999" match="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.180']]">
<fired-rule role="" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.180']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.180-errors-CL"/>
<axsl:apply-templates mode="M104"/>
</axsl:template>
<axsl:template mode="M104" priority="-1" match="text()"/>
<axsl:template mode="M105" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.119']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.119']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.119-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-86-22126">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-22126).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-22127">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-22127).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-86-22128">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:86-22128).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.19'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.19'])=1" id="a-86-28221">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28221) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.19" (CONF:86-28222).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-22130">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-22130).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-22131">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-22131).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION']" id="a-86-22132">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-22132).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-22133">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-22133).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-22134">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-22134).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value)=1" id="a-86-22135">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value (CONF:86-22135).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.32' or                                                  @root='2.16.840.1.113883.10.20.5.33' or                                                  @root='2.16.840.1.113883.10.20.5.34'] ) or (/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.32' or                                                  @root='2.16.840.1.113883.10.20.5.33' or                                                  @root='2.16.840.1.113883.10.20.5.34'] and             cda:value[@xsi:type='CD' and  @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3195']/voc:code/@value           ] )"/>
<axsl:otherwise>
<failed-assert role="" test="not(/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.32' or @root='2.16.840.1.113883.10.20.5.33' or @root='2.16.840.1.113883.10.20.5.34'] ) or (/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.32' or @root='2.16.840.1.113883.10.20.5.33' or @root='2.16.840.1.113883.10.20.5.34'] and cda:value[@xsi:type='CD' and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3195']/voc:code/@value ] )" id="a-86-22136-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>In an infection-type report, a criterion is reported as a code. The value of @xsi:type SHALL be CD and the value of @code SHALL be selected from Value Set 2.16.840.1.114222.4.11.3195 NHSNCriterionOfDiagnosisCode DYNAMIC (CONF:86-22136).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-86-22137-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>In an Evidence of Infection (Dialysis) Report, (CONF:86-22137).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37']) or      (/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37'] and              (cda:value[@xsi:type='CD'] and      cda:value[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3195']/voc:code/@value])  or (cda:value[@xsi:type='ST'] and cda:value   )) "/>
<axsl:otherwise>
<failed-assert role="" test="not(/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37']) or (/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37'] and (cda:value[@xsi:type='CD'] and cda:value[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3195']/voc:code/@value]) or (cda:value[@xsi:type='ST'] and cda:value ))" id="a-86-22138-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>To record a criterion of diagnosis as a code, the value of @xsi:type SHALL be CD and the value of @code SHALL be selected from Value Set 2.16.840.1.114222.4.11.3195 NHSNCriterionOfDiagnosisCode DYNAMIC (CONF:86-22138).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-86-22139-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>To record a criterion not included in the NHSNCriterionOfDiagnosisCode value set, the value of @xsi:type SHALL be ST and a text value SHALL be present (CONF:86-22139).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-22736">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22736).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.119'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.119'])=1" id="a-86-22129">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22129) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.119" (CONF:86-22140).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M105"/>
</axsl:template>
<axsl:template mode="M105" priority="-1" match="text()"/>
<axsl:template mode="M106" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.119']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.119']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.119-errors-CL"/>
<axsl:apply-templates mode="M106"/>
</axsl:template>
<axsl:template mode="M106" priority="-1" match="text()"/>
<axsl:template mode="M107" priority="3999" match="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.130']]">
<fired-rule role="" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.130']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.130-errors"/>
<axsl:choose>
<axsl:when test="@classCode='PROC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='PROC'" id="a-86-22141">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="PROC" Procedure (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-22141).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-22142">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-22142).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-86-22143">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:86-22143).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.14'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.14'])=1" id="a-86-28239">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28239) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.14" (CONF:86-28240).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-22146">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-22146).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-22147">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-22147).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='3109-6' and @codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='3109-6' and @codeSystem='2.16.840.1.113883.6.277']" id="a-86-22148">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="3109-6" Hand hygiene (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277 STATIC) (CONF:86-22148).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-22149">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-22149).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-22150">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-22150).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-22752">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22752).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.130'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.130'])=1" id="a-86-22144">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22144) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.130" (CONF:86-22145).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M107"/>
</axsl:template>
<axsl:template mode="M107" priority="-1" match="text()"/>
<axsl:template mode="M108" priority="3999" match="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.130']]">
<fired-rule role="" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.130']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.130-errors-CL"/>
<axsl:apply-templates mode="M108"/>
</axsl:template>
<axsl:template mode="M108" priority="-1" match="text()"/>
<axsl:template mode="M109" priority="3999" match="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.129']]">
<fired-rule role="" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.129']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.129-errors"/>
<axsl:choose>
<axsl:when test="@classCode='PROC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='PROC'" id="a-86-22151">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="PROC" Procedure (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-22151).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-22152">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-22152).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-86-22153">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:86-22153).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.14'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.14'])=1" id="a-86-28237">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28237) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.14" (CONF:86-28238).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-22156">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-22156).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-22157">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-22157).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='3121-1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='3121-1']" id="a-86-22158">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="3121-1" Central line exchanged over guidewire (CONF:86-22158).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-22159">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-22159).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-22751">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22751).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-28108">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:86-28108).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.6.277']" id="a-86-28185">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:86-28185).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.129'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.129'])=1" id="a-86-22154">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22154) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.129" (CONF:86-22155).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M109"/>
</axsl:template>
<axsl:template mode="M109" priority="-1" match="text()"/>
<axsl:template mode="M110" priority="3999" match="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.129']]">
<fired-rule role="" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.129']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.129-errors-CL"/>
<axsl:apply-templates mode="M110"/>
</axsl:template>
<axsl:template mode="M110" priority="-1" match="text()"/>
<axsl:template mode="M111" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.136']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.136']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.136-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-86-22164">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-22164).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-22165">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-22165).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.136'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.136'])=1" id="a-86-22166">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22166) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.136" (CONF:86-22167).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-22168">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-22168).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="(   (cda:id[@root=//cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.139']/cda:id/@root]) and    (cda:id[@extension=//cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.139']/cda:id/@extension]) ) or (   not(cda:id/@extension) and    not(//cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.139']/cda:id/@extension) and   (cda:id[@root=//cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.139']/cda:id/@root]) )"/>
<axsl:otherwise>
<failed-assert role="" test="( (cda:id[@root=//cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.139']/cda:id/@root]) and (cda:id[@extension=//cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.139']/cda:id/@extension]) ) or ( not(cda:id/@extension) and not(//cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.139']/cda:id/@extension) and (cda:id[@root=//cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.139']/cda:id/@root]) )" id="a-86-22169-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of the id SHALL be the same as the value of the id element in the Infection-type Observation (templateId 2.16.840.1.113883.10.20.5.6.139) (CONF:86-22169).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-22170">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-22170).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-22172">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-22172).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-22173">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-22173).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[count(self::node()[@code='ASSERTION'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[count(self::node()[@code='ASSERTION'])=1]" id="a-86-22174">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-22174).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']" id="a-86-28380">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28380).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M111"/>
</axsl:template>
<axsl:template mode="M111" priority="-1" match="text()"/>
<axsl:template mode="M112" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.136']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.136']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.136-errors-CL"/>
<axsl:apply-templates mode="M112"/>
</axsl:template>
<axsl:template mode="M112" priority="-1" match="text()"/>
<axsl:template mode="M113" priority="3999" match="cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.133']]">
<fired-rule role="" context="cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.133']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.133-errors"/>
<axsl:choose>
<axsl:when test="@negationInd or @nullFlavor='UNK'"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd or @nullFlavor='UNK'" id="a-86-22186-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If it is not known whether the outpatient was hospitalized, the value of act/@nullFlavor SHALL be UNK (CONF:86-22186).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='ACT'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='ACT'" id="a-86-22187">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="ACT" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-22187).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-22188">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-22188).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-86-22190-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the outpatient was hospitalized, the value of act/@negationInd SHALL be false. If the outpatient was not hospitalized, the value of act/@negationInd SHALL be true (CONF:86-22190).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.133'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.133'])=1" id="a-86-22191">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22191) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.133" (CONF:86-22192).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-22193">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-22193).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-22194">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-22194).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='32485007' and @codeSystem='2.16.840.1.113883.6.96']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='32485007' and @codeSystem='2.16.840.1.113883.6.96']" id="a-86-22195">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="32485007" Hospital Admission (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96 STATIC) (CONF:86-22195).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-22756">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22756).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M113"/>
</axsl:template>
<axsl:template mode="M113" priority="-1" match="text()"/>
<axsl:template mode="M114" priority="3999" match="cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.133']]">
<fired-rule role="" context="cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.133']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.133-errors-CL"/>
<axsl:apply-templates mode="M114"/>
</axsl:template>
<axsl:template mode="M114" priority="-1" match="text()"/>
<axsl:template mode="M115" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.132']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.132']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.132-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-86-22196">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-22196).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-22197">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-22197).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-86-22198">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:86-22198).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.132'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.132'])=1" id="a-86-22199">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22199) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.132" (CONF:86-22200).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-22201">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-22201).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-22202">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-22202).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION']" id="a-86-22203">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-22203).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-22204">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-22204).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-22205">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-22205).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-86-22206">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:86-22206).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][count(self::node()[@code='2404-2'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][count(self::node()[@code='2404-2'])=1]" id="a-86-22207">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="2404-2" Removed within 48 hours prior (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277 STATIC) (CONF:86-22207).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-22755">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22755).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']" id="a-86-28378">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28378).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M115"/>
</axsl:template>
<axsl:template mode="M115" priority="-1" match="text()"/>
<axsl:template mode="M116" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.132']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.132']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.132-errors-CL"/>
<axsl:apply-templates mode="M116"/>
</axsl:template>
<axsl:template mode="M116" priority="-1" match="text()"/>
<axsl:template mode="M117" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.127']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.127']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.127-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-86-22208">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-22208).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-22209">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-22209).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.127'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.127'])=1" id="a-86-22210">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22210) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.127" (CONF:86-22211).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-22212">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-22212).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='289248003']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='289248003']" id="a-86-22213">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="289248003" Duration of labor (CONF:86-22213).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-22214">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-22214).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-22215">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-22215).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='IVL_TS'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='IVL_TS'])=1" id="a-86-22216">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="IVL_TS" (CONF:86-22216).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='IVL_TS'][count(cda:width)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='IVL_TS'][count(cda:width)=1]" id="a-86-22217">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] width (CONF:86-22217).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='IVL_TS']/cda:width[@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='IVL_TS']/cda:width[@value]" id="a-86-22218">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This width SHALL contain exactly one [1..1] @value (CONF:86-22218).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='IVL_TS']/cda:width[@unit]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='IVL_TS']/cda:width[@unit]" id="a-86-22219">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This width SHALL contain exactly one [1..1] @unit (CONF:86-22219).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value/cda:width/@value &gt;= 0"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value/cda:width/@value &gt;= 0" id="a-86-22221-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of width/@value SHALL be a non-negative real number representation the duration of labor in terms of the units specified in @unit (CONF:86-22221).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.6.96']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.6.96']" id="a-86-28355">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.96" (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96) (CONF:86-28355).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M117"/>
</axsl:template>
<axsl:template mode="M117" priority="-1" match="text()"/>
<axsl:template mode="M118" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.127']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.127']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.127-errors-CL"/>
<axsl:apply-templates mode="M118"/>
</axsl:template>
<axsl:template mode="M118" priority="-1" match="text()"/>
<axsl:template mode="M119" priority="3999" match="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.182']]">
<fired-rule role="" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.182']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.182-errors"/>
<axsl:choose>
<axsl:when test="@classCode='CLUSTER'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='CLUSTER'" id="a-86-22239">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="CLUSTER" Cluster (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-22239).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-22240">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-22240).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.182'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.182'])=1" id="a-86-22241">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22241) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.182" (CONF:86-22242).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-22243">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-22243).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-22244">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-22244).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-22245">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-22245).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.145']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.145']])=1])=1" id="a-86-22246">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:86-22246) such that it SHALL contain exactly one [1..1] Pathogen Identified Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.145) (CONF:86-22247).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.147']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.147']])=1])=1" id="a-86-22248">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:86-22248) such that it SHALL contain exactly one [1..1] Pathogen Ranking Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.147) (CONF:86-22249).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-22770">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22770).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M119"/>
</axsl:template>
<axsl:template mode="M119" priority="-1" match="text()"/>
<axsl:template mode="M120" priority="3999" match="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.182']]">
<fired-rule role="" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.182']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.182-errors-CL"/>
<axsl:apply-templates mode="M120"/>
</axsl:template>
<axsl:template mode="M120" priority="-1" match="text()"/>
<axsl:template mode="M121" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.33']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.33']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.5.33-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-86-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1 STATIC) (CONF:86-21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-86-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:86-21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-86-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:86-21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-86-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:86-21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.33'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.33'])=1" id="a-86-22266">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22266) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.33" (CONF:86-22267).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-22268">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-22268).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51898-5']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51898-5']" id="a-86-22269">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51898-5" Risk Factors Section (CONF:86-22269).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.138']])=1]) = (1 or 2)"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.138']])=1]) = (1 or 2)" id="a-86-23203">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one and not more than 2 entry (CONF:86-23203) such that it SHALL contain exactly one [1..1] Infection Risk Factors Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.138) (CONF:86-23204).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(/cda:ClinicalDocument/cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:code[document('hai_voc.xml')/voc:systems/voc:system/voc:code[@ICU-or-Other='X']/@value=@code]) or (count(cda:entry/cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.138'][cda:value/@code='1002-5' or cda:value/@code='1003-3' or cda:value/@code='1005-8'])=1)"/>
<axsl:otherwise>
<failed-assert role="" test="not(/cda:ClinicalDocument/cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:code[document('hai_voc.xml')/voc:systems/voc:system/voc:code[@ICU-or-Other='X']/@value=@code]) or (count(cda:entry/cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.138'][cda:value/@code='1002-5' or cda:value/@code='1003-3' or cda:value/@code='1005-8'])=1)" id="a-86-23205-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the location type represents an ICU/Other location (ICU or any other location except for SCA or NICU), this entry element SHALL be present containing an Infection Risk Factors Observation representing whether a central line was present (CONF:86-23205).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(/cda:ClinicalDocument/cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:code[document('hai_voc.xml')/voc:systems/voc:system/voc:code[@SCA='X']/@value=@code]) or (count(cda:entry/cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.138'][cda:value/@code='1003-3'])=1 and count(cda:entry/cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.138'][cda:value/@code='1005-8'])=1)"/>
<axsl:otherwise>
<failed-assert role="" test="not(/cda:ClinicalDocument/cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:code[document('hai_voc.xml')/voc:systems/voc:system/voc:code[@SCA='X']/@value=@code]) or (count(cda:entry/cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.138'][cda:value/@code='1003-3'])=1 and count(cda:entry/cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.138'][cda:value/@code='1005-8'])=1)" id="a-86-23206-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the location type represents an SCA location, an entry element SHALL be present containing an Infection Risk Factors Observation representing whether a permanent central line was present, and an entry element containing an Infection Risk Factors Observation representing whether a Temporary Central Line was present (CONF:86-23206).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(/cda:ClinicalDocument/cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:code[document('hai_voc.xml')/voc:systems/voc:system/voc:code[@NICU='X']/@value=@code]) or (count(cda:entry/cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.138'][cda:value/@code='1002-5' or cda:value/@code='1003-3' or cda:value/@code='1005-8'])=1)"/>
<axsl:otherwise>
<failed-assert role="" test="not(/cda:ClinicalDocument/cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:code[document('hai_voc.xml')/voc:systems/voc:system/voc:code[@NICU='X']/@value=@code]) or (count(cda:entry/cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.138'][cda:value/@code='1002-5' or cda:value/@code='1003-3' or cda:value/@code='1005-8'])=1)" id="a-86-23207-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the location type represents an NICU location, an entry element SHALL be present containing an Infection Risk Factors Observation representing whether a central line was present (CONF:86-23207).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(/cda:ClinicalDocument/cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:code[document('hai_voc.xml')/voc:systems/voc:system/voc:code[@NICU='X']/@value=@code]) or (count(cda:entry/cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.137'][cda:code/@code='364589006'])=1)"/>
<axsl:otherwise>
<failed-assert role="" test="not(/cda:ClinicalDocument/cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:code[document('hai_voc.xml')/voc:systems/voc:system/voc:code[@NICU='X']/@value=@code]) or (count(cda:entry/cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.137'][cda:code/@code='364589006'])=1)" id="a-86-23210-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the location type represents an NICU location, an entry element SHALL be present containing an Infection Risk Factors Measurement Observation representing the birth weight (CONF:86-23210).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']" id="a-86-28360">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:86-28360).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M121"/>
</axsl:template>
<axsl:template mode="M121" priority="-1" match="text()"/>
<axsl:template mode="M122" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.33']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.33']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.5.33-errors-CL"/>
<axsl:apply-templates mode="M122"/>
</axsl:template>
<axsl:template mode="M122" priority="-1" match="text()"/>
<axsl:template mode="M123" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.35']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.35']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.5.35-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-86-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1 STATIC) (CONF:86-21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-86-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:86-21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-86-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:86-21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-86-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:86-21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.35'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.35'])=1" id="a-86-22279">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22279) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.35" (CONF:86-22280).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-22281">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-22281).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51898-5']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51898-5']" id="a-86-22282">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51898-5" Risk Factors Section (CONF:86-22282).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.156']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.156']])=1])=1" id="a-86-22283">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:86-22283) such that it SHALL contain exactly one [1..1] Procedure Risk Factors Clinical Statement in a Procedure Report (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.156) (CONF:86-22284).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.170']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.170']])=1])=1" id="a-86-22285">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:86-22285) such that it SHALL contain exactly one [1..1] Trauma Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.170) (CONF:86-22286).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.123']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.123']])=1])=1" id="a-86-22287">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:86-22287) such that it SHALL contain exactly one [1..1] Diabetes Mellitus Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.123) (CONF:86-22288).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.131']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.131']])=1])=1" id="a-86-22289">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:86-22289) such that it SHALL contain exactly one [1..1] Height Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.131) (CONF:86-22290).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.173']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.173']])=1])=1" id="a-86-22291">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:86-22291) such that it SHALL contain exactly one [1..1] Weight Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.173) (CONF:86-22292).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(/cda:ClinicalDocument/cda:componentOf/cda:encompassingEncounter/cda:code[@code='IMP']) or (/cda:ClinicalDocument/cda:componentOf/cda:encompassingEncounter/cda:code[@code='IMP'] and cda:entry/cda:observation/cda:templateId[@root='2.16.840.1.113883.10.20.5.6.113'])"/>
<axsl:otherwise>
<failed-assert role="" test="not(/cda:ClinicalDocument/cda:componentOf/cda:encompassingEncounter/cda:code[@code='IMP']) or (/cda:ClinicalDocument/cda:componentOf/cda:encompassingEncounter/cda:code[@code='IMP'] and cda:entry/cda:observation/cda:templateId[@root='2.16.840.1.113883.10.20.5.6.113'])" id="a-86-23213-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the patient is an inpatient (componentOf/encompassingEncounter/code/@code="IMP"), an entry element SHALL be present containing an ASA Class Observation (CONF:86-23213).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(//*[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.43']][cda:entry/cda:procedure/cda:code[@code='2115-4']]) or (//*[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.43']][cda:entry/cda:procedure/cda:code[@code='2115-4']] and cda:entry/cda:observation/cda:templateId[@root='2.16.840.1.113883.10.20.5.6.127'])"/>
<axsl:otherwise>
<failed-assert role="" test="not(//*[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.43']][cda:entry/cda:procedure/cda:code[@code='2115-4']]) or (//*[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.43']][cda:entry/cda:procedure/cda:code[@code='2115-4']] and cda:entry/cda:observation/cda:templateId[@root='2.16.840.1.113883.10.20.5.6.127'])" id="a-86-23216-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the procedure, recorded in the Details Section of the report, was a Cesarean (code/@code is 2115-4), an entry element SHALL be present containing a Duration of Labor Observation (CONF:86-23216).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']" id="a-86-28361">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:86-28361).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M123"/>
</axsl:template>
<axsl:template mode="M123" priority="-1" match="text()"/>
<axsl:template mode="M124" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.35']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.35']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.5.35-errors-CL"/>
<axsl:apply-templates mode="M124"/>
</axsl:template>
<axsl:template mode="M124" priority="-1" match="text()"/>
<axsl:template mode="M125" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.36']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.36']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.5.36-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-86-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1 STATIC) (CONF:86-21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-86-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:86-21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-86-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:86-21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-86-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:86-21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-22296">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-22296).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51898-5']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51898-5']" id="a-86-22297">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51898-5" Risk Factors Section (CONF:86-22297).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry)=1" id="a-86-22298">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:86-22298).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.171']])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.171']])=1]" id="a-86-22299">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This entry SHALL contain exactly one [1..1] Urinary Catheter Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.171) (CONF:86-22299).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.36'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.36'])=1" id="a-86-22300">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22300) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.36" (CONF:86-22301).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']" id="a-86-28362">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:86-28362).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M125"/>
</axsl:template>
<axsl:template mode="M125" priority="-1" match="text()"/>
<axsl:template mode="M126" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.36']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.36']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.5.36-errors-CL"/>
<axsl:apply-templates mode="M126"/>
</axsl:template>
<axsl:template mode="M126" priority="-1" match="text()"/>
<axsl:template mode="M127" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.38']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.38']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.5.38-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-86-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1 STATIC) (CONF:86-21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-86-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:86-21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-86-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:86-21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-86-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:86-21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.38'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.38'])=1" id="a-86-22310">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22310) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.38" (CONF:86-22311).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-22312">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-22312).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51899-3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51899-3']" id="a-86-22313">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51899-3" Details Section (CONF:86-22313).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.139']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.139']])=1])=1" id="a-86-22314">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:86-22314) such that it SHALL contain exactly one [1..1] Infection-Type Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.139) (CONF:86-22315).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']" id="a-86-28358">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:86-28358).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M127"/>
</axsl:template>
<axsl:template mode="M127" priority="-1" match="text()"/>
<axsl:template mode="M128" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.38']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.38']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.5.38-errors-CL"/>
<axsl:apply-templates mode="M128"/>
</axsl:template>
<axsl:template mode="M128" priority="-1" match="text()"/>
<axsl:template mode="M129" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.40']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.40']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.5.40-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-86-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1 STATIC) (CONF:86-21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-86-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:86-21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-86-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:86-21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-86-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:86-21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.40'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.40'])=1" id="a-86-22328">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22328) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.40" (CONF:86-22329).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-22330">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-22330).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51899-3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51899-3']" id="a-86-22331">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51899-3" Details Section (CONF:86-22331).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.139']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.139']])=1])=1" id="a-86-22332">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:86-22332) such that it SHALL contain exactly one [1..1] Infection-Type Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.139) (CONF:86-22333).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']" id="a-86-28359">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:86-28359).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M129"/>
</axsl:template>
<axsl:template mode="M129" priority="-1" match="text()"/>
<axsl:template mode="M130" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.40']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.40']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.5.40-errors-CL"/>
<axsl:apply-templates mode="M130"/>
</axsl:template>
<axsl:template mode="M130" priority="-1" match="text()"/>
<axsl:template mode="M131" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.42']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.42']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.5.42-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-86-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1 STATIC) (CONF:86-21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-86-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:86-21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-86-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:86-21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-86-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:86-21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.42'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.42'])=1" id="a-86-22352">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22352) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.42" (CONF:86-22353).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-22354">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-22354).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51899-3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51899-3']" id="a-86-22355">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51899-3" Details Section (CONF:86-22355).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry)=1" id="a-86-22356">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:86-22356).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entry[count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.155']])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entry[count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.155']])=1]" id="a-86-22357">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This entry SHALL contain exactly one [1..1] Procedure Details Clinical Statement in a CLIP Report (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.155) (CONF:86-22357).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']" id="a-86-28363">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:86-28363).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M131"/>
</axsl:template>
<axsl:template mode="M131" priority="-1" match="text()"/>
<axsl:template mode="M132" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.42']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.42']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.5.42-errors-CL"/>
<axsl:apply-templates mode="M132"/>
</axsl:template>
<axsl:template mode="M132" priority="-1" match="text()"/>
<axsl:template mode="M133" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.45']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.45']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.5.45-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-86-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1 STATIC) (CONF:86-21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-86-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:86-21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-86-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:86-21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-86-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:86-21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.45'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.45'])=1" id="a-86-22371">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22371) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.45" (CONF:86-22372).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-22373">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-22373).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='18769-0']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='18769-0']" id="a-86-22374">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="18769-0" Findings Section (CONF:86-22374).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(not(cda:entry/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.145'])) or (cda:entry/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.182'])"/>
<axsl:otherwise>
<failed-assert role="" test="not(not(cda:entry/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.145'])) or (cda:entry/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.182'])" id="a-86-23050-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If pathogens were identified, the Findings Section SHALL contain at least one and no more than three entry elements containing a Findings Organizer reporting pathogens identified (CONF:86-23050).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(not(cda:entry/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.182'])) or (cda:entry/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.145'])"/>
<axsl:otherwise>
<failed-assert role="" test="not(not(cda:entry/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.182'])) or (cda:entry/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.145'])" id="a-86-23053-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If no pathogens were identified, the Findings Section SHALL contain a single entry element containing a Pathogen Identified Observation reporting that no pathogens were identified (CONF:86-23053).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-86-23056-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If pathogens were identified, and the report is not an EOID Report, an entry element SHALL be present, containing an MDRO/CDI Observation (CONF:86-23056).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']" id="a-86-28357">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:86-28357).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M133"/>
</axsl:template>
<axsl:template mode="M133" priority="-1" match="text()"/>
<axsl:template mode="M134" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.45']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.45']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.5.45-errors-CL"/>
<axsl:apply-templates mode="M134"/>
</axsl:template>
<axsl:template mode="M134" priority="-1" match="text()"/>
<axsl:template mode="M135" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.47']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.47']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.5.47-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-86-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1 STATIC) (CONF:86-21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-86-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:86-21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-86-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:86-21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-86-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:86-21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.47'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.47'])=1" id="a-86-22386">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22386) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.47" (CONF:86-22387).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-22388">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-22388).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51900-9']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51900-9']" id="a-86-22389">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51900-9" Summary Data Section (CONF:86-22389).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-86-22390">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:86-22390).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entry[count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.184']])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entry[count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.184']])=1]" id="a-86-22391">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such entries SHALL contain exactly one [1..1] Summary Encounter (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.184) (CONF:86-22391).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']" id="a-86-28365">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:86-28365).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M135"/>
</axsl:template>
<axsl:template mode="M135" priority="-1" match="text()"/>
<axsl:template mode="M136" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.47']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.47']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.5.47-errors-CL"/>
<axsl:apply-templates mode="M136"/>
</axsl:template>
<axsl:template mode="M136" priority="-1" match="text()"/>
<axsl:template mode="M137" priority="3999" match="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.184']]">
<fired-rule role="" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.184']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.184-errors"/>
<axsl:choose>
<axsl:when test="@classCode='ENC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='ENC'" id="a-86-22392">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="ENC" Encounter (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-22392).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-22393">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-22393).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.184'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.184'])=1" id="a-86-22394">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22394) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.184" (CONF:86-22395).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='LOC'][count(cda:participantRole[@classCode='SDLOC'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='LOC'][count(cda:participantRole[@classCode='SDLOC'])=1])=1" id="a-86-22397">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:86-22397) such that it SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:86-22398). SHALL contain exactly one [1..1] participantRole (CONF:86-22399). This participantRole SHALL contain exactly one [1..1] @classCode="SDLOC" Service Delivery Location (CodeSystem: EntityClass urn:oid:2.16.840.1.113883.5.41 STATIC) (CONF:86-22400).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="(cda:participant/cda:participantRole[cda:id[@root and @extension] and cda:code])  or cda:participant/cda:participantRole/cda:id[@root and not(@extension)] or (cda:participant/cda:participantRole/cda:code and cda:participant/cda:participantRole/cda:scopingEntity[@classCode='PLC'][cda:id[@root]])"/>
<axsl:otherwise>
<failed-assert role="" test="(cda:participant/cda:participantRole[cda:id[@root and @extension] and cda:code]) or cda:participant/cda:participantRole/cda:id[@root and not(@extension)] or (cda:participant/cda:participantRole/cda:code and cda:participant/cda:participantRole/cda:scopingEntity[@classCode='PLC'][cda:id[@root]])" id="a-86-22401-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If recording data from an in-facility location, the participantRole element shall contain an id element with both @root and @extension, and a code element where the value is selected from ValueSet NHSNHealthcareServiceLocationCode 2.16.840.1.113883.13.19 DYNAMIC, recording the type of location (CONF:86-22401).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-86-22402-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Or, if recording data from the whole facility, the participantRole element shall contain an id element with @root (CONF:86-22402).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-86-22403-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Or, if recording data from a specialized subset of a facility, the participantRole element shall contain a code element where the value is selected from ValueSet NHSNHealthcareServiceLocationCode 2.16.840.1.113883.13.19 DYNAMIC, recording the type of location, and a scopingEntity element where the value of @classCode is PLC and id/@root is present (CONF:86-22403).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship) &gt; 0" id="a-86-22404">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entryRelationship (CONF:86-22404).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship[@typeCode='COMP']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship[@typeCode='COMP']" id="a-86-22405">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such entryRelationships SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-22405).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.185']])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.185']])=1]" id="a-86-22406">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such entryRelationships SHALL contain exactly one [1..1] Summary Data Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.185) (CONF:86-22406).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M137"/>
</axsl:template>
<axsl:template mode="M137" priority="-1" match="text()"/>
<axsl:template mode="M138" priority="3999" match="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.184']]">
<fired-rule role="" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.184']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.184-errors-CL"/>
<axsl:apply-templates mode="M138"/>
</axsl:template>
<axsl:template mode="M138" priority="-1" match="text()"/>
<axsl:template mode="M139" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.185']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.185']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.185-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-86-22407">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:86-22407).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-22408">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:86-22408).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.185'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.185'])=1" id="a-86-22409">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22409) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.185" (CONF:86-22410).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-22411">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-22411).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-22412">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-22412).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value)=1" id="a-86-22413">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value (CONF:86-22413).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="(cda:value/@xsi:type='PQ' and cda:value/@unit='d') or (cda:value/@xsi:type='INT') or (cda:value/@xsi:type='CD')"/>
<axsl:otherwise>
<failed-assert role="" test="(cda:value/@xsi:type='PQ' and cda:value/@unit='d') or (cda:value/@xsi:type='INT') or (cda:value/@xsi:type='CD')" id="a-86-26183-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the observation reports a number of days, the value of value/xsi:type SHALL be PQ and the value of value/@unit SHALL be d. If the observation reports a number of patients, episodes or events the value of value/@xsi:type SHALL be INT. If the value is a code, the value of value/@xsi:type SHALL be CD (CONF:86-26183).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-28189">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:86-28189).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M139"/>
</axsl:template>
<axsl:template mode="M139" priority="-1" match="text()"/>
<axsl:template mode="M140" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.185']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.185']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.185-errors-CL"/>
<axsl:apply-templates mode="M140"/>
</axsl:template>
<axsl:template mode="M140" priority="-1" match="text()"/>
<axsl:template mode="M141" priority="3999" match="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27']]">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.4.27-errors"/>
<axsl:choose>
<axsl:when test="count(cda:realmCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:realmCode)=1" id="a-86-18431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] realmCode (CONF:86-18431).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:realmCode[count(self::node()[@code='US'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:realmCode[count(self::node()[@code='US'])=1]" id="a-86-18432">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This realmCode SHALL contain exactly one [1..1] @code="US" (CONF:86-18432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-18433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-18433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51897-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51897-7']" id="a-86-18434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51897-7" Healthcare Associated Infection Report (CONF:86-18434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-18435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-18435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-86-18436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:86-18436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:confidentialityCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:confidentialityCode)=1" id="a-86-18437-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] confidentialityCode (CONF:86-18437).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:confidentialityCode[count(self::node()[@code='N'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:confidentialityCode[count(self::node()[@code='N'])=1]" id="a-86-18438">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This confidentialityCode SHALL contain exactly one [1..1] @code="N" Normal (CodeSystem: ConfidentialityCode urn:oid:2.16.840.1.113883.5.25 STATIC) (CONF:86-18438).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:languageCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:languageCode)=1" id="a-86-18439">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] languageCode (CONF:86-18439).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:languageCode[@code='en-US']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:languageCode[@code='en-US']" id="a-86-18440">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This languageCode SHALL contain exactly one [1..1] @code="en-US" (CONF:86-18440).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:setId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:setId)=1" id="a-86-18441">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] setId (CONF:86-18441).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:versionNumber)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:versionNumber)=1" id="a-86-18442">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] versionNumber (CONF:86-18442).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:custodian)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:custodian)=1" id="a-86-18443">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] custodian (CONF:86-18443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian[count(cda:assignedCustodian)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian[count(cda:assignedCustodian)=1]" id="a-86-18444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This custodian SHALL contain exactly one [1..1] assignedCustodian (CONF:86-18444).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]" id="a-86-18445">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedCustodian SHALL contain exactly one [1..1] representedCustodianOrganization (CONF:86-18445).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]" id="a-86-18446">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This representedCustodianOrganization SHALL contain exactly one [1..1] id (CONF:86-18446).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']" id="a-86-18447">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root="2.16.840.1.114222.4.3.2.11" (CONF:86-18447).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-86-18448">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:86-18448).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-86-18449">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:86-18449).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-18450-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The structuredBody element SHALL contain a component element for each section required by the particular report type. Additional sections may be present but their content will not be processed by NHSN (CONF:86-18450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1" id="a-86-18460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-18460) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.25" (CONF:86-18461).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:typeId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:typeId)=1" id="a-86-18463">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] typeId (CONF:86-18463).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@root='2.16.840.1.113883.1.3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@root='2.16.840.1.113883.1.3']" id="a-86-18464">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @root="2.16.840.1.113883.1.3" (CONF:86-18464).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@extension='POCD_HD000040']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@extension='POCD_HD000040']" id="a-86-18465">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @extension="POCD_HD000040" (CONF:86-18465).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-18466-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-18466).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']" id="a-86-18470">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] @typeCode="RPLC" replace (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-18470).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-18471-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If versionNumber/@value is greater than 1, a relatedDocument element SHALL be present (CONF:86-18471).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget) &gt; 0" id="a-86-18472-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] recordTarget (CONF:86-18472).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:author) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:author) &gt; 0" id="a-86-18473-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] author (CONF:86-18473).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-86-18475-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain at least one [1..*] component (CONF:86-18475).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem]" id="a-86-27413">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:86-27413).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[count(cda:parentDocument)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[count(cda:parentDocument)=1]" id="a-86-28401">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] parentDocument (CONF:86-28401).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument/cda:parentDocument) or cda:relatedDocument/cda:parentDocument[count(cda:id) &gt; 0]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument/cda:parentDocument) or cda:relatedDocument/cda:parentDocument[count(cda:id) &gt; 0]" id="a-86-28402">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This parentDocument SHALL contain at least one [1..*] id (CONF:86-28402).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-28403-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of id SHALL be populated with the ClinicalDocument/id of the document being replaced (CONF:86-28403).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27'])=1" id="a-86-22415">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22415) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.27" (CONF:86-22416).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget)=1" id="a-86-22417">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] recordTarget (CONF:86-22417).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget[count(cda:patientRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget[count(cda:patientRole)=1]" id="a-86-22418">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This recordTarget SHALL contain exactly one [1..1] patientRole (CONF:86-22418).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:id) &gt; 0]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:id) &gt; 0]" id="a-86-22419">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain at least one [1..*] id (CONF:86-22419).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@root]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@root]" id="a-86-22420">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @root (CONF:86-22420).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@extension]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@extension]" id="a-86-22421">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @extension (CONF:86-22421).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:patient)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:patient)=1]" id="a-86-22422">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain exactly one [1..1] patient (CONF:86-22422).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:administrativeGenderCode)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:administrativeGenderCode)=1]" id="a-86-22424">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patient SHALL contain exactly one [1..1] administrativeGenderCode (CONF:86-22424).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient/cda:administrativeGenderCode[@code and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.1.11.1']/voc:code/@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient/cda:administrativeGenderCode[@code and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.1.11.1']/voc:code/@value]" id="a-86-22425">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This administrativeGenderCode SHALL contain exactly one [1..1] @code, which SHALL be selected from ValueSet Administrative Gender (HL7 V3) urn:oid:2.16.840.1.113883.1.11.1 STATIC (CONF:86-22425).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:birthTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:birthTime)=1]" id="a-86-22426">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patient SHALL contain exactly one [1..1] birthTime (CONF:86-22426).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient/cda:birthTime[@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient/cda:birthTime[@value]" id="a-86-22427">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This birthTime SHALL contain exactly one [1..1] @value (CONF:86-22427).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M141"/>
</axsl:template>
<axsl:template mode="M141" priority="-1" match="text()"/>
<axsl:template mode="M142" priority="3999" match="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.4.28']]">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.4.28']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.4.28-errors"/>
<axsl:choose>
<axsl:when test="count(cda:realmCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:realmCode)=1" id="a-86-18431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] realmCode (CONF:86-18431).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:realmCode[count(self::node()[@code='US'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:realmCode[count(self::node()[@code='US'])=1]" id="a-86-18432">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This realmCode SHALL contain exactly one [1..1] @code="US" (CONF:86-18432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-18433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-18433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51897-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51897-7']" id="a-86-18434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51897-7" Healthcare Associated Infection Report (CONF:86-18434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-18435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-18435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-86-18436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:86-18436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:confidentialityCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:confidentialityCode)=1" id="a-86-18437-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] confidentialityCode (CONF:86-18437).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:confidentialityCode[count(self::node()[@code='N'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:confidentialityCode[count(self::node()[@code='N'])=1]" id="a-86-18438">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This confidentialityCode SHALL contain exactly one [1..1] @code="N" Normal (CodeSystem: ConfidentialityCode urn:oid:2.16.840.1.113883.5.25 STATIC) (CONF:86-18438).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:languageCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:languageCode)=1" id="a-86-18439">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] languageCode (CONF:86-18439).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:languageCode[@code='en-US']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:languageCode[@code='en-US']" id="a-86-18440">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This languageCode SHALL contain exactly one [1..1] @code="en-US" (CONF:86-18440).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:setId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:setId)=1" id="a-86-18441">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] setId (CONF:86-18441).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:versionNumber)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:versionNumber)=1" id="a-86-18442">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] versionNumber (CONF:86-18442).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:custodian)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:custodian)=1" id="a-86-18443">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] custodian (CONF:86-18443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian[count(cda:assignedCustodian)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian[count(cda:assignedCustodian)=1]" id="a-86-18444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This custodian SHALL contain exactly one [1..1] assignedCustodian (CONF:86-18444).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]" id="a-86-18445">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedCustodian SHALL contain exactly one [1..1] representedCustodianOrganization (CONF:86-18445).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]" id="a-86-18446">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This representedCustodianOrganization SHALL contain exactly one [1..1] id (CONF:86-18446).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']" id="a-86-18447">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root="2.16.840.1.114222.4.3.2.11" (CONF:86-18447).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-86-18448">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:86-18448).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-86-18449">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:86-18449).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-18450-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The structuredBody element SHALL contain a component element for each section required by the particular report type. Additional sections may be present but their content will not be processed by NHSN (CONF:86-18450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1" id="a-86-18460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-18460) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.25" (CONF:86-18461).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:typeId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:typeId)=1" id="a-86-18463">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] typeId (CONF:86-18463).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@root='2.16.840.1.113883.1.3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@root='2.16.840.1.113883.1.3']" id="a-86-18464">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @root="2.16.840.1.113883.1.3" (CONF:86-18464).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@extension='POCD_HD000040']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@extension='POCD_HD000040']" id="a-86-18465">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @extension="POCD_HD000040" (CONF:86-18465).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-18466-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-18466).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']" id="a-86-18470">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] @typeCode="RPLC" replace (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-18470).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-18471-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If versionNumber/@value is greater than 1, a relatedDocument element SHALL be present (CONF:86-18471).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget) &gt; 0" id="a-86-18472-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] recordTarget (CONF:86-18472).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:author) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:author) &gt; 0" id="a-86-18473-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] author (CONF:86-18473).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-86-18475-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain at least one [1..*] component (CONF:86-18475).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem]" id="a-86-27413">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:86-27413).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[count(cda:parentDocument)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[count(cda:parentDocument)=1]" id="a-86-28401">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] parentDocument (CONF:86-28401).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument/cda:parentDocument) or cda:relatedDocument/cda:parentDocument[count(cda:id) &gt; 0]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument/cda:parentDocument) or cda:relatedDocument/cda:parentDocument[count(cda:id) &gt; 0]" id="a-86-28402">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This parentDocument SHALL contain at least one [1..*] id (CONF:86-28402).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-28403-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of id SHALL be populated with the ClinicalDocument/id of the document being replaced (CONF:86-28403).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.28'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.28'])=1" id="a-86-22431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22431) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.28" (CONF:86-22432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget)=1" id="a-86-22433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] recordTarget (CONF:86-22433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget[count(cda:patientRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget[count(cda:patientRole)=1]" id="a-86-22434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This recordTarget SHALL contain exactly one [1..1] patientRole (CONF:86-22434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:id)=1]" id="a-86-22435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain exactly one [1..1] id (CONF:86-22435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@nullFlavor='NA']" id="a-86-22436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" not applicable (CONF:86-22436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='SBJ'][@contextControlCode='OP'][count(cda:associatedEntity[@classCode='PRS'][count(cda:code[@code='389109008'])=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='SBJ'][@contextControlCode='OP'][count(cda:associatedEntity[@classCode='PRS'][count(cda:code[@code='389109008'])=1])=1])=1" id="a-86-22437">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:86-22437) such that it SHALL contain exactly one [1..1] @typeCode="SBJ" Subject (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:86-22438). SHALL contain exactly one [1..1] @contextControlCode="OP" (CodeSystem: HL7 Context Control Code urn:oid:2.16.840.1.113883.5.1057 STATIC) (CONF:86-22439). SHALL contain exactly one [1..1] associatedEntity (CONF:86-22440). This associatedEntity SHALL contain exactly one [1..1] @classCode="PRS" Person (CodeSystem: EntityClass urn:oid:2.16.840.1.113883.5.41 STATIC) (CONF:86-22441). This associatedEntity SHALL contain exactly one [1..1] code (CONF:86-22442). This code SHALL contain exactly one [1..1] @code="389109008" Group (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96 STATIC) (CONF:86-22443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='LOC'][@contextControlCode='OP'][count(cda:associatedEntity[@classCode='SDLOC'][count(cda:id[@root])=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='LOC'][@contextControlCode='OP'][count(cda:associatedEntity[@classCode='SDLOC'][count(cda:id[@root])=1])=1])=1" id="a-86-22444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:86-22444) such that it SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:86-22445). SHALL contain exactly one [1..1] @contextControlCode="OP" (CodeSystem: HL7 Context Control Code urn:oid:2.16.840.1.113883.5.1057 STATIC) (CONF:86-22446). SHALL contain exactly one [1..1] associatedEntity (CONF:86-22447). This associatedEntity SHALL contain exactly one [1..1] @classCode="SDLOC" Service delivery location (CodeSystem: RoleClass urn:oid:2.16.840.1.113883.5.110 STATIC) (CONF:86-22448). This associatedEntity SHALL contain exactly one [1..1] id (CONF:86-22449). This id SHALL contain exactly one [1..1] @root (CONF:86-22450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:documentationOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:documentationOf)=1" id="a-86-22451">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] documentationOf (CONF:86-22451).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf[count(cda:serviceEvent)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf[count(cda:serviceEvent)=1]" id="a-86-22452">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:86-22452).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[@classCode='CASE']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[@classCode='CASE']" id="a-86-22453">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] @classCode="CASE" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-22453).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3595']/voc:code/@value or @nullFlavor])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3595']/voc:code/@value or @nullFlavor])=1]" id="a-86-22454">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNPopulationSummaryReportTypeCode urn:oid:2.16.840.1.114222.4.11.3595 STATIC (CONF:86-22454).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:effectiveTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:effectiveTime)=1]" id="a-86-22456">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] effectiveTime (CONF:86-22456).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:low)=1]" id="a-86-22457">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:86-22457).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:high)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:high)=1]" id="a-86-22458">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] high (CONF:86-22458).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-86-22459-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The author SHALL represent the software forming the message (CONF:86-22459).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M142"/>
</axsl:template>
<axsl:template mode="M142" priority="-1" match="text()"/>
<axsl:template mode="M143" priority="3999" match="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.32']]">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.32']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.32-errors"/>
<axsl:choose>
<axsl:when test="count(cda:realmCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:realmCode)=1" id="a-86-18431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] realmCode (CONF:86-18431).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:realmCode[count(self::node()[@code='US'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:realmCode[count(self::node()[@code='US'])=1]" id="a-86-18432">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This realmCode SHALL contain exactly one [1..1] @code="US" (CONF:86-18432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-18433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-18433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51897-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51897-7']" id="a-86-18434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51897-7" Healthcare Associated Infection Report (CONF:86-18434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-18435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-18435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-86-18436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:86-18436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:confidentialityCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:confidentialityCode)=1" id="a-86-18437-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] confidentialityCode (CONF:86-18437).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:confidentialityCode[count(self::node()[@code='N'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:confidentialityCode[count(self::node()[@code='N'])=1]" id="a-86-18438">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This confidentialityCode SHALL contain exactly one [1..1] @code="N" Normal (CodeSystem: ConfidentialityCode urn:oid:2.16.840.1.113883.5.25 STATIC) (CONF:86-18438).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:languageCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:languageCode)=1" id="a-86-18439">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] languageCode (CONF:86-18439).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:languageCode[@code='en-US']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:languageCode[@code='en-US']" id="a-86-18440">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This languageCode SHALL contain exactly one [1..1] @code="en-US" (CONF:86-18440).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:setId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:setId)=1" id="a-86-18441">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] setId (CONF:86-18441).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:versionNumber)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:versionNumber)=1" id="a-86-18442">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] versionNumber (CONF:86-18442).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:custodian)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:custodian)=1" id="a-86-18443">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] custodian (CONF:86-18443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian[count(cda:assignedCustodian)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian[count(cda:assignedCustodian)=1]" id="a-86-18444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This custodian SHALL contain exactly one [1..1] assignedCustodian (CONF:86-18444).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]" id="a-86-18445">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedCustodian SHALL contain exactly one [1..1] representedCustodianOrganization (CONF:86-18445).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]" id="a-86-18446">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This representedCustodianOrganization SHALL contain exactly one [1..1] id (CONF:86-18446).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']" id="a-86-18447">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root="2.16.840.1.114222.4.3.2.11" (CONF:86-18447).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-86-18448">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:86-18448).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-86-18449">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:86-18449).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-18450-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The structuredBody element SHALL contain a component element for each section required by the particular report type. Additional sections may be present but their content will not be processed by NHSN (CONF:86-18450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1" id="a-86-18460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-18460) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.25" (CONF:86-18461).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:typeId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:typeId)=1" id="a-86-18463">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] typeId (CONF:86-18463).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@root='2.16.840.1.113883.1.3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@root='2.16.840.1.113883.1.3']" id="a-86-18464">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @root="2.16.840.1.113883.1.3" (CONF:86-18464).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@extension='POCD_HD000040']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@extension='POCD_HD000040']" id="a-86-18465">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @extension="POCD_HD000040" (CONF:86-18465).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-18466-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-18466).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']" id="a-86-18470">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] @typeCode="RPLC" replace (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-18470).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-18471-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If versionNumber/@value is greater than 1, a relatedDocument element SHALL be present (CONF:86-18471).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget) &gt; 0" id="a-86-18472-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] recordTarget (CONF:86-18472).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:author) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:author) &gt; 0" id="a-86-18473-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] author (CONF:86-18473).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-86-18475-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain at least one [1..*] component (CONF:86-18475).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem]" id="a-86-27413">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:86-27413).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[count(cda:parentDocument)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[count(cda:parentDocument)=1]" id="a-86-28401">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] parentDocument (CONF:86-28401).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument/cda:parentDocument) or cda:relatedDocument/cda:parentDocument[count(cda:id) &gt; 0]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument/cda:parentDocument) or cda:relatedDocument/cda:parentDocument[count(cda:id) &gt; 0]" id="a-86-28402">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This parentDocument SHALL contain at least one [1..*] id (CONF:86-28402).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-28403-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of id SHALL be populated with the ClinicalDocument/id of the document being replaced (CONF:86-28403).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27'])=1" id="a-86-22415">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22415) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.27" (CONF:86-22416).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget)=1" id="a-86-22417">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] recordTarget (CONF:86-22417).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget[count(cda:patientRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget[count(cda:patientRole)=1]" id="a-86-22418">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This recordTarget SHALL contain exactly one [1..1] patientRole (CONF:86-22418).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:id) &gt; 0]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:id) &gt; 0]" id="a-86-22419">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain at least one [1..*] id (CONF:86-22419).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@root]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@root]" id="a-86-22420">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @root (CONF:86-22420).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@extension]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@extension]" id="a-86-22421">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @extension (CONF:86-22421).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:patient)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:patient)=1]" id="a-86-22422">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain exactly one [1..1] patient (CONF:86-22422).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:administrativeGenderCode)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:administrativeGenderCode)=1]" id="a-86-22424">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patient SHALL contain exactly one [1..1] administrativeGenderCode (CONF:86-22424).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient/cda:administrativeGenderCode[@code and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.1.11.1']/voc:code/@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient/cda:administrativeGenderCode[@code and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.1.11.1']/voc:code/@value]" id="a-86-22425">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This administrativeGenderCode SHALL contain exactly one [1..1] @code, which SHALL be selected from ValueSet Administrative Gender (HL7 V3) urn:oid:2.16.840.1.113883.1.11.1 STATIC (CONF:86-22425).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:birthTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:birthTime)=1]" id="a-86-22426">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patient SHALL contain exactly one [1..1] birthTime (CONF:86-22426).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient/cda:birthTime[@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient/cda:birthTime[@value]" id="a-86-22427">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This birthTime SHALL contain exactly one [1..1] @value (CONF:86-22427).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.1'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.1'])=1" id="a-86-28307">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28307) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.7.1" (CONF:86-28308).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:componentOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:componentOf)=1" id="a-86-22462">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] componentOf (CONF:86-22462).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf[count(cda:encompassingEncounter)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf[count(cda:encompassingEncounter)=1]" id="a-86-22463">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This componentOf SHALL contain exactly one [1..1] encompassingEncounter (CONF:86-22463).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter[count(cda:effectiveTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter[count(cda:effectiveTime)=1]" id="a-86-22464">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This encompassingEncounter SHALL contain exactly one [1..1] effectiveTime (CONF:86-22464).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime[count(cda:low)=1]" id="a-86-22465">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:86-22465).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:low[@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:low[@value]" id="a-86-22466">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This low SHALL contain exactly one [1..1] @value (CONF:86-22466).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:high) or cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:high[@value]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:high) or cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:high[@value]" id="a-86-22468">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The high, if present, SHALL contain exactly one [1..1] @value (CONF:86-22468).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]" id="a-86-22469">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This encompassingEncounter SHALL contain exactly one [1..1] location (CONF:86-22469).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]" id="a-86-22470">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This location SHALL contain exactly one [1..1] healthCareFacility (CONF:86-22470).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]" id="a-86-22471">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This healthCareFacility SHALL contain exactly one [1..1] id (CONF:86-22471).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]" id="a-86-22472">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root (CONF:86-22472).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@extension]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@extension]" id="a-86-22473">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @extension (CONF:86-22473).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:code)=1]" id="a-86-22474">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This healthCareFacility SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNHealthcareServiceLocationCode urn:oid:2.16.840.1.113883.13.19 DYNAMIC (CONF:86-22474).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-86-22476">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:86-22476).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-86-22477">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:86-22477).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.33']])=1])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.33']])=1])=1]" id="a-86-22478">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:86-22478) such that it SHALL contain exactly one [1..1] Infection Risk Factors Section in a BSI Report (identifier: urn:oid:2.16.840.1.113883.10.20.5.5.33) (CONF:86-22479).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.38']])=1])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.38']])=1])=1]" id="a-86-22480">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:86-22480) such that it SHALL contain exactly one [1..1] Infection Details Section in a BSI Report (identifier: urn:oid:2.16.840.1.113883.10.20.5.5.38) (CONF:86-22481).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.45']])=1])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.45']])=1])=1]" id="a-86-22482">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:86-22482) such that it SHALL contain exactly one [1..1] Findings Section in an Infection-Type Report (identifier: urn:oid:2.16.840.1.113883.10.20.5.5.45) (CONF:86-22483).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-86-23359-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of the admission date SHALL NOT be earlier than January 1, 1986; SHALL NOT be earlier than the date of birth; and SHALL NOT be later than the event date (CONF:86-23359).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.32'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.32'])=1" id="a-86-22460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22460) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.32" (CONF:86-22461).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M143"/>
</axsl:template>
<axsl:template mode="M143" priority="-1" match="text()"/>
<axsl:template mode="M144" priority="3999" match="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.32']]">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.32']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.32-errors-CL"/>
<axsl:apply-templates mode="M144"/>
</axsl:template>
<axsl:template mode="M144" priority="-1" match="text()"/>
<axsl:template mode="M145" priority="3999" match="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.34']]">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.34']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.34-errors"/>
<axsl:choose>
<axsl:when test="count(cda:realmCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:realmCode)=1" id="a-86-18431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] realmCode (CONF:86-18431).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:realmCode[count(self::node()[@code='US'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:realmCode[count(self::node()[@code='US'])=1]" id="a-86-18432">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This realmCode SHALL contain exactly one [1..1] @code="US" (CONF:86-18432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-18433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-18433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51897-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51897-7']" id="a-86-18434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51897-7" Healthcare Associated Infection Report (CONF:86-18434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-18435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-18435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-86-18436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:86-18436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:confidentialityCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:confidentialityCode)=1" id="a-86-18437-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] confidentialityCode (CONF:86-18437).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:confidentialityCode[count(self::node()[@code='N'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:confidentialityCode[count(self::node()[@code='N'])=1]" id="a-86-18438">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This confidentialityCode SHALL contain exactly one [1..1] @code="N" Normal (CodeSystem: ConfidentialityCode urn:oid:2.16.840.1.113883.5.25 STATIC) (CONF:86-18438).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:languageCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:languageCode)=1" id="a-86-18439">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] languageCode (CONF:86-18439).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:languageCode[@code='en-US']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:languageCode[@code='en-US']" id="a-86-18440">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This languageCode SHALL contain exactly one [1..1] @code="en-US" (CONF:86-18440).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:setId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:setId)=1" id="a-86-18441">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] setId (CONF:86-18441).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:versionNumber)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:versionNumber)=1" id="a-86-18442">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] versionNumber (CONF:86-18442).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:custodian)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:custodian)=1" id="a-86-18443">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] custodian (CONF:86-18443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian[count(cda:assignedCustodian)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian[count(cda:assignedCustodian)=1]" id="a-86-18444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This custodian SHALL contain exactly one [1..1] assignedCustodian (CONF:86-18444).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]" id="a-86-18445">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedCustodian SHALL contain exactly one [1..1] representedCustodianOrganization (CONF:86-18445).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]" id="a-86-18446">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This representedCustodianOrganization SHALL contain exactly one [1..1] id (CONF:86-18446).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']" id="a-86-18447">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root="2.16.840.1.114222.4.3.2.11" (CONF:86-18447).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-86-18448">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:86-18448).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-86-18449">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:86-18449).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-18450-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The structuredBody element SHALL contain a component element for each section required by the particular report type. Additional sections may be present but their content will not be processed by NHSN (CONF:86-18450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1" id="a-86-18460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-18460) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.25" (CONF:86-18461).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:typeId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:typeId)=1" id="a-86-18463">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] typeId (CONF:86-18463).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@root='2.16.840.1.113883.1.3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@root='2.16.840.1.113883.1.3']" id="a-86-18464">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @root="2.16.840.1.113883.1.3" (CONF:86-18464).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@extension='POCD_HD000040']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@extension='POCD_HD000040']" id="a-86-18465">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @extension="POCD_HD000040" (CONF:86-18465).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-18466-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-18466).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']" id="a-86-18470">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] @typeCode="RPLC" replace (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-18470).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-18471-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If versionNumber/@value is greater than 1, a relatedDocument element SHALL be present (CONF:86-18471).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget) &gt; 0" id="a-86-18472-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] recordTarget (CONF:86-18472).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:author) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:author) &gt; 0" id="a-86-18473-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] author (CONF:86-18473).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-86-18475-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain at least one [1..*] component (CONF:86-18475).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem]" id="a-86-27413">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:86-27413).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[count(cda:parentDocument)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[count(cda:parentDocument)=1]" id="a-86-28401">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] parentDocument (CONF:86-28401).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument/cda:parentDocument) or cda:relatedDocument/cda:parentDocument[count(cda:id) &gt; 0]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument/cda:parentDocument) or cda:relatedDocument/cda:parentDocument[count(cda:id) &gt; 0]" id="a-86-28402">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This parentDocument SHALL contain at least one [1..*] id (CONF:86-28402).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-28403-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of id SHALL be populated with the ClinicalDocument/id of the document being replaced (CONF:86-28403).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27'])=1" id="a-86-22415">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22415) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.27" (CONF:86-22416).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget)=1" id="a-86-22417">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] recordTarget (CONF:86-22417).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget[count(cda:patientRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget[count(cda:patientRole)=1]" id="a-86-22418">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This recordTarget SHALL contain exactly one [1..1] patientRole (CONF:86-22418).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:id) &gt; 0]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:id) &gt; 0]" id="a-86-22419">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain at least one [1..*] id (CONF:86-22419).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@root]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@root]" id="a-86-22420">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @root (CONF:86-22420).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@extension]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@extension]" id="a-86-22421">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @extension (CONF:86-22421).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:patient)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:patient)=1]" id="a-86-22422">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain exactly one [1..1] patient (CONF:86-22422).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:administrativeGenderCode)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:administrativeGenderCode)=1]" id="a-86-22424">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patient SHALL contain exactly one [1..1] administrativeGenderCode (CONF:86-22424).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient/cda:administrativeGenderCode[@code and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.1.11.1']/voc:code/@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient/cda:administrativeGenderCode[@code and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.1.11.1']/voc:code/@value]" id="a-86-22425">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This administrativeGenderCode SHALL contain exactly one [1..1] @code, which SHALL be selected from ValueSet Administrative Gender (HL7 V3) urn:oid:2.16.840.1.113883.1.11.1 STATIC (CONF:86-22425).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:birthTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:birthTime)=1]" id="a-86-22426">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patient SHALL contain exactly one [1..1] birthTime (CONF:86-22426).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient/cda:birthTime[@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient/cda:birthTime[@value]" id="a-86-22427">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This birthTime SHALL contain exactly one [1..1] @value (CONF:86-22427).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.2.1.1'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.2.1.1'])=1" id="a-86-28319">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28319) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.7.2.1.1" (CONF:86-28320).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:componentOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:componentOf)=1" id="a-86-22509">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] componentOf (CONF:86-22509).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf[count(cda:encompassingEncounter)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf[count(cda:encompassingEncounter)=1]" id="a-86-22510">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This componentOf SHALL contain exactly one [1..1] encompassingEncounter (CONF:86-22510).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter[count(cda:effectiveTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter[count(cda:effectiveTime)=1]" id="a-86-22511">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This encompassingEncounter SHALL contain exactly one [1..1] effectiveTime (CONF:86-22511).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime[count(cda:low)=1]" id="a-86-22512">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:86-22512).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:low[@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:low[@value]" id="a-86-22513">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This low SHALL contain exactly one [1..1] @value (CONF:86-22513).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:high) or cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:high[@value]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:high) or cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:high[@value]" id="a-86-22515">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The high, if present, SHALL contain exactly one [1..1] @value (CONF:86-22515).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]" id="a-86-22516">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This encompassingEncounter SHALL contain exactly one [1..1] location (CONF:86-22516).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]" id="a-86-22517">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This location SHALL contain exactly one [1..1] healthCareFacility (CONF:86-22517).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]" id="a-86-22518">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This healthCareFacility SHALL contain exactly one [1..1] id (CONF:86-22518).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]" id="a-86-22519">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root (CONF:86-22519).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@extension]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@extension]" id="a-86-22520">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @extension (CONF:86-22520).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:code)=1]" id="a-86-22521">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This healthCareFacility SHALL contain exactly one [1..1] code (ValueSet: NHSNHealthcareServiceLocationCode urn:oid:2.16.840.1.113883.13.19 DYNAMIC) (CONF:86-22521).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-86-22523">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:86-22523).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-86-22524">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:86-22524).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.36']])=1])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.36']])=1])=1]" id="a-86-22525">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:86-22525) such that it SHALL contain exactly one [1..1] Infection Risk Factors Section in a UTI Report (identifier: urn:oid:2.16.840.1.113883.10.20.5.5.36) (CONF:86-22526).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.40']])=1])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.40']])=1])=1]" id="a-86-22527">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:86-22527) such that it SHALL contain exactly one [1..1] Infection Details Section in a UTI Report (identifier: urn:oid:2.16.840.1.113883.10.20.5.5.40) (CONF:86-22528).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.45']])=1])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.45']])=1])=1]" id="a-86-22529">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:86-22529) such that it SHALL contain exactly one [1..1] Findings Section in an Infection-Type Report (identifier: urn:oid:2.16.840.1.113883.10.20.5.5.45) (CONF:86-22530).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-86-23362-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of the admission date SHALL NOT be earlier than January 1, 1986; SHALL NOT be earlier than the date of birth; and SHALL NOT be later than the event date (CONF:86-23362).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.34'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.34'])=1" id="a-86-22507">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22507) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.34" (CONF:86-27433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M145"/>
</axsl:template>
<axsl:template mode="M145" priority="-1" match="text()"/>
<axsl:template mode="M146" priority="3999" match="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.34']]">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.34']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.34-errors-CL"/>
<axsl:apply-templates mode="M146"/>
</axsl:template>
<axsl:template mode="M146" priority="-1" match="text()"/>
<axsl:template mode="M147" priority="3999" match="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.187']]">
<fired-rule role="" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.187']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.187-errors"/>
<axsl:choose>
<axsl:when test="@classCode='ENC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='ENC'" id="a-86-22649">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="ENC" Encounter (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-22649).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-22650">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-22650).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.49'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.49'])=1" id="a-86-28279">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28279) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.49" (CONF:86-28280).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-22653">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-22653).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-22654">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002) (CONF:86-22654).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-86-22655">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:86-22655).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@nullFlavor='NA']" id="a-86-22656">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22656).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant)=1" id="a-86-22657">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:86-22657).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant[@typeCode='LOC']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant[@typeCode='LOC']" id="a-86-22658">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participant SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:86-22658).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant[count(cda:participantRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant[count(cda:participantRole)=1]" id="a-86-22659">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participant SHALL contain exactly one [1..1] participantRole (CONF:86-22659).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole[@classCode='SDLOC']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole[@classCode='SDLOC']" id="a-86-22660">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain exactly one [1..1] @classCode="SDLOC" Service delivery location (CodeSystem: RoleClass urn:oid:2.16.840.1.113883.5.110 STATIC) (CONF:86-22660).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole[count(cda:id)=1]" id="a-86-22661">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain exactly one [1..1] id (CONF:86-22661).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole/cda:id[@root]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole/cda:id[@root]" id="a-86-22662">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root (CONF:86-22662).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole/cda:id[@extension]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole/cda:id[@extension]" id="a-86-22663">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @extension (CONF:86-22663).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole[count(cda:playingEntity)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole[count(cda:playingEntity)=1]" id="a-86-22664">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain exactly one [1..1] playingEntity (CONF:86-22664).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole/cda:playingEntity[@classCode='PLC']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole/cda:playingEntity[@classCode='PLC']" id="a-86-22665">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This playingEntity SHALL contain exactly one [1..1] @classCode="PLC" Place (CodeSystem: EntityClass urn:oid:2.16.840.1.113883.5.41 STATIC) (CONF:86-22665).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole/cda:playingEntity[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole/cda:playingEntity[count(cda:code)=1]" id="a-86-22666">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This playingEntity SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNHealthcareServiceLocationCode urn:oid:2.16.840.1.113883.13.19 DYNAMIC (CONF:86-22666).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.187'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.187'])=1" id="a-86-22651">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22651) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.187" (CONF:86-22652).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M147"/>
</axsl:template>
<axsl:template mode="M147" priority="-1" match="text()"/>
<axsl:template mode="M148" priority="3999" match="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.187']]">
<fired-rule role="" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.187']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.187-errors-CL"/>
<axsl:apply-templates mode="M148"/>
</axsl:template>
<axsl:template mode="M148" priority="-1" match="text()"/>
<axsl:template mode="M149" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.189']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.189']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.189-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-86-22687">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:86-22687).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-22688">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:86-22688).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.2'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.2'])=1" id="a-86-28211">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28211) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.2" (CONF:86-28212).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-22691">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-22691).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-22692">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22692).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.7160']/voc:code/@value or @nullFlavor])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.7160']/voc:code/@value or @nullFlavor])=1" id="a-86-22693">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNStaphAureusSpecificTest urn:oid:2.16.840.1.114222.4.11.7160 STATIC (CONF:86-22693).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-22694">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-22694).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-22695">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" (CONF:86-22695).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-86-22696">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:86-22696).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@nullFlavor='NA']" id="a-86-22697">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22697).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD' and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.6074']/voc:code/@value or @nullFlavor])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD' and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.6074']/voc:code/@value or @nullFlavor])=1" id="a-86-22698">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHALL be selected from ValueSet NHSNStaphAureusTestResults urn:oid:2.16.840.1.114222.4.11.6074 STATIC 2012-09-01 (CONF:86-22698).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.189'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.189'])=1" id="a-86-22689">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22689) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.189" (CONF:86-22690).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M149"/>
</axsl:template>
<axsl:template mode="M149" priority="-1" match="text()"/>
<axsl:template mode="M150" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.189']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.189']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.189-errors-CL"/>
<axsl:apply-templates mode="M150"/>
</axsl:template>
<axsl:template mode="M150" priority="-1" match="text()"/>
<axsl:template mode="M151" priority="3999" match="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.190']]">
<fired-rule role="" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.190']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.190-errors"/>
<axsl:choose>
<axsl:when test="@classCode='CLUSTER'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='CLUSTER'" id="a-86-22700">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="CLUSTER" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:86-22700).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-22701">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:86-22701).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.1'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.1'])=1" id="a-86-28209">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-28209) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.1" (CONF:86-28210).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-22704">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-22704).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-22705">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-22705).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='18725-2' and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='18725-2' and @codeSystem='2.16.840.1.113883.6.1']" id="a-86-22706">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="18725-2" Microbiology studies (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:86-22706).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-22707">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-22707).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-22708">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:86-22708).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.189']])=1]) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.189']])=1]) &gt; 0" id="a-86-22709">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] component (CONF:86-22709) such that it SHALL contain exactly one [1..1] ARO Staph Aureus Specific Tests Result Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.189) (CONF:86-22710).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-86-23365">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-23365).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.190'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.190'])=1" id="a-86-22702">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22702) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.190" (CONF:86-22703).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M151"/>
</axsl:template>
<axsl:template mode="M151" priority="-1" match="text()"/>
<axsl:template mode="M152" priority="3999" match="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.190']]">
<fired-rule role="" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.190']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.190-errors-CL"/>
<axsl:apply-templates mode="M152"/>
</axsl:template>
<axsl:template mode="M152" priority="-1" match="text()"/>
<axsl:template mode="M153" priority="3999" match="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.191']]">
<fired-rule role="" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.191']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.191-errors"/>
<axsl:choose>
<axsl:when test="@classCode='ENC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='ENC'" id="a-86-22817">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="ENC" Encounter (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-22817).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-22818">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-22818).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.191'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.191'])=1" id="a-86-22819">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22819) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.191" (CONF:86-22820).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='LOC'][count(cda:participantRole[@classCode='SDLOC'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='LOC'][count(cda:participantRole[@classCode='SDLOC'])=1])=1" id="a-86-22821">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:86-22821) such that it SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:86-22822). SHALL contain exactly one [1..1] participantRole (CONF:86-22823). This participantRole SHALL contain exactly one [1..1] @classCode="SDLOC" Service Delivery Location (CodeSystem: EntityClass urn:oid:2.16.840.1.113883.5.41 STATIC) (CONF:86-22824).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="(cda:participant/cda:participantRole[cda:id[@root and @extension] and cda:code])  or cda:participant/cda:participantRole/cda:id[@root and not(@extension)] or (cda:participant/cda:participantRole/cda:code and cda:participant/cda:participantRole/cda:scopingEntity[@classCode='PLC'][cda:id[@root]])"/>
<axsl:otherwise>
<failed-assert role="" test="(cda:participant/cda:participantRole[cda:id[@root and @extension] and cda:code]) or cda:participant/cda:participantRole/cda:id[@root and not(@extension)] or (cda:participant/cda:participantRole/cda:code and cda:participant/cda:participantRole/cda:scopingEntity[@classCode='PLC'][cda:id[@root]])" id="a-86-22825-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If recording data from an in-facility location, the participantRole element shall contain an id element with both @root and @extension, and a code element where the value is selected from ValueSet NHSNHealthcareServiceLocationCode 2.16.840.1.113883.13.19 DYNAMIC, recording the type of location (CONF:86-22825).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-86-22826-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Or, if recording data from the whole facility, the participantRole element shall contain an id element with @root (CONF:86-22826).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-86-22827-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Or, if recording data from a specialized subset of a facility, the participantRole element shall contain a code element where the value is selected from ValueSet NHSNHealthcareServiceLocationCode 2.16.840.1.113883.13.19 DYNAMIC, recording the type of location, and a scopingEntity element where the value of @classCode is PLC and id/@root is present (CONF:86-22827).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='SBJ'][count(cda:participantRole[@classCode='PRS'][count(cda:code)=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='SBJ'][count(cda:participantRole[@classCode='PRS'][count(cda:code)=1])=1])=1" id="a-86-22828">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:86-22828) such that it SHALL contain exactly one [1..1] @typeCode="SBJ" (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90) (CONF:86-22829). SHALL contain exactly one [1..1] participantRole (CONF:86-22830). This participantRole SHALL contain exactly one [1..1] @classCode="PRS" (CodeSystem: EntityClass urn:oid:2.16.840.1.113883.5.41) (CONF:86-22831). This participantRole SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNPopulationCategoryCode urn:oid:2.16.840.1.114222.4.11.3234 STATIC 2009-06-25 (CONF:86-22832).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship) &gt; 0" id="a-86-22834">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entryRelationship (CONF:86-22834).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship[@typeCode='COMP']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship[@typeCode='COMP']" id="a-86-22835">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such entryRelationships SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-22835).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.185']])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.185']])=1]" id="a-86-22836">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such entryRelationships SHALL contain exactly one [1..1] Summary Data Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.185) (CONF:86-22836).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M153"/>
</axsl:template>
<axsl:template mode="M153" priority="-1" match="text()"/>
<axsl:template mode="M154" priority="3999" match="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.191']]">
<fired-rule role="" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.191']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.191-errors-CL"/>
<axsl:apply-templates mode="M154"/>
</axsl:template>
<axsl:template mode="M154" priority="-1" match="text()"/>
<axsl:template mode="M155" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.48']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.48']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.5.48-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-86-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1 STATIC) (CONF:86-21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-86-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:86-21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-86-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:86-21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-86-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:86-21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.48'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.48'])=1" id="a-86-22837">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22837) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.48" (CONF:86-22838).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-22839">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-22839).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51900-9']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51900-9']" id="a-86-22840">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51900-9" Summary Data Section (CONF:86-22840).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-86-22841">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:86-22841).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entry[count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.191']])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entry[count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.191']])=1]" id="a-86-22842">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such entries SHALL contain exactly one [1..1] Summary Encounter (NICU) (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.191) (CONF:86-22842).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']" id="a-86-28368">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:86-28368).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M155"/>
</axsl:template>
<axsl:template mode="M155" priority="-1" match="text()"/>
<axsl:template mode="M156" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.48']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.48']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.5.48-errors-CL"/>
<axsl:apply-templates mode="M156"/>
</axsl:template>
<axsl:template mode="M156" priority="-1" match="text()"/>
<axsl:template mode="M157" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.192']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.192']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.192-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-86-22855">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-22855).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-22856">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-22856).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.192'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.192'])=1" id="a-86-22857">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22857) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.192" (CONF:86-22858).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-22859">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-22859).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-22860">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-22860).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value)=1" id="a-86-22861">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value (CONF:86-22861).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-86-22862-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>To record which organism was monitored (code/@code 3193-0 AST Organism Monitored), the value of value/@code SHALL be selected from Value Set NHSNOrganismASTCode 2.16.840.1.114222.4.11.3283 DYNAMIC (CONF:86-22862).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-86-22863-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>To record the timing of monitoring (code/@code 1870-5 Timing), the value of value/@code SHALL be selected from Value Set 2.16.840.1.114222.4.11.3247 NHSNTimingCode STATIC 20091030 (CONF:86-22863).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-86-22864-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>To record eligibility criteria for monitoring (code/@code 1871-3 Eligibility), the value of value/@code SHALL be selected from Value Set 2.16.840.1.114222.4.11.3248 NHSNEligibilityCode DYNAMIC (CONF:86-22864).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="(cda:value/@xsi:type='PQ' and cda:value/@unit='d') or (cda:value/@xsi:type='INT') or (cda:value/@xsi:type='CD')"/>
<axsl:otherwise>
<failed-assert role="" test="(cda:value/@xsi:type='PQ' and cda:value/@unit='d') or (cda:value/@xsi:type='INT') or (cda:value/@xsi:type='CD')" id="a-86-23371-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the observation reports a number of days, the value of value/xsi:type SHALL be PQ and the value of value/@unit SHALL be d. If the observation reports a number of patients, the value of value/@xsi:type SHALL be INT. If the value is a code, the value of value/@xsi:type SHALL be CD (CONF:86-23371).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.185']])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.185']])=1]" id="a-86-23373">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] Summary Data Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.185) (CONF:86-23373).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(testable)"/>
<axsl:otherwise>
<failed-assert role="" test="not(testable)" id="a-86-23374-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>To record which organism was monitored (code/@code 3193-0 AST Organism Monitored) this observation SHALL contain, as entryRelationships where the value of @typeCode is COMP, Summary Data Observations recording the data collected for that class. The specific data required are specified by the NHSN protocol (CONF:86-23374).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-28112">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:86-28112).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M157"/>
</axsl:template>
<axsl:template mode="M157" priority="-1" match="text()"/>
<axsl:template mode="M158" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.192']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.192']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.192-errors-CL"/>
<axsl:apply-templates mode="M158"/>
</axsl:template>
<axsl:template mode="M158" priority="-1" match="text()"/>
<axsl:template mode="M159" priority="3999" match="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.193']]">
<fired-rule role="" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.193']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.193-errors"/>
<axsl:choose>
<axsl:when test="@classCode='ENC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='ENC'" id="a-86-22866">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="ENC" Encounter (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-22866).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-22867">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-22867).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.193'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.193'])=1" id="a-86-22868">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22868) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.193" (CONF:86-22869).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='LOC'][count(cda:participantRole[@classCode='SDLOC'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='LOC'][count(cda:participantRole[@classCode='SDLOC'])=1])=1" id="a-86-22870">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:86-22870) such that it SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:86-22871). SHALL contain exactly one [1..1] participantRole (CONF:86-22872). This participantRole SHALL contain exactly one [1..1] @classCode="SDLOC" Service Delivery Location (CodeSystem: EntityClass urn:oid:2.16.840.1.113883.5.41 STATIC) (CONF:86-22873).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="(cda:participant/cda:participantRole[cda:id[@root and @extension] and cda:code])  or cda:participant/cda:participantRole/cda:id[@root and not(@extension)] or (cda:participant/cda:participantRole/cda:code and cda:participant/cda:participantRole/cda:scopingEntity[@classCode='PLC'][cda:id[@root]])"/>
<axsl:otherwise>
<failed-assert role="" test="(cda:participant/cda:participantRole[cda:id[@root and @extension] and cda:code]) or cda:participant/cda:participantRole/cda:id[@root and not(@extension)] or (cda:participant/cda:participantRole/cda:code and cda:participant/cda:participantRole/cda:scopingEntity[@classCode='PLC'][cda:id[@root]])" id="a-86-22874-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If recording data from an in-facility location, the participantRole element shall contain an id element with both @root and @extension, and a code element where the value is selected from ValueSet NHSNHealthcareServiceLocationCode 2.16.840.1.113883.13.19 DYNAMIC, recording the type of location (CONF:86-22874).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-86-22875-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Or, if recording data from the whole facility, the participantRole element shall contain an id element with @root (CONF:86-22875).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-86-22876-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Or, if recording data from a specialized subset of a facility, the participantRole element shall contain a code element where the value is selected from ValueSet NHSNHealthcareServiceLocationCode 2.16.840.1.113883.13.19 DYNAMIC, recording the type of location, and a scopingEntity element where the value of @classCode is PLC and id/@root is present (CONF:86-22876).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship) &gt; 0" id="a-86-22877">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entryRelationship (CONF:86-22877).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship[@typeCode='COMP']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship[@typeCode='COMP']" id="a-86-22878">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such entryRelationships SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-22878).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.192']])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.192']])=1]" id="a-86-22879">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such entryRelationships SHALL contain exactly one [1..1] Summary Data Observation (POM) (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.192) (CONF:86-22879).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M159"/>
</axsl:template>
<axsl:template mode="M159" priority="-1" match="text()"/>
<axsl:template mode="M160" priority="3999" match="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.193']]">
<fired-rule role="" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.193']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.193-errors-CL"/>
<axsl:apply-templates mode="M160"/>
</axsl:template>
<axsl:template mode="M160" priority="-1" match="text()"/>
<axsl:template mode="M161" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.194']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.194']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.194-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-86-22910">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-22910).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-22911">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-22911).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.194'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.194'])=1" id="a-86-22912">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22912) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.194" (CONF:86-22913).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-22914">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-22914).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-22915">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:86-22915).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value)=1" id="a-86-22916">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value (CONF:86-22916).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="(cda:value/@xsi:type='PQ' and cda:value/@unit='d') or (cda:value/@xsi:type='INT') or (cda:value/@xsi:type='CD')"/>
<axsl:otherwise>
<failed-assert role="" test="(cda:value/@xsi:type='PQ' and cda:value/@unit='d') or (cda:value/@xsi:type='INT') or (cda:value/@xsi:type='CD')" id="a-86-22917-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the observation reports a number of days, the value of value/xsi:type SHALL be PQ and the value of value/@unit SHALL be d. If the observation reports a number of patients, the value of value/@xsi:type SHALL be INT. If the value is a code, the value of value/@xsi:type SHALL be CD (CONF:86-22917).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:methodCode[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3361']/voc:code/@value])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:methodCode[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3361']/voc:code/@value])=1" id="a-86-23044">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] methodCode, which SHALL be selected from ValueSet NHSNRouteOfAdminstrationAURPCode urn:oid:2.16.840.1.114222.4.11.3361 (CONF:86-23044).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-28111">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:86-28111).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M161"/>
</axsl:template>
<axsl:template mode="M161" priority="-1" match="text()"/>
<axsl:template mode="M162" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.194']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.194']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.194-errors-CL"/>
<axsl:apply-templates mode="M162"/>
</axsl:template>
<axsl:template mode="M162" priority="-1" match="text()"/>
<axsl:template mode="M163" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.195']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.195']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.195-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-86-22933">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-22933).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-22934">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-22934).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.195'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.195'])=1" id="a-86-22935">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22935) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.195" (CONF:86-22936).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-22937">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code, which SHOULD be selected from ValueSet Codes for Vascular Access Type (Dialysis) Summary Data http://VATDialysisSummaryData DYNAMIC (CONF:86-22937).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-86-22938">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-22938).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value)=1" id="a-86-22939">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value (CONF:86-22939).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:entryRelationship) or cda:entryRelationship[@typeCode='COMP']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:entryRelationship) or cda:entryRelationship[@typeCode='COMP']" id="a-86-22941">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] @typeCode="COMP" (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002) (CONF:86-22941).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.185']])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.185']])=1]" id="a-86-22942">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] Summary Data Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.185) (CONF:86-22942).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(testable)"/>
<axsl:otherwise>
<failed-assert role="" test="not(testable)" id="a-86-22943-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>In a VAT Report, the Summary Observation recording the number of patients with fistula SHALL contain an entryRelationship where the value of @typeCode is COMP, that contains a Summary Data Observation recording the number of those patients with buttonhole cannulation (CONF:86-22943).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="(cda:value/@xsi:type='PQ' and cda:value/@unit='d') or (cda:value/@xsi:type='INT') or (cda:value/@xsi:type='CD')"/>
<axsl:otherwise>
<failed-assert role="" test="(cda:value/@xsi:type='PQ' and cda:value/@unit='d') or (cda:value/@xsi:type='INT') or (cda:value/@xsi:type='CD')" id="a-86-22944-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the observation reports a number of days, the value of value/xsi:type SHALL be PQ and the value of value/@unit SHALL be d. If the observation reports a number of patients, the value of value/@xsi:type SHALL be INT. If the value is a code, the value of value/@xsi:type SHALL be CD (CONF:86-22944).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-86-28113">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:86-28113).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M163"/>
</axsl:template>
<axsl:template mode="M163" priority="-1" match="text()"/>
<axsl:template mode="M164" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.195']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.195']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.195-errors-CL"/>
<axsl:apply-templates mode="M164"/>
</axsl:template>
<axsl:template mode="M164" priority="-1" match="text()"/>
<axsl:template mode="M165" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.50']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.50']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.5.50-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-86-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1 STATIC) (CONF:86-21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-86-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:86-21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-86-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:86-21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-86-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:86-21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.50'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.50'])=1" id="a-86-22945">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22945) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.50" (CONF:86-22946).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-22947">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-22947).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51900-9']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51900-9']" id="a-86-22948">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51900-9" Summary Data Section (CONF:86-22948).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-86-22949">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:86-22949).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entry[count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.196']])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entry[count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.196']])=1]" id="a-86-22950">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such entries SHALL contain exactly one [1..1] Summary Encounter (VAT) (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.196) (CONF:86-22950).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']" id="a-86-28369">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:86-28369).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M165"/>
</axsl:template>
<axsl:template mode="M165" priority="-1" match="text()"/>
<axsl:template mode="M166" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.50']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.50']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.5.50-errors-CL"/>
<axsl:apply-templates mode="M166"/>
</axsl:template>
<axsl:template mode="M166" priority="-1" match="text()"/>
<axsl:template mode="M167" priority="3999" match="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.196']]">
<fired-rule role="" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.196']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.196-errors"/>
<axsl:choose>
<axsl:when test="@classCode='ENC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='ENC'" id="a-86-22951">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="ENC" Encounter (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-22951).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-22952">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-22952).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.196'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.196'])=1" id="a-86-22953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22953) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.196" (CONF:86-22954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='LOC'][count(cda:participantRole[@classCode='SDLOC'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='LOC'][count(cda:participantRole[@classCode='SDLOC'])=1])=1" id="a-86-22955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:86-22955) such that it SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:86-22956). SHALL contain exactly one [1..1] participantRole (CONF:86-22957). This participantRole SHALL contain exactly one [1..1] @classCode="SDLOC" Service Delivery Location (CodeSystem: EntityClass urn:oid:2.16.840.1.113883.5.41 STATIC) (CONF:86-22958).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="(cda:participant/cda:participantRole[cda:id[@root and @extension] and cda:code])  or cda:participant/cda:participantRole/cda:id[@root and not(@extension)] or (cda:participant/cda:participantRole/cda:code and cda:participant/cda:participantRole/cda:scopingEntity[@classCode='PLC'][cda:id[@root]])"/>
<axsl:otherwise>
<failed-assert role="" test="(cda:participant/cda:participantRole[cda:id[@root and @extension] and cda:code]) or cda:participant/cda:participantRole/cda:id[@root and not(@extension)] or (cda:participant/cda:participantRole/cda:code and cda:participant/cda:participantRole/cda:scopingEntity[@classCode='PLC'][cda:id[@root]])" id="a-86-22959-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If recording data from an in-facility location, the participantRole element shall contain an id element with both @root and @extension, and a code element where the value is selected from ValueSet NHSNHealthcareServiceLocationCode 2.16.840.1.113883.13.19 DYNAMIC, recording the type of location (CONF:86-22959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-86-22960-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Or, if recording data from the whole facility, the participantRole element shall contain an id element with @root (CONF:86-22960).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-86-22961-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Or, if recording data from a specialized subset of a facility, the participantRole element shall contain a code element where the value is selected from ValueSet NHSNHealthcareServiceLocationCode 2.16.840.1.113883.13.19 DYNAMIC, recording the type of location, and a scopingEntity element where the value of @classCode is PLC and id/@root is present (CONF:86-22961).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship) &gt; 0" id="a-86-22962">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entryRelationship (CONF:86-22962).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship[@typeCode='COMP']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship[@typeCode='COMP']" id="a-86-22963">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such entryRelationships SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-22963).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.195']])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.195']])=1]" id="a-86-22964">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such entryRelationships SHALL contain exactly one [1..1] Summary Data Observation (VAT) (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.195) (CONF:86-22964).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M167"/>
</axsl:template>
<axsl:template mode="M167" priority="-1" match="text()"/>
<axsl:template mode="M168" priority="3999" match="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.196']]">
<fired-rule role="" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.196']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.196-errors-CL"/>
<axsl:apply-templates mode="M168"/>
</axsl:template>
<axsl:template mode="M168" priority="-1" match="text()"/>
<axsl:template mode="M169" priority="3999" match="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.124']]">
<fired-rule role="" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.124']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.124-errors"/>
<axsl:choose>
<axsl:when test="@classCode='ENC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='ENC'" id="a-86-23263">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="ENC" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-23263).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-86-23264">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-23264).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.124'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.124'])=1" id="a-86-23265">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-23265) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.124" (CONF:86-23266).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-23267">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-23267).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(testable)"/>
<axsl:otherwise>
<failed-assert role="" test="not(testable)" id="a-86-23268-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This is the id of the encompassing encounter (CONF:86-23268).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship)=1" id="a-86-23269">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entryRelationship (CONF:86-23269).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship[@typeCode='SAS']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship[@typeCode='SAS']" id="a-86-23272">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This entryRelationship SHALL contain exactly one [1..1] @typeCode="SAS" (CONF:86-23272).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship[@inversionInd]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship[@inversionInd]" id="a-86-23273">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This entryRelationship SHALL contain exactly one [1..1] @inversionInd (CONF:86-23273).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-23274-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the infection (dialysis event) began on or after the date the patient was admitted, set the value of @inversionInd to true. If the infection (dialysis event) began before the date the patient was admitted, set the value of @inversionInd to false (CONF:86-23274).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship[count(cda:observation)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship[count(cda:observation)=1]" id="a-86-23275">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This entryRelationship SHALL contain exactly one [1..1] observation (CONF:86-23275).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship/cda:observation[@classCode='OBS']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship/cda:observation[@classCode='OBS']" id="a-86-23276">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This observation SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:86-23276).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship/cda:observation[@moodCode='EVN']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship/cda:observation[@moodCode='EVN']" id="a-86-23277">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This observation SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:86-23277).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship/cda:observation[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship/cda:observation[count(cda:id)=1]" id="a-86-23278">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This observation SHALL contain exactly one [1..1] id (CONF:86-23278).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship/cda:observation[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship/cda:observation[count(cda:code)=1]" id="a-86-23280">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This observation SHALL contain exactly one [1..1] code (CONF:86-23280).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship/cda:observation/cda:code[@code='ASSERTION']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship/cda:observation/cda:code[@code='ASSERTION']" id="a-86-23281">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" (CONF:86-23281).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship/cda:observation/cda:code[@codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship/cda:observation/cda:code[@codeSystem='2.16.840.1.113883.5.4']" id="a-86-23282">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-23282).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship/cda:observation[count(cda:statusCode)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship/cda:observation[count(cda:statusCode)=1]" id="a-86-23283">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This observation SHALL contain exactly one [1..1] statusCode (CONF:86-23283).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship/cda:observation/cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship/cda:observation/cda:statusCode[@code='completed']" id="a-86-23284">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" (CONF:86-23284).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship/cda:observation[count(cda:value[@xsi:type='CD'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship/cda:observation[count(cda:value[@xsi:type='CD'])=1]" id="a-86-23285">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This observation SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:86-23285).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship/cda:observation/cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship/cda:observation/cda:id[@nullFlavor='NA']" id="a-86-27747">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CodeSystem: HL7NullFlavor urn:oid:2.16.840.1.113883.5.1008) (CONF:86-27747).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship/cda:observation/cda:value[@xsi:type='CD'][@code='40733004']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship/cda:observation/cda:value[@xsi:type='CD'][@code='40733004']" id="a-86-27748">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="40733004" Infection (CONF:86-27748).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship/cda:observation/cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.96']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship/cda:observation/cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.96']" id="a-86-27749">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.96" (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96) (CONF:86-27749).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M169"/>
</axsl:template>
<axsl:template mode="M169" priority="-1" match="text()"/>
<axsl:template mode="M170" priority="3999" match="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.124']]">
<fired-rule role="" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.124']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.124-errors-CL"/>
<axsl:apply-templates mode="M170"/>
</axsl:template>
<axsl:template mode="M170" priority="-1" match="text()"/>
<axsl:template mode="M171" priority="3999" match="cda:participant[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.202']]">
<fired-rule role="" context="cda:participant[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.202']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.202-errors"/>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.202'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.202'])=1" id="a-86-27137">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-27137) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.202" (CONF:86-27138).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@typeCode='SBJ'"/>
<axsl:otherwise>
<failed-assert role="" test="@typeCode='SBJ'" id="a-86-27150">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @typeCode="SBJ" (CONF:86-27150).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participantRole)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participantRole)=1" id="a-86-27151">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participantRole (CONF:86-27151).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participantRole[@classCode='ISLT']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participantRole[@classCode='ISLT']" id="a-86-27152">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain exactly one [1..1] @classCode="ISLT" (CONF:86-27152).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participantRole[count(cda:id) &gt; 0]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participantRole[count(cda:id) &gt; 0]" id="a-86-27153">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain at least one [1..*] id (CONF:86-27153).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participantRole[count(cda:playingEntity)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participantRole[count(cda:playingEntity)=1]" id="a-86-27154">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain exactly one [1..1] playingEntity (CONF:86-27154).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participantRole/cda:playingEntity[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participantRole/cda:playingEntity[count(cda:code)=1]" id="a-86-27155">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This playingEntity SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNPathogenCode urn:oid:2.16.840.1.113883.13.16 DYNAMIC (CONF:86-27155).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M171"/>
</axsl:template>
<axsl:template mode="M171" priority="-1" match="text()"/>
<axsl:template mode="M172" priority="3999" match="cda:participant[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.202']]">
<fired-rule role="" context="cda:participant[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.202']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.202-errors-CL"/>
<axsl:apply-templates mode="M172"/>
</axsl:template>
<axsl:template mode="M172" priority="-1" match="text()"/>
<axsl:template mode="M173" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.203']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.203']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.203-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-1101-30205">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:1101-30205).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1101-30206">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" (CONF:1101-30206).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1" id="a-1101-30301">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1101-30301) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:1101-30302).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-1101-30209">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:1101-30209).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1101-30210">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1101-30210).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-1101-30211">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:1101-30211).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-1101-30212">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:1101-30212).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-1101-30213">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:1101-30213).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd or @nullFlavor='UNK'"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd or @nullFlavor='UNK'" id="a-1101-30215-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If it is not known whether the patient had loss of vascular access, the value of @nullFlavor SHALL be UNK. If the value of @nullFlavor is set to UNK then the value of @negationInd SHALL NOT be set (CONF:1101-30215).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd or @nullFlavor"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd or @nullFlavor" id="a-1101-30217-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the patient had loss of vascular access, the value of @negationInd SHALL be false. If the patient did not have loss of vascular access, the value of @negationInd SHALL be true. If the value of @negationInd is set then the value of @nullFlavor SHALL NOT be set (CONF:1101-30217).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION']" id="a-1101-30218">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:1101-30218).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']" id="a-1101-30219">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:1101-30219).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@code='2325-9']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@code='2325-9']" id="a-1101-30220">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="2325-9" Loss of vascular access (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1101-30220).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']" id="a-1101-30221">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1101-30221).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-1101-30224">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1101-30224).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.203'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.203'])=1" id="a-1101-30207">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1101-30207) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.203" (CONF:1101-30208).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M173"/>
</axsl:template>
<axsl:template mode="M173" priority="-1" match="text()"/>
<axsl:template mode="M174" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.203']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.203']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.203-errors-CL"/>
<axsl:apply-templates mode="M174"/>
</axsl:template>
<axsl:template mode="M174" priority="-1" match="text()"/>
<axsl:template mode="M175" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.204']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.204']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.204-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-1101-30225">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:1101-30225).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1101-30226">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" (CONF:1101-30226).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-1101-30227">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:1101-30227).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-1101-30228-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the revision was associated with prior infection at the index joint, the value of @negationInd SHALL be false. If the revision was not associated with prior infection at the index joint, the value of @negationInd SHALL be true (CONF:1101-30228).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1" id="a-1101-30305">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1101-30305) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:1101-30306).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-1101-30231">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:1101-30231).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-1101-30232">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1101-30232).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1101-30233">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1101-30233).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION']" id="a-1101-30234">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" (CONF:1101-30234).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']" id="a-1101-30235">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:1101-30235).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-1101-30236">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:1101-30236).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-1101-30237">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:1101-30237).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-1101-30238">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:1101-30238).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@code='1239-3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@code='1239-3']" id="a-1101-30239">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="1239-3" Revision associated with prior infection at index joint (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1101-30239).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']" id="a-1101-30240">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1101-30240).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.204'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.204'])=1" id="a-1101-30229">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1101-30229) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.204" (CONF:1101-30230).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M175"/>
</axsl:template>
<axsl:template mode="M175" priority="-1" match="text()"/>
<axsl:template mode="M176" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.204']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.204']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.204-errors-CL"/>
<axsl:apply-templates mode="M176"/>
</axsl:template>
<axsl:template mode="M176" priority="-1" match="text()"/>
<axsl:template mode="M177" priority="3999" match="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.153.2']]">
<fired-rule role="" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.153.2']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.153.2-errors"/>
<axsl:choose>
<axsl:when test="@classCode='PROC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='PROC'" id="a-1101-21654">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="PROC" Procedure (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1101-21654).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1101-21655">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1101-21655).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.14'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.14'])=1" id="a-1101-30303">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1101-30303) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.14" (CONF:1101-30304).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-1101-21656">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:1101-21656).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.17']/voc:code/@value or @nullFlavor])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.17']/voc:code/@value or @nullFlavor])=1" id="a-1101-21657">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNProcedureCategoryCode urn:oid:2.16.840.1.113883.13.17 (CONF:1101-21657).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-1101-21700">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode, which SHALL be selected from ValueSet ProcedureAct statusCode urn:oid:2.16.840.1.113883.11.20.9.22 DYNAMIC (CONF:1101-21700).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-1101-21661">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:1101-21661).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[count(cda:low)=1]" id="a-1101-21662">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:1101-21662).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[count(cda:width)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[count(cda:width)=1]" id="a-1101-21663">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] width (CONF:1101-21663).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code != '2101-4'] or cda:code[@code = '2101-4' and @codeSystem='2.16.840.1.113883.6.277'] and cda:methodCode[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.3']/voc:code/@value] "/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code != '2101-4'] or cda:code[@code = '2101-4' and @codeSystem='2.16.840.1.113883.6.277'] and cda:methodCode[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.3']/voc:code/@value]" id="a-1101-21669-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the procedure category code represents a hip replacement, a methodCode element SHALL be present where the value of @code is selected from Value Set 2.16.840.1.113883.13.3 NHSNHipReplacementCode STATIC 20090625 (CONF:1101-21669).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code != '2124-6'] or cda:code[@code = '2124-6' and @codeSystem='2.16.840.1.113883.6.277'] and cda:methodCode[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.4']/voc:code/@value] "/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code != '2124-6'] or cda:code[@code = '2124-6' and @codeSystem='2.16.840.1.113883.6.277'] and cda:methodCode[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.4']/voc:code/@value]" id="a-1101-21670-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the procedure category code represents a knee replacement, a methodCode element SHALL be present where the value of @code is selected from Value Set 2.16.840.1.113883.13.4 NHSNKneeReplacementCode STATIC 20090625 (CONF:1101-21670).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code != '2137-8' and @code != '2135-2'] or cda:code[@code = '2137-8' or @code = '2135-2'] and cda:approachSiteCode[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.2']/voc:code/@value or @nullFlavor='NI']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code != '2137-8' and @code != '2135-2'] or cda:code[@code = '2137-8' or @code = '2135-2'] and cda:approachSiteCode[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.2']/voc:code/@value or @nullFlavor='NI']" id="a-1101-21674-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the procedure is a fusion or refusion (code/@code is either 2137-8 or 2135-2), an approachSiteCode element SHALL be present. If the approach site is known, the value of @code SHALL be selected from Value Set 2.16.840.1.113883.13.2 NHSNSpinalFusionApproachCode STATIC 20120808. If the approach site is not specified, the value of code@nullFlavor SHALL be NI (CONF:1101-21674).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:performer) or cda:performer[@typeCode='PRF']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:performer) or cda:performer[@typeCode='PRF']" id="a-1101-21676">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The performer, if present, SHALL contain exactly one [1..1] @typeCode="PRF" (CONF:1101-21676).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:performer) or cda:performer[count(cda:assignedEntity)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:performer) or cda:performer[count(cda:assignedEntity)=1]" id="a-1101-21677">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The performer, if present, SHALL contain exactly one [1..1] assignedEntity (CONF:1101-21677).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:performer/cda:assignedEntity) or cda:performer/cda:assignedEntity[count(cda:id) &gt; 0]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:performer/cda:assignedEntity) or cda:performer/cda:assignedEntity[count(cda:id) &gt; 0]" id="a-1101-21678">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedEntity SHALL contain at least one [1..*] id (CONF:1101-21678).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:performer/cda:assignedEntity/cda:id) or cda:performer/cda:assignedEntity/cda:id[@root]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:performer/cda:assignedEntity/cda:id) or cda:performer/cda:assignedEntity/cda:id[@root]" id="a-1101-21679">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @root (CONF:1101-21679).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-1101-21680-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This @root SHALL be the facility's identifier (CONF:1101-21680).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:performer/cda:assignedEntity/cda:id) or cda:performer/cda:assignedEntity/cda:id[@extension]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:performer/cda:assignedEntity/cda:id) or cda:performer/cda:assignedEntity/cda:id[@extension]" id="a-1101-21681">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @extension (CONF:1101-21681).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-1101-21682-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This @extension SHALL be the surgeon's identifier (CONF:1101-21682).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.112']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.112']])=1])=1" id="a-1101-21683">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entryRelationship (CONF:1101-21683) such that it SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:1101-21684). SHALL contain exactly one [1..1] Anesthesia Administration Clinical Statement (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.112) (CONF:1101-21685).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code != '2137-8' and @code != '2135-2'] or cda:code[@code = '2137-8' or @code = '2135-2'] and cda:entryRelationship[@typeCode='COMP']/cda:observation/cda:templateId[@root='2.16.840.1.113883.10.20.5.6.166']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code != '2137-8' and @code != '2135-2'] or cda:code[@code = '2137-8' or @code = '2135-2'] and cda:entryRelationship[@typeCode='COMP']/cda:observation/cda:templateId[@root='2.16.840.1.113883.10.20.5.6.166']" id="a-1101-21689-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the procedure is a fusion or refusion, this entryRelationship SHALL be present (CONF:1101-21689).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.117']])=1]) &lt; 2"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.117']])=1]) &lt; 2" id="a-1101-21690">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain zero or one [0..1] entryRelationship (CONF:1101-21690) such that it SHALL contain exactly one [1..1] @typeCode="COMP" (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:1101-21691). SHALL contain exactly one [1..1] Closure Technique Procedure (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.117) (CONF:1101-21692).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.153.2'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.153.2'])=1" id="a-1101-21695">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1101-21695) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.153.2" (CONF:1101-30250).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M177"/>
</axsl:template>
<axsl:template mode="M177" priority="-1" match="text()"/>
<axsl:template mode="M178" priority="3999" match="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.153.2']]">
<fired-rule role="" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.153.2']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.153.2-errors-CL"/>
<axsl:apply-templates mode="M178"/>
</axsl:template>
<axsl:template mode="M178" priority="-1" match="text()"/>
<axsl:template mode="M179" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.43.2']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.43.2']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.5.43.2-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-86-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1 STATIC) (CONF:86-21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-86-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:86-21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-86-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:86-21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-86-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:86-21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.43.2'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.43.2'])=1" id="a-1101-22358">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1101-22358) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.43.2" (CONF:1101-30248).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1101-22360">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1101-22360).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51899-3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51899-3']" id="a-1101-22361">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51899-3" Details Section (CONF:1101-22361).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry)=1" id="a-1101-22362">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:1101-22362).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entry[count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.153.2']])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entry[count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.153.2']])=1]" id="a-1101-30249">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This entry SHALL contain exactly one [1..1] Procedure Details Clinical Statement in a Procedure Report (V2) (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.153.2) (CONF:1101-30249).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']" id="a-1101-30314">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:1101-30314).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M179"/>
</axsl:template>
<axsl:template mode="M179" priority="-1" match="text()"/>
<axsl:template mode="M180" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.43.2']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.43.2']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.5.43.2-errors-CL"/>
<axsl:apply-templates mode="M180"/>
</axsl:template>
<axsl:template mode="M180" priority="-1" match="text()"/>
<axsl:template mode="M181" priority="3999" match="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.35.2']]">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.35.2']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.35.2-errors"/>
<axsl:choose>
<axsl:when test="count(cda:realmCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:realmCode)=1" id="a-86-18431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] realmCode (CONF:86-18431).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:realmCode[count(self::node()[@code='US'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:realmCode[count(self::node()[@code='US'])=1]" id="a-86-18432">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This realmCode SHALL contain exactly one [1..1] @code="US" (CONF:86-18432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-18433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-18433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51897-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51897-7']" id="a-86-18434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51897-7" Healthcare Associated Infection Report (CONF:86-18434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-18435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-18435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-86-18436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:86-18436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:confidentialityCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:confidentialityCode)=1" id="a-86-18437-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] confidentialityCode (CONF:86-18437).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:confidentialityCode[count(self::node()[@code='N'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:confidentialityCode[count(self::node()[@code='N'])=1]" id="a-86-18438">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This confidentialityCode SHALL contain exactly one [1..1] @code="N" Normal (CodeSystem: ConfidentialityCode urn:oid:2.16.840.1.113883.5.25 STATIC) (CONF:86-18438).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:languageCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:languageCode)=1" id="a-86-18439">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] languageCode (CONF:86-18439).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:languageCode[@code='en-US']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:languageCode[@code='en-US']" id="a-86-18440">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This languageCode SHALL contain exactly one [1..1] @code="en-US" (CONF:86-18440).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:setId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:setId)=1" id="a-86-18441">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] setId (CONF:86-18441).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:versionNumber)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:versionNumber)=1" id="a-86-18442">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] versionNumber (CONF:86-18442).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:custodian)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:custodian)=1" id="a-86-18443">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] custodian (CONF:86-18443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian[count(cda:assignedCustodian)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian[count(cda:assignedCustodian)=1]" id="a-86-18444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This custodian SHALL contain exactly one [1..1] assignedCustodian (CONF:86-18444).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]" id="a-86-18445">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedCustodian SHALL contain exactly one [1..1] representedCustodianOrganization (CONF:86-18445).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]" id="a-86-18446">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This representedCustodianOrganization SHALL contain exactly one [1..1] id (CONF:86-18446).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']" id="a-86-18447">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root="2.16.840.1.114222.4.3.2.11" (CONF:86-18447).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-86-18448">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:86-18448).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-86-18449">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:86-18449).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-18450-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The structuredBody element SHALL contain a component element for each section required by the particular report type. Additional sections may be present but their content will not be processed by NHSN (CONF:86-18450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1" id="a-86-18460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-18460) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.25" (CONF:86-18461).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:typeId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:typeId)=1" id="a-86-18463">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] typeId (CONF:86-18463).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@root='2.16.840.1.113883.1.3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@root='2.16.840.1.113883.1.3']" id="a-86-18464">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @root="2.16.840.1.113883.1.3" (CONF:86-18464).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@extension='POCD_HD000040']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@extension='POCD_HD000040']" id="a-86-18465">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @extension="POCD_HD000040" (CONF:86-18465).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-18466-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-18466).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']" id="a-86-18470">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] @typeCode="RPLC" replace (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-18470).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-18471-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If versionNumber/@value is greater than 1, a relatedDocument element SHALL be present (CONF:86-18471).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget) &gt; 0" id="a-86-18472-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] recordTarget (CONF:86-18472).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:author) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:author) &gt; 0" id="a-86-18473-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] author (CONF:86-18473).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-86-18475-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain at least one [1..*] component (CONF:86-18475).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem]" id="a-86-27413">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:86-27413).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[count(cda:parentDocument)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[count(cda:parentDocument)=1]" id="a-86-28401">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] parentDocument (CONF:86-28401).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument/cda:parentDocument) or cda:relatedDocument/cda:parentDocument[count(cda:id) &gt; 0]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument/cda:parentDocument) or cda:relatedDocument/cda:parentDocument[count(cda:id) &gt; 0]" id="a-86-28402">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This parentDocument SHALL contain at least one [1..*] id (CONF:86-28402).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-28403-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of id SHALL be populated with the ClinicalDocument/id of the document being replaced (CONF:86-28403).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27'])=1" id="a-86-22415">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22415) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.27" (CONF:86-22416).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget)=1" id="a-86-22417">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] recordTarget (CONF:86-22417).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget[count(cda:patientRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget[count(cda:patientRole)=1]" id="a-86-22418">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This recordTarget SHALL contain exactly one [1..1] patientRole (CONF:86-22418).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:id) &gt; 0]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:id) &gt; 0]" id="a-86-22419">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain at least one [1..*] id (CONF:86-22419).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@root]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@root]" id="a-86-22420">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @root (CONF:86-22420).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@extension]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@extension]" id="a-86-22421">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @extension (CONF:86-22421).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:patient)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:patient)=1]" id="a-86-22422">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain exactly one [1..1] patient (CONF:86-22422).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:administrativeGenderCode)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:administrativeGenderCode)=1]" id="a-86-22424">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patient SHALL contain exactly one [1..1] administrativeGenderCode (CONF:86-22424).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient/cda:administrativeGenderCode[@code and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.1.11.1']/voc:code/@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient/cda:administrativeGenderCode[@code and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.1.11.1']/voc:code/@value]" id="a-86-22425">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This administrativeGenderCode SHALL contain exactly one [1..1] @code, which SHALL be selected from ValueSet Administrative Gender (HL7 V3) urn:oid:2.16.840.1.113883.1.11.1 STATIC (CONF:86-22425).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:birthTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:birthTime)=1]" id="a-86-22426">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patient SHALL contain exactly one [1..1] birthTime (CONF:86-22426).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient/cda:birthTime[@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient/cda:birthTime[@value]" id="a-86-22427">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This birthTime SHALL contain exactly one [1..1] @value (CONF:86-22427).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.2.1.1'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.2.1.1'])=1" id="a-1101-30309">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1101-30309) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.7.2.1.1" (CONF:1101-30310).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:componentOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:componentOf)=1" id="a-1101-22533">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] componentOf (CONF:1101-22533).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf[count(cda:encompassingEncounter)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf[count(cda:encompassingEncounter)=1]" id="a-1101-22534">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This componentOf SHALL contain exactly one [1..1] encompassingEncounter (CONF:1101-22534).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter[count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.1']/voc:code/@value or @nullFlavor])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter[count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.1']/voc:code/@value or @nullFlavor])=1]" id="a-1101-22535">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This encompassingEncounter SHALL contain exactly one [1..1] code (ValueSet: NHSNEncounterTypeCode urn:oid:2.16.840.1.113883.13.1 STATIC 2009-01-30) (CONF:1101-22535).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]" id="a-1101-22537">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This encompassingEncounter SHALL contain exactly one [1..1] location (CONF:1101-22537).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]" id="a-1101-22538">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This location SHALL contain exactly one [1..1] healthCareFacility (CONF:1101-22538).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]" id="a-1101-22539">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This healthCareFacility SHALL contain exactly one [1..1] id (CONF:1101-22539).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]" id="a-1101-22540">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root (CONF:1101-22540).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:code[@code != 'IMP'] or (cda:componentOf/cda:encompassingEncounter/cda:code[@code = 'IMP'] and cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:low/@value)"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:code[@code != 'IMP'] or (cda:componentOf/cda:encompassingEncounter/cda:code[@code = 'IMP'] and cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:low/@value)" id="a-1101-22544-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the patient is an inpatient (code/@code='IMP'), admission date is recorded: An effectiveTime element SHALL be present. This effectiveTime SHALL [1..1] contain a low element. This low element SHALL [1..1] contain @value (CONF:1101-22544).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-1101-22545">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:1101-22545).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-1101-22546">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:1101-22546).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.43.2']])=1])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.43.2']])=1])=1]" id="a-1101-22547">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:1101-22547) such that it SHALL contain exactly one [1..1] Procedure Details Section in a Procedure Report (V2) (identifier: urn:oid:2.16.840.1.113883.10.20.5.5.43.2) (CONF:1101-30256).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.35']])=1])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.35']])=1])=1]" id="a-1101-22551">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:1101-22551) such that it SHALL contain exactly one [1..1] Infection Risk Factors Section in a Procedure Report (identifier: urn:oid:2.16.840.1.113883.10.20.5.5.35) (CONF:1101-22552).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.35.2'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.35.2'])=1" id="a-1101-22531">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1101-22531) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.35.2" (CONF:1101-30255).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M181"/>
</axsl:template>
<axsl:template mode="M181" priority="-1" match="text()"/>
<axsl:template mode="M182" priority="3999" match="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.35.2']]">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.35.2']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.35.2-errors-CL"/>
<axsl:apply-templates mode="M182"/>
</axsl:template>
<axsl:template mode="M182" priority="-1" match="text()"/>
<axsl:template mode="M183" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.205']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.205']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.205-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-1101-30257">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:1101-30257).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1101-30258">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" (CONF:1101-30258).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-1101-30259">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:1101-30259).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-1101-30260-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If an infection was present at the time that a surgical procedure was performed, the value of @negationInd SHALL be false. If an infection was not present at the time that a surgical procedure was performed, the value of @negationInd SHALL be true (CONF:1101-30260).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1" id="a-1101-30299">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1101-30299) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:1101-30300).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-1101-30263">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:1101-30263).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-1101-30264">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1101-30264).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1101-30265">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1101-30265).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION']" id="a-1101-30266">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" (CONF:1101-30266).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']" id="a-1101-30267">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:1101-30267).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-1101-30268">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:1101-30268).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-1101-30269">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:1101-30269).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-1101-30270">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:1101-30270).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@code='1237-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@code='1237-7']" id="a-1101-30271">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="1237-7" Infection present at the time of surgery (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1101-30271).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']" id="a-1101-30272">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1101-30272).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.205'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.205'])=1" id="a-1101-30261">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1101-30261) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.205" (CONF:1101-30262).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M183"/>
</axsl:template>
<axsl:template mode="M183" priority="-1" match="text()"/>
<axsl:template mode="M184" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.205']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.205']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.205-errors-CL"/>
<axsl:apply-templates mode="M184"/>
</axsl:template>
<axsl:template mode="M184" priority="-1" match="text()"/>
<axsl:template mode="M185" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.39.2']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.39.2']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.5.39.2-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-86-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1 STATIC) (CONF:86-21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-86-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:86-21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-86-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:86-21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-86-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:86-21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.39.2'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.39.2'])=1" id="a-1101-22320">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1101-22320) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.39.2" (CONF:1101-30273).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1101-22322">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1101-22322).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51899-3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51899-3']" id="a-1101-22323">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51899-3" Details Section (CONF:1101-22323).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.139']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.139']])=1])=1" id="a-1101-22324">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:1101-22324) such that it SHALL contain exactly one [1..1] Infection-Type Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.139) (CONF:1101-22325).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.205']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.205']])=1])=1" id="a-1101-30274">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:1101-30274) such that it SHALL contain exactly one [1..1] Infection Present at the Time of Surgery Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.205) (CONF:1101-30275).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.206']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.206']])=1])=1" id="a-1101-30294">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:1101-30294) such that it SHALL contain exactly one [1..1] SSI Detected Using Toolkit Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.206) (CONF:1101-30295).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.154']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.154']])=1])=1" id="a-1101-30296">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:1101-30296) such that it SHALL contain exactly one [1..1] Procedure Details Clinical Statement in an Infection-Type Report (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.154) (CONF:1101-30297).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']" id="a-1101-30313">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:1101-30313).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M185"/>
</axsl:template>
<axsl:template mode="M185" priority="-1" match="text()"/>
<axsl:template mode="M186" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.39.2']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.39.2']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.5.39.2-errors-CL"/>
<axsl:apply-templates mode="M186"/>
</axsl:template>
<axsl:template mode="M186" priority="-1" match="text()"/>
<axsl:template mode="M187" priority="3999" match="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.33.2']]">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.33.2']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.33.2-errors"/>
<axsl:choose>
<axsl:when test="count(cda:realmCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:realmCode)=1" id="a-86-18431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] realmCode (CONF:86-18431).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:realmCode[count(self::node()[@code='US'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:realmCode[count(self::node()[@code='US'])=1]" id="a-86-18432">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This realmCode SHALL contain exactly one [1..1] @code="US" (CONF:86-18432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-18433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-18433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51897-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51897-7']" id="a-86-18434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51897-7" Healthcare Associated Infection Report (CONF:86-18434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-18435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-18435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-86-18436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:86-18436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:confidentialityCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:confidentialityCode)=1" id="a-86-18437-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] confidentialityCode (CONF:86-18437).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:confidentialityCode[count(self::node()[@code='N'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:confidentialityCode[count(self::node()[@code='N'])=1]" id="a-86-18438">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This confidentialityCode SHALL contain exactly one [1..1] @code="N" Normal (CodeSystem: ConfidentialityCode urn:oid:2.16.840.1.113883.5.25 STATIC) (CONF:86-18438).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:languageCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:languageCode)=1" id="a-86-18439">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] languageCode (CONF:86-18439).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:languageCode[@code='en-US']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:languageCode[@code='en-US']" id="a-86-18440">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This languageCode SHALL contain exactly one [1..1] @code="en-US" (CONF:86-18440).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:setId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:setId)=1" id="a-86-18441">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] setId (CONF:86-18441).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:versionNumber)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:versionNumber)=1" id="a-86-18442">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] versionNumber (CONF:86-18442).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:custodian)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:custodian)=1" id="a-86-18443">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] custodian (CONF:86-18443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian[count(cda:assignedCustodian)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian[count(cda:assignedCustodian)=1]" id="a-86-18444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This custodian SHALL contain exactly one [1..1] assignedCustodian (CONF:86-18444).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]" id="a-86-18445">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedCustodian SHALL contain exactly one [1..1] representedCustodianOrganization (CONF:86-18445).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]" id="a-86-18446">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This representedCustodianOrganization SHALL contain exactly one [1..1] id (CONF:86-18446).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']" id="a-86-18447">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root="2.16.840.1.114222.4.3.2.11" (CONF:86-18447).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-86-18448">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:86-18448).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-86-18449">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:86-18449).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-18450-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The structuredBody element SHALL contain a component element for each section required by the particular report type. Additional sections may be present but their content will not be processed by NHSN (CONF:86-18450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1" id="a-86-18460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-18460) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.25" (CONF:86-18461).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:typeId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:typeId)=1" id="a-86-18463">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] typeId (CONF:86-18463).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@root='2.16.840.1.113883.1.3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@root='2.16.840.1.113883.1.3']" id="a-86-18464">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @root="2.16.840.1.113883.1.3" (CONF:86-18464).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@extension='POCD_HD000040']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@extension='POCD_HD000040']" id="a-86-18465">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @extension="POCD_HD000040" (CONF:86-18465).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-18466-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-18466).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']" id="a-86-18470">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] @typeCode="RPLC" replace (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-18470).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-18471-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If versionNumber/@value is greater than 1, a relatedDocument element SHALL be present (CONF:86-18471).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget) &gt; 0" id="a-86-18472-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] recordTarget (CONF:86-18472).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:author) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:author) &gt; 0" id="a-86-18473-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] author (CONF:86-18473).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-86-18475-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain at least one [1..*] component (CONF:86-18475).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem]" id="a-86-27413">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:86-27413).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[count(cda:parentDocument)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[count(cda:parentDocument)=1]" id="a-86-28401">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] parentDocument (CONF:86-28401).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument/cda:parentDocument) or cda:relatedDocument/cda:parentDocument[count(cda:id) &gt; 0]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument/cda:parentDocument) or cda:relatedDocument/cda:parentDocument[count(cda:id) &gt; 0]" id="a-86-28402">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This parentDocument SHALL contain at least one [1..*] id (CONF:86-28402).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-28403-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of id SHALL be populated with the ClinicalDocument/id of the document being replaced (CONF:86-28403).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27'])=1" id="a-86-22415">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22415) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.27" (CONF:86-22416).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget)=1" id="a-86-22417">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] recordTarget (CONF:86-22417).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget[count(cda:patientRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget[count(cda:patientRole)=1]" id="a-86-22418">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This recordTarget SHALL contain exactly one [1..1] patientRole (CONF:86-22418).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:id) &gt; 0]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:id) &gt; 0]" id="a-86-22419">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain at least one [1..*] id (CONF:86-22419).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@root]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@root]" id="a-86-22420">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @root (CONF:86-22420).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@extension]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@extension]" id="a-86-22421">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @extension (CONF:86-22421).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:patient)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:patient)=1]" id="a-86-22422">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain exactly one [1..1] patient (CONF:86-22422).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:administrativeGenderCode)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:administrativeGenderCode)=1]" id="a-86-22424">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patient SHALL contain exactly one [1..1] administrativeGenderCode (CONF:86-22424).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient/cda:administrativeGenderCode[@code and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.1.11.1']/voc:code/@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient/cda:administrativeGenderCode[@code and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.1.11.1']/voc:code/@value]" id="a-86-22425">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This administrativeGenderCode SHALL contain exactly one [1..1] @code, which SHALL be selected from ValueSet Administrative Gender (HL7 V3) urn:oid:2.16.840.1.113883.1.11.1 STATIC (CONF:86-22425).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:birthTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:birthTime)=1]" id="a-86-22426">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patient SHALL contain exactly one [1..1] birthTime (CONF:86-22426).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient/cda:birthTime[@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient/cda:birthTime[@value]" id="a-86-22427">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This birthTime SHALL contain exactly one [1..1] @value (CONF:86-22427).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.2.1.1'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.2.1.1'])=1" id="a-1101-30311">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1101-30311) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.7.2.1.1" (CONF:1101-30312).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:componentOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:componentOf)=1" id="a-1101-22486">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] componentOf (CONF:1101-22486).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf[count(cda:encompassingEncounter)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf[count(cda:encompassingEncounter)=1]" id="a-1101-22487">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This componentOf SHALL contain exactly one [1..1] encompassingEncounter (CONF:1101-22487).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter[count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.1']/voc:code/@value or @nullFlavor])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter[count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.1']/voc:code/@value or @nullFlavor])=1]" id="a-1101-22488">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This encompassingEncounter SHALL contain exactly one [1..1] code (ValueSet: NHSNEncounterTypeCode urn:oid:2.16.840.1.113883.13.1 STATIC 2009-01-30) (CONF:1101-22488).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter[count(cda:effectiveTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter[count(cda:effectiveTime)=1]" id="a-1101-22490">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This encompassingEncounter SHALL contain exactly one [1..1] effectiveTime (CONF:1101-22490).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime[count(cda:low)=1]" id="a-1101-27762">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:1101-27762).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:low[@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:low[@value]" id="a-1101-27763">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This low SHALL contain exactly one [1..1] @value (CONF:1101-27763).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:high) or cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:high[@value]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:high) or cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:high[@value]" id="a-1101-22492">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The high, if present, SHALL contain exactly one [1..1] @value (CONF:1101-22492).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]" id="a-1101-22493">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This encompassingEncounter SHALL contain exactly one [1..1] location (CONF:1101-22493).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]" id="a-1101-22494">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This location SHALL contain exactly one [1..1] healthCareFacility (CONF:1101-22494).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]" id="a-1101-22495">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This healthCareFacility SHALL contain exactly one [1..1] id (CONF:1101-22495).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]" id="a-1101-22496">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root (CONF:1101-22496).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-1101-22501">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:1101-22501).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-1101-22502">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:1101-22502).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.39.2']])=1])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.39.2']])=1])=1]" id="a-1101-22503">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:1101-22503) such that it SHALL contain exactly one [1..1] Infection Details Section in an SSI Report (V2) (identifier: urn:oid:2.16.840.1.113883.10.20.5.5.39.2) (CONF:1101-22504).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.45']])=1])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.45']])=1])=1]" id="a-1101-22505">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:1101-22505) such that it SHALL contain exactly one [1..1] Findings Section in an Infection-Type Report (identifier: urn:oid:2.16.840.1.113883.10.20.5.5.45) (CONF:1101-22506).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.33.2'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.33.2'])=1" id="a-1101-22484">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1101-22484) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.33.2" (CONF:1101-30276).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M187"/>
</axsl:template>
<axsl:template mode="M187" priority="-1" match="text()"/>
<axsl:template mode="M188" priority="3999" match="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.33.2']]">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.33.2']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.33.2-errors-CL"/>
<axsl:apply-templates mode="M188"/>
</axsl:template>
<axsl:template mode="M188" priority="-1" match="text()"/>
<axsl:template mode="M189" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.206']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.206']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.206-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-1101-30278">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:1101-30278).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1101-30279">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:1101-30279).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd or @nullFlavor"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd or @nullFlavor" id="a-1101-30281-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the surgical site infection was identified through the use of discharge diagnosis or procedure codes, the value of @negationInd SHALL be false. If the surgical site infection was not identified through the use of discharge diagnosis or procedure codes, the value of @negationInd SHALL be true. If the value of @negationInd is set then the value of @nullFlavor SHALL NOT be set (CONF:1101-30281).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.206'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.206'])=1" id="a-1101-30282">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1101-30282) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.206" (CONF:1101-30283).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-1101-30284">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:1101-30284).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-1101-30285">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1101-30285).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1101-30286">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1101-30286).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION']" id="a-1101-30287">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" (CONF:1101-30287).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']" id="a-1101-30288">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:1101-30288).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-1101-30289">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:1101-30289).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-1101-30290">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:1101-30290).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-1101-30291">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:1101-30291).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@code='1238-5']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@code='1238-5']" id="a-1101-30292">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="1238-5" SSI detected using the NHSN ICD-Code based Admit and Readmit SSI Surveillance Toolkit (CONF:1101-30292).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']" id="a-1101-30293">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1101-30293).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-1101-30298-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the value of @nullFlavor is set to NA then the value of @negationInd SHALL NOT be set (CONF:1101-30298).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M189"/>
</axsl:template>
<axsl:template mode="M189" priority="-1" match="text()"/>
<axsl:template mode="M190" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.206']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.206']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.206-errors-CL"/>
<axsl:apply-templates mode="M190"/>
</axsl:template>
<axsl:template mode="M190" priority="-1" match="text()"/>
<axsl:template mode="M191" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.53']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.53']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.5.53-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-86-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1 STATIC) (CONF:86-21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-86-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:86-21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-86-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:86-21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-86-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:86-21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.210']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.210']])=1])=1" id="a-1113-26">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:1113-26) such that it SHALL contain exactly one [1..1] Surgical Site Infection Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.210) (CONF:1113-33).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.53'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.53'])=1" id="a-1113-27">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1113-27) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.53" (CONF:1113-34).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1113-28">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1113-28).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51899-3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51899-3']" id="a-1113-35">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51899-3" Details Section (CONF:1113-35).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.207']])=1]) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.207']])=1]) &gt; 0" id="a-1113-48">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:1113-48) such that it SHALL contain exactly one [1..1] Infection First Reported Source Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.207) (CONF:1113-49).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M191"/>
</axsl:template>
<axsl:template mode="M191" priority="-1" match="text()"/>
<axsl:template mode="M192" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.53']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.53']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.5.53-errors-CL"/>
<axsl:apply-templates mode="M192"/>
</axsl:template>
<axsl:template mode="M192" priority="-1" match="text()"/>
<axsl:template mode="M193" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.207']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.207']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.207-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-1113-40">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" (CONF:1113-40).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1113-41">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" (CONF:1113-41).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.207'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.207'])=1" id="a-1113-42">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1113-42) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.207" (CONF:1113-43).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1113-44">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1113-44).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.6.277']" id="a-1113-46">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1113-46).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD' and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.7215']/voc:code/@value or @nullFlavor])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD' and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.7215']/voc:code/@value or @nullFlavor])=1" id="a-1113-47">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHALL be selected from ValueSet NHSNInfectionFirstReportedSource urn:oid:2.16.840.1.114222.4.11.7215 (CONF:1113-47).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-1113-21720">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:1113-21720).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-1113-21722">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:1113-21722).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-1113-21723">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:1113-21723).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M193"/>
</axsl:template>
<axsl:template mode="M193" priority="-1" match="text()"/>
<axsl:template mode="M194" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.207']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.207']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.207-errors-CL"/>
<axsl:apply-templates mode="M194"/>
</axsl:template>
<axsl:template mode="M194" priority="-1" match="text()"/>
<axsl:template mode="M195" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.208']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.208']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.208-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-1113-21655">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1113-21655).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1113-21656">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1113-21656).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1" id="a-1113-21866">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1113-21866) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:1113-21867).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1113-21659">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1113-21659).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='1655-0']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='1655-0']" id="a-1113-21660">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="1655-0" Same day outcome measure (CONF:1113-21660).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-1113-21662">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHALL be selected from ValueSet NHSNSameDayOutcomeMeasure urn:oid:2.16.840.1.114222.4.11.7214 DYNAMIC (CONF:1113-21662).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-1113-21663">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:1113-21663).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-1113-21664">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1113-21664).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-1113-21665">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:1113-21665).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-1113-21666">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:1113-21666).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-1113-21779">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:1113-21779).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-1113-21858">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:1113-21858).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.208'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.208'])=1" id="a-1113-21657">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1113-21657) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.208" (CONF:1113-21658).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M195"/>
</axsl:template>
<axsl:template mode="M195" priority="-1" match="text()"/>
<axsl:template mode="M196" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.208']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.208']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.208-errors-CL"/>
<axsl:apply-templates mode="M196"/>
</axsl:template>
<axsl:template mode="M196" priority="-1" match="text()"/>
<axsl:template mode="M197" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.209']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.209']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.209-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-1113-21667">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:1113-21667).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1113-21668">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:1113-21668).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1" id="a-1113-21864">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1113-21864) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:1113-21865).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-1113-21671">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:1113-21671).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1113-21673">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1113-21673).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-1113-21676">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:1113-21676).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-1113-21678">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:1113-21678).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-1113-21681">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:1113-21681).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-1113-21861">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:1113-21861).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.209'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.209'])=1" id="a-1113-21669">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1113-21669) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.209" (CONF:1113-21670).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M197"/>
</axsl:template>
<axsl:template mode="M197" priority="-1" match="text()"/>
<axsl:template mode="M198" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.209']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.209']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.209-errors-CL"/>
<axsl:apply-templates mode="M198"/>
</axsl:template>
<axsl:template mode="M198" priority="-1" match="text()"/>
<axsl:template mode="M199" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.54']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.54']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.5.54-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-86-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1 STATIC) (CONF:86-21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-86-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:86-21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-86-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:86-21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-86-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:86-21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.54'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.54'])=1" id="a-1113-21684">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1113-21684) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.54" (CONF:1113-21688).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1113-21685">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1113-21685).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.209']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.209']])=1])=1" id="a-1113-21686">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:1113-21686) such that it SHALL contain exactly one [1..1] Prophylactic IV Antibiotic Timing Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.209) (CONF:1113-21690).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51899-3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51899-3']" id="a-1113-21689">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51899-3" Event Details (CONF:1113-21689).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M199"/>
</axsl:template>
<axsl:template mode="M199" priority="-1" match="text()"/>
<axsl:template mode="M200" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.54']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.54']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.5.54-errors-CL"/>
<axsl:apply-templates mode="M200"/>
</axsl:template>
<axsl:template mode="M200" priority="-1" match="text()"/>
<axsl:template mode="M201" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.210']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.210']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.210-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1113-21694">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1113-21694).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-1113-21695">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:1113-21695).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-1113-21696">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:1113-21696).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.210'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.210'])=1" id="a-1113-21868">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1113-21868) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.210" (CONF:1113-21869).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship[@typeCode='REFR'][count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.135']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship[@typeCode='REFR'][count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.135']])=1])=1" id="a-1113-21698">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entryRelationship (CONF:1113-21698) such that it SHALL contain exactly one [1..1] @typeCode="REFR" (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002) (CONF:1113-21714). SHALL contain exactly one [1..1] Infection Condition Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.135) (CONF:1113-21715).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-1113-21703">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1113-21703).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1113-21704">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1113-21704).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-1113-21706">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:1113-21706).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION']" id="a-1113-21707">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:1113-21707).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']" id="a-1113-21708">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:1113-21708).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-1113-21709">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:1113-21709).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[count(cda:low)=1]" id="a-1113-21710">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:1113-21710).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-1113-21711">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:1113-21711).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(see-23220)"/>
<axsl:otherwise>
<failed-assert role="" test="not(see-23220)" id="a-1113-21714-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @typeCode="REFR" (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002) (CONF:1113-21714).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(see-23220)"/>
<axsl:otherwise>
<failed-assert role="" test="not(see-23220)" id="a-1113-21715-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] Infection Condition Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.135) (CONF:1113-21715).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship[@typeCode='SPRT'][count(cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.180']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship[@typeCode='SPRT'][count(cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.180']])=1])=1" id="a-1113-21855">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entryRelationship (CONF:1113-21855) such that it SHALL contain exactly one [1..1] @typeCode="SPRT" Supports (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002) (CONF:1113-21856). SHALL contain exactly one [1..1] Criteria of Diagnosis Organizer (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.180) (CONF:1113-21857).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1" id="a-1113-21967">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1113-21967) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:1113-21713).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M201"/>
</axsl:template>
<axsl:template mode="M201" priority="-1" match="text()"/>
<axsl:template mode="M202" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.210']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.210']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.210-errors-CL"/>
<axsl:apply-templates mode="M202"/>
</axsl:template>
<axsl:template mode="M202" priority="-1" match="text()"/>
<axsl:template mode="M203" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.55']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.55']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.5.55-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-86-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1 STATIC) (CONF:86-21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-86-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:86-21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-86-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:86-21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-86-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:86-21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.55'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.55'])=1" id="a-1113-21739">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1113-21739) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.55" (CONF:1113-21744).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1113-21740">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1113-21740).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='18769-0']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='18769-0']" id="a-1113-21745">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="18769-0" Findings Section (CONF:1113-21745).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(not(cda:entry/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.145'])) or (cda:entry/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.182'])"/>
<axsl:otherwise>
<failed-assert role="" test="not(not(cda:entry/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.145'])) or (cda:entry/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.182'])" id="a-1113-21746-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If pathogens were identified, the Findings Section SHALL contain at least one and no more than three entry elements containing a Findings Organizer reporting pathogens identified (CONF:1113-21746).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(not(cda:entry/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.182'])) or (cda:entry/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.145'])"/>
<axsl:otherwise>
<failed-assert role="" test="not(not(cda:entry/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.182'])) or (cda:entry/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.145'])" id="a-1113-21748-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If no pathogens were identified, the Findings Section SHALL contain a single entry element containing a Pathogen Identified Observation reporting that no pathogens were identified (CONF:1113-21748).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']" id="a-1113-21749">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CONF:1113-21749).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M203"/>
</axsl:template>
<axsl:template mode="M203" priority="-1" match="text()"/>
<axsl:template mode="M204" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.55']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.55']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.5.55-errors-CL"/>
<axsl:apply-templates mode="M204"/>
</axsl:template>
<axsl:template mode="M204" priority="-1" match="text()"/>
<axsl:template mode="M205" priority="3999" match="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.47']]">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.47']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.47-errors"/>
<axsl:choose>
<axsl:when test="count(cda:realmCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:realmCode)=1" id="a-86-18431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] realmCode (CONF:86-18431).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:realmCode[count(self::node()[@code='US'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:realmCode[count(self::node()[@code='US'])=1]" id="a-86-18432">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This realmCode SHALL contain exactly one [1..1] @code="US" (CONF:86-18432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-18433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-18433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51897-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51897-7']" id="a-86-18434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51897-7" Healthcare Associated Infection Report (CONF:86-18434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-18435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-18435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-86-18436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:86-18436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:confidentialityCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:confidentialityCode)=1" id="a-86-18437-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] confidentialityCode (CONF:86-18437).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:confidentialityCode[count(self::node()[@code='N'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:confidentialityCode[count(self::node()[@code='N'])=1]" id="a-86-18438">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This confidentialityCode SHALL contain exactly one [1..1] @code="N" Normal (CodeSystem: ConfidentialityCode urn:oid:2.16.840.1.113883.5.25 STATIC) (CONF:86-18438).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:languageCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:languageCode)=1" id="a-86-18439">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] languageCode (CONF:86-18439).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:languageCode[@code='en-US']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:languageCode[@code='en-US']" id="a-86-18440">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This languageCode SHALL contain exactly one [1..1] @code="en-US" (CONF:86-18440).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:setId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:setId)=1" id="a-86-18441">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] setId (CONF:86-18441).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:versionNumber)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:versionNumber)=1" id="a-86-18442">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] versionNumber (CONF:86-18442).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:custodian)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:custodian)=1" id="a-86-18443">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] custodian (CONF:86-18443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian[count(cda:assignedCustodian)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian[count(cda:assignedCustodian)=1]" id="a-86-18444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This custodian SHALL contain exactly one [1..1] assignedCustodian (CONF:86-18444).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]" id="a-86-18445">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedCustodian SHALL contain exactly one [1..1] representedCustodianOrganization (CONF:86-18445).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]" id="a-86-18446">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This representedCustodianOrganization SHALL contain exactly one [1..1] id (CONF:86-18446).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']" id="a-86-18447">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root="2.16.840.1.114222.4.3.2.11" (CONF:86-18447).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-86-18448">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:86-18448).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-86-18449">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:86-18449).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-18450-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The structuredBody element SHALL contain a component element for each section required by the particular report type. Additional sections may be present but their content will not be processed by NHSN (CONF:86-18450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1" id="a-86-18460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-18460) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.25" (CONF:86-18461).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:typeId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:typeId)=1" id="a-86-18463">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] typeId (CONF:86-18463).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@root='2.16.840.1.113883.1.3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@root='2.16.840.1.113883.1.3']" id="a-86-18464">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @root="2.16.840.1.113883.1.3" (CONF:86-18464).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@extension='POCD_HD000040']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@extension='POCD_HD000040']" id="a-86-18465">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @extension="POCD_HD000040" (CONF:86-18465).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-18466-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-18466).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']" id="a-86-18470">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] @typeCode="RPLC" replace (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-18470).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-18471-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If versionNumber/@value is greater than 1, a relatedDocument element SHALL be present (CONF:86-18471).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget) &gt; 0" id="a-86-18472-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] recordTarget (CONF:86-18472).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:author) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:author) &gt; 0" id="a-86-18473-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] author (CONF:86-18473).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-86-18475-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain at least one [1..*] component (CONF:86-18475).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem]" id="a-86-27413">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:86-27413).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[count(cda:parentDocument)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[count(cda:parentDocument)=1]" id="a-86-28401">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] parentDocument (CONF:86-28401).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument/cda:parentDocument) or cda:relatedDocument/cda:parentDocument[count(cda:id) &gt; 0]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument/cda:parentDocument) or cda:relatedDocument/cda:parentDocument[count(cda:id) &gt; 0]" id="a-86-28402">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This parentDocument SHALL contain at least one [1..*] id (CONF:86-28402).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-28403-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of id SHALL be populated with the ClinicalDocument/id of the document being replaced (CONF:86-28403).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27'])=1" id="a-86-22415">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22415) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.27" (CONF:86-22416).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget)=1" id="a-86-22417">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] recordTarget (CONF:86-22417).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget[count(cda:patientRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget[count(cda:patientRole)=1]" id="a-86-22418">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This recordTarget SHALL contain exactly one [1..1] patientRole (CONF:86-22418).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:id) &gt; 0]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:id) &gt; 0]" id="a-86-22419">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain at least one [1..*] id (CONF:86-22419).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@root]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@root]" id="a-86-22420">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @root (CONF:86-22420).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@extension]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@extension]" id="a-86-22421">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @extension (CONF:86-22421).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:patient)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:patient)=1]" id="a-86-22422">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain exactly one [1..1] patient (CONF:86-22422).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:administrativeGenderCode)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:administrativeGenderCode)=1]" id="a-86-22424">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patient SHALL contain exactly one [1..1] administrativeGenderCode (CONF:86-22424).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient/cda:administrativeGenderCode[@code and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.1.11.1']/voc:code/@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient/cda:administrativeGenderCode[@code and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.1.11.1']/voc:code/@value]" id="a-86-22425">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This administrativeGenderCode SHALL contain exactly one [1..1] @code, which SHALL be selected from ValueSet Administrative Gender (HL7 V3) urn:oid:2.16.840.1.113883.1.11.1 STATIC (CONF:86-22425).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:birthTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:birthTime)=1]" id="a-86-22426">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patient SHALL contain exactly one [1..1] birthTime (CONF:86-22426).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient/cda:birthTime[@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient/cda:birthTime[@value]" id="a-86-22427">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This birthTime SHALL contain exactly one [1..1] @value (CONF:86-22427).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.2.2'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.2.2'])=1" id="a-1113-21968">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1113-21968) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.7.2.2" (CONF:1113-21969).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:componentOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:componentOf)=1" id="a-1113-21756">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] componentOf (CONF:1113-21756).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf[count(cda:encompassingEncounter)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf[count(cda:encompassingEncounter)=1]" id="a-1113-21757">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This componentOf SHALL contain exactly one [1..1] encompassingEncounter (CONF:1113-21757).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter[count(cda:effectiveTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter[count(cda:effectiveTime)=1]" id="a-1113-21758">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This encompassingEncounter SHALL contain exactly one [1..1] effectiveTime (CONF:1113-21758).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime[count(cda:low)=1]" id="a-1113-21759">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:1113-21759).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]" id="a-1113-21760">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This encompassingEncounter SHALL contain exactly one [1..1] location (CONF:1113-21760).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]" id="a-1113-21761">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This location SHALL contain exactly one [1..1] healthCareFacility (CONF:1113-21761).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]" id="a-1113-21762">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This healthCareFacility SHALL contain exactly one [1..1] id (CONF:1113-21762).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-1113-21764">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:1113-21764).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-1113-21765">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:1113-21765).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.53']])=1])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.53']])=1])=1]" id="a-1113-21766">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:1113-21766) such that it SHALL contain exactly one [1..1] Surgical Site Infection Details Section in an OPC Report (identifier: urn:oid:2.16.840.1.113883.10.20.5.5.53) (CONF:1113-21769).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.55']])=1])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.55']])=1])=1]" id="a-1113-21767">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:1113-21767) such that it SHALL contain exactly one [1..1] Findings Section in an OPC Report (identifier: urn:oid:2.16.840.1.113883.10.20.5.5.55) (CONF:1113-21777).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.54']])=1])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.54']])=1])=1]" id="a-1113-21768">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:1113-21768) such that it SHALL contain exactly one [1..1] Other Event Details Section (identifier: urn:oid:2.16.840.1.113883.10.20.5.5.54) (CONF:1113-21778).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:low[@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:low[@value]" id="a-1113-21771">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This low SHALL contain exactly one [1..1] @value (CONF:1113-21771).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]" id="a-1113-21772">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root (CONF:1113-21772).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.47'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.47'])=1" id="a-1113-21755">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1113-21755) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.47" (CONF:1113-21770).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M205"/>
</axsl:template>
<axsl:template mode="M205" priority="-1" match="text()"/>
<axsl:template mode="M206" priority="3999" match="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.47']]">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.47']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.47-errors-CL"/>
<axsl:apply-templates mode="M206"/>
</axsl:template>
<axsl:template mode="M206" priority="-1" match="text()"/>
<axsl:template mode="M207" priority="3999" match="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.212']]">
<fired-rule role="" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.212']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.212-errors"/>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-1113-21780">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] component (CONF:1113-21780).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.212'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.212'])=1" id="a-1113-21781">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1113-21781) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.212" (CONF:1113-21786).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-1113-21782">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:1113-21782).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.208']])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.208']])=1]" id="a-1113-21783">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such components SHALL contain exactly one [1..1] Same Day Outcome Measure Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.208) (CONF:1113-21783).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='CLUSTER'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='CLUSTER'" id="a-1113-21784">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="CLUSTER" Cluster (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1113-21784).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1113-21785">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1113-21785).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-1113-21787">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:1113-21787).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M207"/>
</axsl:template>
<axsl:template mode="M207" priority="-1" match="text()"/>
<axsl:template mode="M208" priority="3999" match="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.212']]">
<fired-rule role="" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.212']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.212-errors-CL"/>
<axsl:apply-templates mode="M208"/>
</axsl:template>
<axsl:template mode="M208" priority="-1" match="text()"/>
<axsl:template mode="M209" priority="3999" match="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.48']]">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.48']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.48-errors"/>
<axsl:choose>
<axsl:when test="count(cda:realmCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:realmCode)=1" id="a-86-18431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] realmCode (CONF:86-18431).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:realmCode[count(self::node()[@code='US'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:realmCode[count(self::node()[@code='US'])=1]" id="a-86-18432">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This realmCode SHALL contain exactly one [1..1] @code="US" (CONF:86-18432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-18433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-18433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51897-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51897-7']" id="a-86-18434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51897-7" Healthcare Associated Infection Report (CONF:86-18434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-18435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-18435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-86-18436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:86-18436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:confidentialityCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:confidentialityCode)=1" id="a-86-18437-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] confidentialityCode (CONF:86-18437).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:confidentialityCode[count(self::node()[@code='N'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:confidentialityCode[count(self::node()[@code='N'])=1]" id="a-86-18438">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This confidentialityCode SHALL contain exactly one [1..1] @code="N" Normal (CodeSystem: ConfidentialityCode urn:oid:2.16.840.1.113883.5.25 STATIC) (CONF:86-18438).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:languageCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:languageCode)=1" id="a-86-18439">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] languageCode (CONF:86-18439).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:languageCode[@code='en-US']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:languageCode[@code='en-US']" id="a-86-18440">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This languageCode SHALL contain exactly one [1..1] @code="en-US" (CONF:86-18440).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:setId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:setId)=1" id="a-86-18441">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] setId (CONF:86-18441).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:versionNumber)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:versionNumber)=1" id="a-86-18442">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] versionNumber (CONF:86-18442).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:custodian)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:custodian)=1" id="a-86-18443">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] custodian (CONF:86-18443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian[count(cda:assignedCustodian)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian[count(cda:assignedCustodian)=1]" id="a-86-18444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This custodian SHALL contain exactly one [1..1] assignedCustodian (CONF:86-18444).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]" id="a-86-18445">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedCustodian SHALL contain exactly one [1..1] representedCustodianOrganization (CONF:86-18445).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]" id="a-86-18446">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This representedCustodianOrganization SHALL contain exactly one [1..1] id (CONF:86-18446).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']" id="a-86-18447">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root="2.16.840.1.114222.4.3.2.11" (CONF:86-18447).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-86-18448">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:86-18448).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-86-18449">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:86-18449).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-18450-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The structuredBody element SHALL contain a component element for each section required by the particular report type. Additional sections may be present but their content will not be processed by NHSN (CONF:86-18450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1" id="a-86-18460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-18460) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.25" (CONF:86-18461).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:typeId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:typeId)=1" id="a-86-18463">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] typeId (CONF:86-18463).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@root='2.16.840.1.113883.1.3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@root='2.16.840.1.113883.1.3']" id="a-86-18464">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @root="2.16.840.1.113883.1.3" (CONF:86-18464).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@extension='POCD_HD000040']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@extension='POCD_HD000040']" id="a-86-18465">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @extension="POCD_HD000040" (CONF:86-18465).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-18466-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-18466).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']" id="a-86-18470">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] @typeCode="RPLC" replace (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-18470).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-18471-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If versionNumber/@value is greater than 1, a relatedDocument element SHALL be present (CONF:86-18471).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget) &gt; 0" id="a-86-18472-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] recordTarget (CONF:86-18472).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:author) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:author) &gt; 0" id="a-86-18473-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] author (CONF:86-18473).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-86-18475-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain at least one [1..*] component (CONF:86-18475).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem]" id="a-86-27413">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:86-27413).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[count(cda:parentDocument)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[count(cda:parentDocument)=1]" id="a-86-28401">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] parentDocument (CONF:86-28401).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument/cda:parentDocument) or cda:relatedDocument/cda:parentDocument[count(cda:id) &gt; 0]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument/cda:parentDocument) or cda:relatedDocument/cda:parentDocument[count(cda:id) &gt; 0]" id="a-86-28402">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This parentDocument SHALL contain at least one [1..*] id (CONF:86-28402).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-28403-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of id SHALL be populated with the ClinicalDocument/id of the document being replaced (CONF:86-28403).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.28'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.28'])=1" id="a-86-22431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22431) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.28" (CONF:86-22432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget)=1" id="a-86-22433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] recordTarget (CONF:86-22433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget[count(cda:patientRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget[count(cda:patientRole)=1]" id="a-86-22434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This recordTarget SHALL contain exactly one [1..1] patientRole (CONF:86-22434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:id)=1]" id="a-86-22435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain exactly one [1..1] id (CONF:86-22435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@nullFlavor='NA']" id="a-86-22436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" not applicable (CONF:86-22436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='SBJ'][@contextControlCode='OP'][count(cda:associatedEntity[@classCode='PRS'][count(cda:code[@code='389109008'])=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='SBJ'][@contextControlCode='OP'][count(cda:associatedEntity[@classCode='PRS'][count(cda:code[@code='389109008'])=1])=1])=1" id="a-86-22437">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:86-22437) such that it SHALL contain exactly one [1..1] @typeCode="SBJ" Subject (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:86-22438). SHALL contain exactly one [1..1] @contextControlCode="OP" (CodeSystem: HL7 Context Control Code urn:oid:2.16.840.1.113883.5.1057 STATIC) (CONF:86-22439). SHALL contain exactly one [1..1] associatedEntity (CONF:86-22440). This associatedEntity SHALL contain exactly one [1..1] @classCode="PRS" Person (CodeSystem: EntityClass urn:oid:2.16.840.1.113883.5.41 STATIC) (CONF:86-22441). This associatedEntity SHALL contain exactly one [1..1] code (CONF:86-22442). This code SHALL contain exactly one [1..1] @code="389109008" Group (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96 STATIC) (CONF:86-22443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='LOC'][@contextControlCode='OP'][count(cda:associatedEntity[@classCode='SDLOC'][count(cda:id[@root])=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='LOC'][@contextControlCode='OP'][count(cda:associatedEntity[@classCode='SDLOC'][count(cda:id[@root])=1])=1])=1" id="a-86-22444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:86-22444) such that it SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:86-22445). SHALL contain exactly one [1..1] @contextControlCode="OP" (CodeSystem: HL7 Context Control Code urn:oid:2.16.840.1.113883.5.1057 STATIC) (CONF:86-22446). SHALL contain exactly one [1..1] associatedEntity (CONF:86-22447). This associatedEntity SHALL contain exactly one [1..1] @classCode="SDLOC" Service delivery location (CodeSystem: RoleClass urn:oid:2.16.840.1.113883.5.110 STATIC) (CONF:86-22448). This associatedEntity SHALL contain exactly one [1..1] id (CONF:86-22449). This id SHALL contain exactly one [1..1] @root (CONF:86-22450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:documentationOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:documentationOf)=1" id="a-86-22451">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] documentationOf (CONF:86-22451).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf[count(cda:serviceEvent)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf[count(cda:serviceEvent)=1]" id="a-86-22452">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:86-22452).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[@classCode='CASE']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[@classCode='CASE']" id="a-86-22453">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] @classCode="CASE" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-22453).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3595']/voc:code/@value or @nullFlavor])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3595']/voc:code/@value or @nullFlavor])=1]" id="a-86-22454">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNPopulationSummaryReportTypeCode urn:oid:2.16.840.1.114222.4.11.3595 STATIC (CONF:86-22454).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:effectiveTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:effectiveTime)=1]" id="a-86-22456">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] effectiveTime (CONF:86-22456).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:low)=1]" id="a-86-22457">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:86-22457).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:high)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:high)=1]" id="a-86-22458">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] high (CONF:86-22458).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-86-22459-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The author SHALL represent the software forming the message (CONF:86-22459).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.2.2'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.2.2'])=1" id="a-1113-21970">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1113-21970) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.7.2.2" (CONF:1113-21971).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:documentationOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:documentationOf)=1" id="a-1113-21790">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] documentationOf (CONF:1113-21790).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf[count(cda:serviceEvent)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf[count(cda:serviceEvent)=1]" id="a-1113-21791">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:1113-21791).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]" id="a-1113-21792">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] code (CONF:1113-21792).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-1113-21793">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:1113-21793).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-1113-21794">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:1113-21794).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component)=1]" id="a-1113-21795">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:1113-21795).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody/cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.56']])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody/cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.56']])=1]" id="a-1113-21796">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] Summary Data Section (OPC) (identifier: urn:oid:2.16.840.1.113883.10.20.5.5.56) (CONF:1113-21796).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title[translate(text(), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz')='denominator for outpatient procedure component (opc)'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title[translate(text(), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz')='denominator for outpatient procedure component (opc)'])=1" id="a-1113-21798">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title="Denominator for Outpatient Procedure Component (OPC)" (CONF:1113-21798).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:code[@code='1657-6']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:code[@code='1657-6']" id="a-1113-21799">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="1657-6" Summary data reporting outpatient procedure component events at a facility (CONF:1113-21799).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:code[@codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:code[@codeSystem='2.16.840.1.113883.6.277']" id="a-1113-21800">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1113-21800).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.48'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.48'])=1" id="a-1113-21789">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1113-21789) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.48" (CONF:1113-21797).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M209"/>
</axsl:template>
<axsl:template mode="M209" priority="-1" match="text()"/>
<axsl:template mode="M210" priority="3999" match="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.48']]">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.48']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.48-errors-CL"/>
<axsl:apply-templates mode="M210"/>
</axsl:template>
<axsl:template mode="M210" priority="-1" match="text()"/>
<axsl:template mode="M211" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.56']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.56']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.5.56-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-86-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1 STATIC) (CONF:86-21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-86-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:86-21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-86-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:86-21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-86-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:86-21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-1113-21801">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:1113-21801).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.56'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.56'])=1" id="a-1113-21802">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1113-21802) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.56" (CONF:1113-21805).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1113-21803">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1113-21803).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entry[count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.213']])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entry[count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.213']])=1]" id="a-1113-21804">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such entries SHALL contain exactly one [1..1] Summary Encounter (OPC) (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.213) (CONF:1113-21804).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51900-9']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51900-9']" id="a-1113-21806">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51900-9" Summary Data Section (CONF:1113-21806).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']" id="a-1113-21807">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:1113-21807).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M211"/>
</axsl:template>
<axsl:template mode="M211" priority="-1" match="text()"/>
<axsl:template mode="M212" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.56']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.56']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.5.56-errors-CL"/>
<axsl:apply-templates mode="M212"/>
</axsl:template>
<axsl:template mode="M212" priority="-1" match="text()"/>
<axsl:template mode="M213" priority="3999" match="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.213']]">
<fired-rule role="" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.213']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.213-errors"/>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship) &gt; 0" id="a-1113-21808">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entryRelationship (CONF:1113-21808).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.213'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.213'])=1" id="a-1113-21809">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1113-21809) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.213" (CONF:1113-21817).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.214']])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.214']])=1]" id="a-1113-21814">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such entryRelationships SHALL contain exactly one [1..1] Summary Data Observation (OPC) (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.214) (CONF:1113-21814).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='ENC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='ENC'" id="a-1113-21815">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="ENC" Encounter (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1113-21815).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1113-21816">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1113-21816).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship[@typeCode='COMP']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship[@typeCode='COMP']" id="a-1113-21825">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such entryRelationships SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:1113-21825).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M213"/>
</axsl:template>
<axsl:template mode="M213" priority="-1" match="text()"/>
<axsl:template mode="M214" priority="3999" match="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.213']]">
<fired-rule role="" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.213']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.213-errors-CL"/>
<axsl:apply-templates mode="M214"/>
</axsl:template>
<axsl:template mode="M214" priority="-1" match="text()"/>
<axsl:template mode="M215" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.214']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.214']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.214-errors"/>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.214'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.214'])=1" id="a-1113-21826">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1113-21826) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.214" (CONF:1113-21832).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='OPCSummaryData']/voc:code/@value or @nullFlavor])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='OPCSummaryData']/voc:code/@value or @nullFlavor])=1" id="a-1113-21827">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet Codes for Outpatient Procedure Component (OPC) Summary urn:oid:OPCSummaryData STATIC (CONF:1113-21827).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-1113-21828">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:1113-21828).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='INT'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='INT'])=1" id="a-1113-21829">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="INT" (CONF:1113-21829).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-1113-21830">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1113-21830).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1113-21831">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1113-21831).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-1113-21839">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:1113-21839).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='INT'][@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='INT'][@value]" id="a-1113-21840">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @value (CONF:1113-21840).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:entryRelationship) or cda:entryRelationship[@typeCode='REFR']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:entryRelationship) or cda:entryRelationship[@typeCode='REFR']" id="a-1113-21851">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] @typeCode="REFR" (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002) (CONF:1113-21851).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.215']])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.215']])=1]" id="a-1113-21852">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] Procedure Category (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.215) (CONF:1113-21852).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:entryRelationship) or (cda:code[@code='1644-4'] and cda:entryRelationship[count(cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.215'])=1])"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:entryRelationship) or (cda:code[@code='1644-4'] and cda:entryRelationship[count(cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.215'])=1])" id="a-1113-21853-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>To record total number of admissions with a primary CPT code for the procedure category (code/@code 1644-4), this observation SHALL contain this entryRelationship (CONF:1113-21853).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M215"/>
</axsl:template>
<axsl:template mode="M215" priority="-1" match="text()"/>
<axsl:template mode="M216" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.214']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.214']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.214-errors-CL"/>
<axsl:apply-templates mode="M216"/>
</axsl:template>
<axsl:template mode="M216" priority="-1" match="text()"/>
<axsl:template mode="M217" priority="3999" match="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.215']]">
<fired-rule role="" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.215']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.215-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1113-21841">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNProcedureCategoryCode urn:oid:2.16.840.1.113883.13.17 DYNAMIC (CONF:1113-21841).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.14'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.14'])=1" id="a-1113-21862">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1113-21862) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.14" (CONF:1113-21863).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-1113-21843">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:1113-21843).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='PROC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='PROC'" id="a-1113-21846">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="PROC" Procedure (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1113-21846).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1113-21847">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1113-21847).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-1113-21848">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:1113-21848).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-1113-21860-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If this template is used in the HAI Outpatient Procedure Component (OPC) Event Report, then the translation SHALL be present (CONF:1113-21860).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.215'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.215'])=1" id="a-1113-21842">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1113-21842) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.215" (CONF:1113-21845).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M217"/>
</axsl:template>
<axsl:template mode="M217" priority="-1" match="text()"/>
<axsl:template mode="M218" priority="3999" match="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.215']]">
<fired-rule role="" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.215']]" id="r-urn-oid-2.16.840.1.113883.10.20.5.6.215-errors-CL"/>
<axsl:apply-templates mode="M218"/>
</axsl:template>
<axsl:template mode="M218" priority="-1" match="text()"/>
<axsl:template mode="M219" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.216' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.216' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.216-2014-12-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1129-2">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1129-2).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-1129-4">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:1129-4).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-1129-5">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1129-5).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1129-6">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1129-6).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='6130-9']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='6130-9']" id="a-1129-8">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="6130-9" Contraindication type (CONF:1129-8).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-1129-10">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHALL be selected from ValueSet NHSNContraindicationType urn:oid:2.16.840.1.114222.4.11.7239 DYNAMIC (CONF:1129-10).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-1129-12">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:1129-12).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.216'][@extension='2014-12-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.216'][@extension='2014-12-01'])=1" id="a-1129-30522">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-30522) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.216" (CONF:1129-30523). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30524).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M219"/>
</axsl:template>
<axsl:template mode="M219" priority="-1" match="text()"/>
<axsl:template mode="M220" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.216' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.216' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.216-2014-12-01-errors-CL"/>
<axsl:apply-templates mode="M220"/>
</axsl:template>
<axsl:template mode="M220" priority="-1" match="text()"/>
<axsl:template mode="M221" priority="3999" match="cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.162' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.162' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.162-2014-12-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:consumable)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:consumable)=1" id="a-1129-21362">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] consumable (CONF:1129-21362).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:consumable[count(cda:manufacturedProduct)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:consumable[count(cda:manufacturedProduct)=1]" id="a-1129-21363">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This consumable SHALL contain exactly one [1..1] manufacturedProduct (CONF:1129-21363).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:consumable/cda:manufacturedProduct[count(cda:manufacturedMaterial)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:consumable/cda:manufacturedProduct[count(cda:manufacturedMaterial)=1]" id="a-1129-21365">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This manufacturedProduct SHALL contain exactly one [1..1] manufacturedMaterial (CONF:1129-21365).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial[count(cda:code)=1]" id="a-1129-21367">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This manufacturedMaterial SHALL contain exactly one [1..1] code (CONF:1129-21367).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.16'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.16'])=1" id="a-1129-30537">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-30537) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.16" (CONF:1129-30538).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-1129-22119">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:1129-22119).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-1129-22120">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:1129-22120).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime[@xsi:type='IVL_TS'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime[@xsi:type='IVL_TS'])=1" id="a-1129-22121">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:1129-22121).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@xsi:type='IVL_TS'][count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@xsi:type='IVL_TS'][count(cda:low)=1]" id="a-1129-22122">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:1129-22122).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@xsi:type='IVL_TS'][count(cda:high)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@xsi:type='IVL_TS'][count(cda:high)=1]" id="a-1129-22123">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] high (CONF:1129-22123).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='SBADM'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='SBADM'" id="a-1129-21359">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="SBADM" Substance administration (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1129-21359).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1129-21360">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1129-21360).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-1129-21361">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:1129-21361).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:consumable/cda:manufacturedProduct[@classCode='MANU']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:consumable/cda:manufacturedProduct[@classCode='MANU']" id="a-1129-21364">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This manufacturedProduct SHALL contain exactly one [1..1] @classCode="MANU" Manufactured product (CodeSystem: RoleClass urn:oid:2.16.840.1.113883.5.110 STATIC) (CONF:1129-21364).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial[@classCode='MMAT']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial[@classCode='MMAT']" id="a-1129-21366">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This manufacturedMaterial SHALL contain exactly one [1..1] @classCode="MMAT" Manufactured material (CodeSystem: EntityClass urn:oid:2.16.840.1.113883.5.41 STATIC) (CONF:1129-21366).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial/cda:code[@code = document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3183']/voc:code/@value or (@nullFlavor='OTH' and cda:originalText)]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial/cda:code[@code = document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3183']/voc:code/@value or (@nullFlavor='OTH' and cda:originalText)]" id="a-1129-21368-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>To record a skin-preparation solution as a code, the value of @code SHALL be selected from ValueSet 2.16.840.1.114222.4.11.3183 NHSNSkinPreparationCode DYNAMIC. Or, to record a skin-preparation solution as text, the value of @nullFlavor SHALL be OTH and an originalText element SHALL be present recording the skin-preparation solution (CONF:1129-21368).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-1129-22785">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1129-22785).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-1129-28105">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:1129-28105).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@xsi:type='IVL_TS']/cda:low[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@xsi:type='IVL_TS']/cda:low[@nullFlavor='NA']" id="a-1129-22786">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This low SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1129-22786).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@xsi:type='IVL_TS']/cda:high[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@xsi:type='IVL_TS']/cda:high[@nullFlavor='NA']" id="a-1129-22787">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This high SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1129-22787).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(testable)"/>
<axsl:otherwise>
<failed-assert role="" test="not(testable)" id="a-1129-23294-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>When recording whether chlorhexidine gluconate was applied, if it was not applied, and was contraindicated, the value of @negationInd on the Contraindicated Observation SHALL be false. If it was not contraindicated, the value of @negationInd on the Contraindicated Observation SHALL be true. If it is not known whether it was contraindicated, the value of @nullFlavor on the Contraindicated Observation SHALL be UNK. For examples and further explanation, see the Contraindicated Observation template (CONF:1129-23294).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-1129-23295-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If chlorhexidine gluconate was NOT applied, SHALL contain an entryRelationship containing a Contraindicated Observation (CONF:1129-23295).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.162'][@extension='2014-12-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.162'][@extension='2014-12-01'])=1" id="a-1129-22118">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-22118) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.162" (CONF:1129-22124). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30539).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:consumable/cda:manufacturedProduct[count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.23'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:consumable/cda:manufacturedProduct[count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.23'])=1]" id="a-1129-30556">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This manufacturedProduct SHALL contain exactly one [1..1] templateId (CONF:1129-30556) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.23" (CONF:1129-30557).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M221"/>
</axsl:template>
<axsl:template mode="M221" priority="-1" match="text()"/>
<axsl:template mode="M222" priority="3999" match="cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.162' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.162' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.162-2014-12-01-errors-CL"/>
<axsl:apply-templates mode="M222"/>
</axsl:template>
<axsl:template mode="M222" priority="-1" match="text()"/>
<axsl:template mode="M223" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.118' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.118' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.118-2014-12-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.19'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.19'])=1" id="a-1129-30519">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-30519) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.19" (CONF:1129-30520).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-1129-21786">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:1129-21786).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1129-21787">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1129-21787).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-1129-21789">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:1129-21789).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-1129-21791">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:1129-21791).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd or @nullFlavor='UNK'"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd or @nullFlavor='UNK'" id="a-1129-21779-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If it is not known whether the target statement was contraindicated, the value of @nullFlavor SHALL be UNK. If the value of @nullFlavor is set to UNK then the value of @negationInd SHALL NOT be set (CONF:1129-21779).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-1129-21780">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1129-21780).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1129-21781">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1129-21781).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd or @nullFlavor='UNK'"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd or @nullFlavor='UNK'" id="a-1129-21783-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the target statement was contraindicated, the value of @negationInd SHALL be false. If the target statement was not contraindicated (i.e., ok to proceed with the treatment specified by the target statement), the value of @negationInd SHALL be true. If the value of @negationInd is set then the value of @nullFlavor SHALL NOT be set (CONF:1129-21783).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION']" id="a-1129-21788">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:1129-21788).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-1129-21790">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:1129-21790).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@code='410536001']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@code='410536001']" id="a-1129-21792">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="410536001" Contraindicated (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96 STATIC) (CONF:1129-21792).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.118'][@extension='2014-12-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.118'][@extension='2014-12-01'])=1" id="a-1129-21785">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-21785) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.118" (CONF:1129-28109). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30521).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-1129-21793">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CodeSystem: HL7NullFlavor urn:oid:2.16.840.1.113883.5.1008) (CONF:1129-21793).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']" id="a-1129-30604">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:1129-30604).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M223"/>
</axsl:template>
<axsl:template mode="M223" priority="-1" match="text()"/>
<axsl:template mode="M224" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.118' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.118' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.118-2014-12-01-errors-CL"/>
<axsl:apply-templates mode="M224"/>
</axsl:template>
<axsl:template mode="M224" priority="-1" match="text()"/>
<axsl:template mode="M225" priority="3999" match="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.183' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.183' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.183-2014-12-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-1129-22260">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] component (CONF:1129-22260).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.183'][@extension='2014-12-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.183'][@extension='2014-12-01'])=1" id="a-1129-22254">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-22254) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.183" (CONF:1129-28110). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30293).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-1129-22257">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:1129-22257).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.162' and @extension = '2014-12-01']])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.162' and @extension = '2014-12-01']])=1]" id="a-1129-30432">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such components SHALL contain exactly one [1..1] Skin Preparation Clinical Statement (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.162:2014-12-01) (CONF:1129-30432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='CLUSTER'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='CLUSTER'" id="a-1129-22252">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="CLUSTER" Cluster (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1129-22252).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1129-22253">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1129-22253).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-1129-22258">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:1129-22258).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component/cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.162']/cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial/cda:code[@code or (@originalText and @nullText='OTH')]) &gt;= 1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component/cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.162']/cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial/cda:code[@code or (@originalText and @nullText='OTH')]) &gt;= 1" id="a-1129-22262-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>A component containing a Skin Preparation Clinical Statement SHALL be present for each skin-preparation solution required by the NHSN protocol. One additional such component element MAY be present recording an uncoded (text) skin-preparation solution (CONF:1129-22262).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M225"/>
</axsl:template>
<axsl:template mode="M225" priority="-1" match="text()"/>
<axsl:template mode="M226" priority="3999" match="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.183' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.183' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.183-2014-12-01-errors-CL"/>
<axsl:apply-templates mode="M226"/>
</axsl:template>
<axsl:template mode="M226" priority="-1" match="text()"/>
<axsl:template mode="M227" priority="3999" match="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.179' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.179' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.179-2014-12-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:component[count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.130']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component[count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.130']])=1])=1" id="a-1129-22092">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:1129-22092) such that it SHALL contain exactly one [1..1] Hand Hygiene Performed Clinical Statement (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.130) (CONF:1129-23057).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.179'][@extension='2014-12-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.179'][@extension='2014-12-01'])=1" id="a-1129-22088">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-22088) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.179" (CONF:1129-22089). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30279).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-1129-22090">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:1129-22090).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-1129-22091">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:1129-22091).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component[count(cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.183' and @extension = '2014-12-01']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component[count(cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.183' and @extension = '2014-12-01']])=1])=1" id="a-1129-22093">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:1129-22093) such that it SHALL contain exactly one [1..1] Skin-Preparation Solutions Applied Organizer (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.183:2014-12-01) (CONF:1129-30426).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component[count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.167']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component[count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.167']])=1])=1" id="a-1129-22094">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:1129-22094) such that it SHALL contain exactly one [1..1] Sterile Barriers Applied Clinical Statement (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.167) (CONF:1129-23059).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='CLUSTER'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='CLUSTER'" id="a-1129-22086">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="CLUSTER" Cluster (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1129-22086).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1129-22087">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1129-22087).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-1129-22733">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1129-22733).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-1129-23060">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:1129-23060).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M227"/>
</axsl:template>
<axsl:template mode="M227" priority="-1" match="text()"/>
<axsl:template mode="M228" priority="3999" match="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.179' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.179' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.179-2014-12-01-errors-CL"/>
<axsl:apply-templates mode="M228"/>
</axsl:template>
<axsl:template mode="M228" priority="-1" match="text()"/>
<axsl:template mode="M229" priority="3999" match="cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.116' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.116' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.116-2014-12-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.12'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.12'])=1" id="a-1129-30516">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-30516) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.12" (CONF:1129-30517).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-1129-22966">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:1129-22966).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-1129-22968">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CodeSystem: HL7NullFlavor urn:oid:2.16.840.1.113883.5.1008) (CONF:1129-22968).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.116'][@extension='2014-12-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.116'][@extension='2014-12-01'])=1" id="a-1129-22965">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-22965) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.116" (CONF:1129-28111). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30518).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:sequenceNumber[@value='1'])=1][count(cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.179' and @extension = '2014-12-01']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:sequenceNumber[@value='1'])=1][count(cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.179' and @extension = '2014-12-01']])=1])=1" id="a-1129-22008">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entryRelationship (CONF:1129-22008) such that it SHALL contain exactly one [1..1] sequenceNumber (CONF:1129-22011). This sequenceNumber SHALL contain exactly one [1..1] @value="1" (CONF:1129-22012). SHALL contain exactly one [1..1] Central-Line Insertion Preparation Organizer (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.179:2014-12-01) (CONF:1129-30425). SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:1129-22009).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:sequenceNumber[@value='2'])=1][count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.163']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:sequenceNumber[@value='2'])=1][count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.163']])=1])=1" id="a-1129-22013">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entryRelationship (CONF:1129-22013) such that it SHALL contain exactly one [1..1] sequenceNumber (CONF:1129-22016). This sequenceNumber SHALL contain exactly one [1..1] @value="2" (CONF:1129-22017). SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:1129-22014). SHALL contain exactly one [1..1] Solutions Dried Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.163) (CONF:1129-22015).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1129-22018">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1129-22018).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='ACT'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='ACT'" id="a-1129-22005">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="ACT" Act (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1129-22005).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1129-22006">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1129-22006).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd='false'"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd='false'" id="a-1129-22007">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd="false" (CONF:1129-22007).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='3108-8' and @codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='3108-8' and @codeSystem='2.16.840.1.113883.6.277']" id="a-1129-22019">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="3108-8" Central line insertion practice (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277 STATIC) (CONF:1129-22019).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M229"/>
</axsl:template>
<axsl:template mode="M229" priority="-1" match="text()"/>
<axsl:template mode="M230" priority="3999" match="cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.116' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.116' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.116-2014-12-01-errors-CL"/>
<axsl:apply-templates mode="M230"/>
</axsl:template>
<axsl:template mode="M230" priority="-1" match="text()"/>
<axsl:template mode="M231" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.34' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.34' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.34-2014-12-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-86-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1 STATIC) (CONF:86-21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-86-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:86-21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-86-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:86-21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-86-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:86-21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.116' and @extension = '2014-12-01']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.116' and @extension = '2014-12-01']])=1])=1" id="a-1129-22275">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:1129-22275) such that it SHALL contain exactly one [1..1] Central-Line Insertion Practice Clinical Statement (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.116:2014-12-01) (CONF:1129-30430).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1129-22273">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1129-22273).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.34'][@extension='2014-12-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.34'][@extension='2014-12-01'])=1" id="a-1129-22277">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-22277) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.34" (CONF:1129-28199). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30288).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51898-5']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51898-5']" id="a-1129-22274">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51898-5" Risk Factors Section (CONF:1129-22274).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']" id="a-1129-28198">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:1129-28198).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M231"/>
</axsl:template>
<axsl:template mode="M231" priority="-1" match="text()"/>
<axsl:template mode="M232" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.34' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.34' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.34-2014-12-01-errors-CL"/>
<axsl:apply-templates mode="M232"/>
</axsl:template>
<axsl:template mode="M232" priority="-1" match="text()"/>
<axsl:template mode="M233" priority="3999" match="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.36' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.36' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.36-2014-12-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:realmCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:realmCode)=1" id="a-86-18431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] realmCode (CONF:86-18431).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:realmCode[count(self::node()[@code='US'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:realmCode[count(self::node()[@code='US'])=1]" id="a-86-18432">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This realmCode SHALL contain exactly one [1..1] @code="US" (CONF:86-18432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-18433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-18433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51897-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51897-7']" id="a-86-18434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51897-7" Healthcare Associated Infection Report (CONF:86-18434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-18435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-18435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-86-18436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:86-18436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:confidentialityCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:confidentialityCode)=1" id="a-86-18437-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] confidentialityCode (CONF:86-18437).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:confidentialityCode[count(self::node()[@code='N'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:confidentialityCode[count(self::node()[@code='N'])=1]" id="a-86-18438">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This confidentialityCode SHALL contain exactly one [1..1] @code="N" Normal (CodeSystem: ConfidentialityCode urn:oid:2.16.840.1.113883.5.25 STATIC) (CONF:86-18438).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:languageCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:languageCode)=1" id="a-86-18439">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] languageCode (CONF:86-18439).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:languageCode[@code='en-US']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:languageCode[@code='en-US']" id="a-86-18440">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This languageCode SHALL contain exactly one [1..1] @code="en-US" (CONF:86-18440).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:setId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:setId)=1" id="a-86-18441">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] setId (CONF:86-18441).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:versionNumber)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:versionNumber)=1" id="a-86-18442">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] versionNumber (CONF:86-18442).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:custodian)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:custodian)=1" id="a-86-18443">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] custodian (CONF:86-18443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian[count(cda:assignedCustodian)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian[count(cda:assignedCustodian)=1]" id="a-86-18444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This custodian SHALL contain exactly one [1..1] assignedCustodian (CONF:86-18444).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]" id="a-86-18445">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedCustodian SHALL contain exactly one [1..1] representedCustodianOrganization (CONF:86-18445).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]" id="a-86-18446">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This representedCustodianOrganization SHALL contain exactly one [1..1] id (CONF:86-18446).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']" id="a-86-18447">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root="2.16.840.1.114222.4.3.2.11" (CONF:86-18447).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-86-18448">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:86-18448).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-86-18449">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:86-18449).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-18450-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The structuredBody element SHALL contain a component element for each section required by the particular report type. Additional sections may be present but their content will not be processed by NHSN (CONF:86-18450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1" id="a-86-18460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-18460) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.25" (CONF:86-18461).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:typeId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:typeId)=1" id="a-86-18463">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] typeId (CONF:86-18463).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@root='2.16.840.1.113883.1.3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@root='2.16.840.1.113883.1.3']" id="a-86-18464">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @root="2.16.840.1.113883.1.3" (CONF:86-18464).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@extension='POCD_HD000040']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@extension='POCD_HD000040']" id="a-86-18465">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @extension="POCD_HD000040" (CONF:86-18465).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-18466-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-18466).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']" id="a-86-18470">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] @typeCode="RPLC" replace (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-18470).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-18471-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If versionNumber/@value is greater than 1, a relatedDocument element SHALL be present (CONF:86-18471).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget) &gt; 0" id="a-86-18472-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] recordTarget (CONF:86-18472).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:author) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:author) &gt; 0" id="a-86-18473-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] author (CONF:86-18473).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-86-18475-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain at least one [1..*] component (CONF:86-18475).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem]" id="a-86-27413">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:86-27413).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[count(cda:parentDocument)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[count(cda:parentDocument)=1]" id="a-86-28401">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] parentDocument (CONF:86-28401).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument/cda:parentDocument) or cda:relatedDocument/cda:parentDocument[count(cda:id) &gt; 0]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument/cda:parentDocument) or cda:relatedDocument/cda:parentDocument[count(cda:id) &gt; 0]" id="a-86-28402">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This parentDocument SHALL contain at least one [1..*] id (CONF:86-28402).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-28403-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of id SHALL be populated with the ClinicalDocument/id of the document being replaced (CONF:86-28403).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27'])=1" id="a-86-22415">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22415) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.27" (CONF:86-22416).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget)=1" id="a-86-22417">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] recordTarget (CONF:86-22417).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget[count(cda:patientRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget[count(cda:patientRole)=1]" id="a-86-22418">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This recordTarget SHALL contain exactly one [1..1] patientRole (CONF:86-22418).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:id) &gt; 0]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:id) &gt; 0]" id="a-86-22419">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain at least one [1..*] id (CONF:86-22419).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@root]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@root]" id="a-86-22420">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @root (CONF:86-22420).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@extension]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@extension]" id="a-86-22421">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @extension (CONF:86-22421).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:patient)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:patient)=1]" id="a-86-22422">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain exactly one [1..1] patient (CONF:86-22422).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:administrativeGenderCode)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:administrativeGenderCode)=1]" id="a-86-22424">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patient SHALL contain exactly one [1..1] administrativeGenderCode (CONF:86-22424).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient/cda:administrativeGenderCode[@code and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.1.11.1']/voc:code/@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient/cda:administrativeGenderCode[@code and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.1.11.1']/voc:code/@value]" id="a-86-22425">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This administrativeGenderCode SHALL contain exactly one [1..1] @code, which SHALL be selected from ValueSet Administrative Gender (HL7 V3) urn:oid:2.16.840.1.113883.1.11.1 STATIC (CONF:86-22425).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:birthTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:birthTime)=1]" id="a-86-22426">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patient SHALL contain exactly one [1..1] birthTime (CONF:86-22426).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient/cda:birthTime[@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient/cda:birthTime[@value]" id="a-86-22427">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This birthTime SHALL contain exactly one [1..1] @value (CONF:86-22427).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.2.2.1'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.2.2.1'])=1" id="a-1129-30543">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-30543) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.7.2.2.1" (CONF:1129-30544).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:componentOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:componentOf)=1" id="a-1129-22555">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] componentOf (CONF:1129-22555).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf[count(cda:encompassingEncounter)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf[count(cda:encompassingEncounter)=1]" id="a-1129-22556">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This componentOf SHALL contain exactly one [1..1] encompassingEncounter (CONF:1129-22556).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter[count(cda:effectiveTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter[count(cda:effectiveTime)=1]" id="a-1129-22557">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This encompassingEncounter SHALL contain exactly one [1..1] effectiveTime (CONF:1129-22557).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime[count(cda:low)=1]" id="a-1129-22558">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:1129-22558).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]" id="a-1129-22560">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This encompassingEncounter SHALL contain exactly one [1..1] location (CONF:1129-22560).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]" id="a-1129-22561">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This location SHALL contain exactly one [1..1] healthCareFacility (CONF:1129-22561).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]" id="a-1129-22562">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This healthCareFacility SHALL contain exactly one [1..1] id (CONF:1129-22562).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-1129-22567">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:1129-22567).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-1129-22568">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:1129-22568).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.34' and @extension = '2014-12-01']])=1])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.34' and @extension = '2014-12-01']])=1])=1]" id="a-1129-22569">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:1129-22569) such that it SHALL contain exactly one [1..1] Infection Risk Factors Section in a CLIP Report (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.5.34:2014-12-01) (CONF:1129-30424).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.42']])=1])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.42']])=1])=1]" id="a-1129-22571">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:1129-22571) such that it SHALL contain exactly one [1..1] Procedure Details Section in a CLIP Report (identifier: urn:oid:2.16.840.1.113883.10.20.5.5.42) (CONF:1129-22572).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:low[count(self::node()[@nullFlavor='NI'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:low[count(self::node()[@nullFlavor='NI'])=1]" id="a-1129-22559">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This low SHALL contain exactly one [1..1] @nullFlavor="NI" No information (CodeSystem: HL7NullFlavor urn:oid:2.16.840.1.113883.5.1008 STATIC) (CONF:1129-22559).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]" id="a-1129-22563">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root (CONF:1129-22563).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@extension]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@extension]" id="a-1129-22564">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @extension (CONF:1129-22564).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:code)=1]" id="a-1129-22565">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This healthCareFacility SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNHealthcareServiceLocationCode urn:oid:2.16.840.1.113883.13.19 DYNAMIC (CONF:1129-22565).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.36'][@extension='2014-12-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.36'][@extension='2014-12-01'])=1" id="a-1129-22553">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-22553) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.36" (CONF:1129-22554). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30284).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M233"/>
</axsl:template>
<axsl:template mode="M233" priority="-1" match="text()"/>
<axsl:template mode="M234" priority="3999" match="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.36' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.36' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.36-2014-12-01-errors-CL"/>
<axsl:apply-templates mode="M234"/>
</axsl:template>
<axsl:template mode="M234" priority="-1" match="text()"/>
<axsl:template mode="M235" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.217' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.217' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.217-2014-12-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1129-28202">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1129-28202).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-1129-28203">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:1129-28203).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-1129-28204">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:1129-28204).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-1129-28205">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1129-28205).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1129-28206">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1129-28206).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-1129-28207">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:1129-28207).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[count(self::node()[@code='ASSERTION'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[count(self::node()[@code='ASSERTION'])=1]" id="a-1129-28210">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:1129-28210).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-1129-28211">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:1129-28211).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@code='6140-8']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@code='6140-8']" id="a-1129-28212">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="6140-8" Antimicrobial coated catheter used (CONF:1129-28212).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.217'][@extension='2014-12-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.217'][@extension='2014-12-01'])=1" id="a-1129-30485">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-30485) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.217" (CONF:1129-30486). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30487).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']" id="a-1129-30597">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:1129-30597).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']" id="a-1129-30607">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1129-30607).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M235"/>
</axsl:template>
<axsl:template mode="M235" priority="-1" match="text()"/>
<axsl:template mode="M236" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.217' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.217' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.217-2014-12-01-errors-CL"/>
<axsl:apply-templates mode="M236"/>
</axsl:template>
<axsl:template mode="M236" priority="-1" match="text()"/>
<axsl:template mode="M237" priority="3999" match="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.151' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.151' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.151-2014-12-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:id) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id) &gt; 0" id="a-1129-21705">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] id (CONF:1129-21705).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1129-21707">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1129-21707).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-1129-21709">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:1129-21709).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.49'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.49'])=1" id="a-1129-30488">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-30488) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.49" (CONF:1129-30489).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='ENC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='ENC'" id="a-1129-21703">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="ENC" Encounter (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1129-21703).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1129-21704">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1129-21704).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-1129-21706">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1129-21706).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='IMP' and @codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='IMP' and @codeSystem='2.16.840.1.113883.5.4']" id="a-1129-21708">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="IMP" Inpatient encounter (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4 STATIC) (CONF:1129-21708).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:effectiveTime/cda:high) or cda:effectiveTime/cda:high[@value]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:effectiveTime/cda:high) or cda:effectiveTime/cda:high[@value]" id="a-1129-21711">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The high, if present, SHALL contain exactly one [1..1] @value (CONF:1129-21711).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.151'][@extension='2014-12-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.151'][@extension='2014-12-01'])=1" id="a-1129-21714">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-21714) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.151" (CONF:1129-21715). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30275).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M237"/>
</axsl:template>
<axsl:template mode="M237" priority="-1" match="text()"/>
<axsl:template mode="M238" priority="3999" match="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.151' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.151' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.151-2014-12-01-errors-CL"/>
<axsl:apply-templates mode="M238"/>
</axsl:template>
<axsl:template mode="M238" priority="-1" match="text()"/>
<axsl:template mode="M239" priority="3999" match="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.218' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.218' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.218-2014-12-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:id) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id) &gt; 0" id="a-1129-28222">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] id (CONF:1129-28222).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1129-28223">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1129-28223).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-1129-28224">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:1129-28224).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.49'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.49'])=1" id="a-1129-30491">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-30491) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.49" (CONF:1129-30492).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant)=1" id="a-1129-28227">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:1129-28227).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant[count(cda:participantRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant[count(cda:participantRole)=1]" id="a-1129-28228">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participant SHALL contain exactly one [1..1] participantRole (CONF:1129-28228).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole[count(cda:code)=1]" id="a-1129-28229">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain exactly one [1..1] code (CONF:1129-28229).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-1129-28230">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1129-28230).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='IMP']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='IMP']" id="a-1129-28231">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="IMP" inpatient encounter (CONF:1129-28231).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='ENC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='ENC'" id="a-1129-28234">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="ENC" Encounter (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1129-28234).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1129-28235">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1129-28235).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole[@classCode='SDLOC']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole[@classCode='SDLOC']" id="a-1129-28236">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain exactly one [1..1] @classCode="SDLOC" Service Delivery Location (CodeSystem: EntityClass urn:oid:2.16.840.1.113883.5.41) (CONF:1129-28236).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole/cda:code[@code]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole/cda:code[@code]" id="a-1129-28238">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code, which SHALL be selected from ValueSet NHSNPreviousFacility urn:oid:2.16.840.1.114222.4.11.7238 DYNAMIC (CONF:1129-28238).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant[@typeCode='LOC']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant[@typeCode='LOC']" id="a-1129-28239">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participant SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90) (CONF:1129-28239).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@nullFlavor='NA']" id="a-1129-30255">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1129-30255).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']" id="a-1129-30464">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:1129-30464).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.218'][@extension='2014-12-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.218'][@extension='2014-12-01'])=1" id="a-1129-28226">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-28226) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.218" (CONF:1129-28233). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30290).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M239"/>
</axsl:template>
<axsl:template mode="M239" priority="-1" match="text()"/>
<axsl:template mode="M240" priority="3999" match="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.218' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.218' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.218-2014-12-01-errors-CL"/>
<axsl:apply-templates mode="M240"/>
</axsl:template>
<axsl:template mode="M240" priority="-1" match="text()"/>
<axsl:template mode="M241" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.44' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.44' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.44-2014-12-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-86-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1 STATIC) (CONF:86-21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-86-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:86-21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-86-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:86-21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-86-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:86-21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.151' and @extension = '2014-12-01']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.151' and @extension = '2014-12-01']])=1])=1" id="a-1129-22368">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:1129-22368) such that it SHALL contain exactly one [1..1] Prior Discharge Encounter (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.151:2014-12-01) (CONF:1129-30422).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.44'][@extension='2014-12-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.44'][@extension='2014-12-01'])=1" id="a-1129-22364">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-22364) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.44" (CONF:1129-22365). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30283).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1129-22366">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1129-22366).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='46240-8']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='46240-8']" id="a-1129-22367">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="46240-8" History of Encounters (CONF:1129-22367).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.228' and @extension = '2014-12-01']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.228' and @extension = '2014-12-01']])=1])=1" id="a-1129-28240">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:1129-28240) such that it SHALL contain exactly one [1..1] Other Facility Discharge Act (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.228:2014-12-01) (CONF:1129-30588).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.227' and @extension = '2014-12-01']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.227' and @extension = '2014-12-01']])=1])=1" id="a-1129-30273">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:1129-30273) such that it SHALL contain exactly one [1..1] Last Physical Overnight Location Act (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.227:2014-12-01) (CONF:1129-30575).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']" id="a-1129-30599">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:1129-30599).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M241"/>
</axsl:template>
<axsl:template mode="M241" priority="-1" match="text()"/>
<axsl:template mode="M242" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.44' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.44' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.44-2014-12-01-errors-CL"/>
<axsl:apply-templates mode="M242"/>
</axsl:template>
<axsl:template mode="M242" priority="-1" match="text()"/>
<axsl:template mode="M243" priority="3999" match="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.38' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.38' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.38-2014-12-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:realmCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:realmCode)=1" id="a-86-18431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] realmCode (CONF:86-18431).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:realmCode[count(self::node()[@code='US'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:realmCode[count(self::node()[@code='US'])=1]" id="a-86-18432">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This realmCode SHALL contain exactly one [1..1] @code="US" (CONF:86-18432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-18433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-18433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51897-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51897-7']" id="a-86-18434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51897-7" Healthcare Associated Infection Report (CONF:86-18434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-18435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-18435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-86-18436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:86-18436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:confidentialityCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:confidentialityCode)=1" id="a-86-18437-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] confidentialityCode (CONF:86-18437).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:confidentialityCode[count(self::node()[@code='N'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:confidentialityCode[count(self::node()[@code='N'])=1]" id="a-86-18438">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This confidentialityCode SHALL contain exactly one [1..1] @code="N" Normal (CodeSystem: ConfidentialityCode urn:oid:2.16.840.1.113883.5.25 STATIC) (CONF:86-18438).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:languageCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:languageCode)=1" id="a-86-18439">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] languageCode (CONF:86-18439).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:languageCode[@code='en-US']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:languageCode[@code='en-US']" id="a-86-18440">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This languageCode SHALL contain exactly one [1..1] @code="en-US" (CONF:86-18440).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:setId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:setId)=1" id="a-86-18441">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] setId (CONF:86-18441).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:versionNumber)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:versionNumber)=1" id="a-86-18442">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] versionNumber (CONF:86-18442).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:custodian)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:custodian)=1" id="a-86-18443">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] custodian (CONF:86-18443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian[count(cda:assignedCustodian)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian[count(cda:assignedCustodian)=1]" id="a-86-18444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This custodian SHALL contain exactly one [1..1] assignedCustodian (CONF:86-18444).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]" id="a-86-18445">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedCustodian SHALL contain exactly one [1..1] representedCustodianOrganization (CONF:86-18445).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]" id="a-86-18446">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This representedCustodianOrganization SHALL contain exactly one [1..1] id (CONF:86-18446).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']" id="a-86-18447">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root="2.16.840.1.114222.4.3.2.11" (CONF:86-18447).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-86-18448">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:86-18448).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-86-18449">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:86-18449).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-18450-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The structuredBody element SHALL contain a component element for each section required by the particular report type. Additional sections may be present but their content will not be processed by NHSN (CONF:86-18450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1" id="a-86-18460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-18460) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.25" (CONF:86-18461).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:typeId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:typeId)=1" id="a-86-18463">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] typeId (CONF:86-18463).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@root='2.16.840.1.113883.1.3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@root='2.16.840.1.113883.1.3']" id="a-86-18464">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @root="2.16.840.1.113883.1.3" (CONF:86-18464).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@extension='POCD_HD000040']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@extension='POCD_HD000040']" id="a-86-18465">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @extension="POCD_HD000040" (CONF:86-18465).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-18466-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-18466).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']" id="a-86-18470">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] @typeCode="RPLC" replace (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-18470).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-18471-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If versionNumber/@value is greater than 1, a relatedDocument element SHALL be present (CONF:86-18471).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget) &gt; 0" id="a-86-18472-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] recordTarget (CONF:86-18472).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:author) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:author) &gt; 0" id="a-86-18473-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] author (CONF:86-18473).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-86-18475-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain at least one [1..*] component (CONF:86-18475).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem]" id="a-86-27413">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:86-27413).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[count(cda:parentDocument)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[count(cda:parentDocument)=1]" id="a-86-28401">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] parentDocument (CONF:86-28401).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument/cda:parentDocument) or cda:relatedDocument/cda:parentDocument[count(cda:id) &gt; 0]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument/cda:parentDocument) or cda:relatedDocument/cda:parentDocument[count(cda:id) &gt; 0]" id="a-86-28402">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This parentDocument SHALL contain at least one [1..*] id (CONF:86-28402).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-28403-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of id SHALL be populated with the ClinicalDocument/id of the document being replaced (CONF:86-28403).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27'])=1" id="a-86-22415">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22415) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.27" (CONF:86-22416).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget)=1" id="a-86-22417">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] recordTarget (CONF:86-22417).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget[count(cda:patientRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget[count(cda:patientRole)=1]" id="a-86-22418">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This recordTarget SHALL contain exactly one [1..1] patientRole (CONF:86-22418).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:id) &gt; 0]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:id) &gt; 0]" id="a-86-22419">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain at least one [1..*] id (CONF:86-22419).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@root]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@root]" id="a-86-22420">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @root (CONF:86-22420).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@extension]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@extension]" id="a-86-22421">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @extension (CONF:86-22421).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:patient)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:patient)=1]" id="a-86-22422">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain exactly one [1..1] patient (CONF:86-22422).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:administrativeGenderCode)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:administrativeGenderCode)=1]" id="a-86-22424">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patient SHALL contain exactly one [1..1] administrativeGenderCode (CONF:86-22424).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient/cda:administrativeGenderCode[@code and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.1.11.1']/voc:code/@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient/cda:administrativeGenderCode[@code and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.1.11.1']/voc:code/@value]" id="a-86-22425">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This administrativeGenderCode SHALL contain exactly one [1..1] @code, which SHALL be selected from ValueSet Administrative Gender (HL7 V3) urn:oid:2.16.840.1.113883.1.11.1 STATIC (CONF:86-22425).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:birthTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:birthTime)=1]" id="a-86-22426">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patient SHALL contain exactly one [1..1] birthTime (CONF:86-22426).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient/cda:birthTime[@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient/cda:birthTime[@value]" id="a-86-22427">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This birthTime SHALL contain exactly one [1..1] @value (CONF:86-22427).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.2.2.1'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.2.2.1'])=1" id="a-1129-30547">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-30547) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.7.2.2.1" (CONF:1129-30548).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:componentOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:componentOf)=1" id="a-1129-22599">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] componentOf (CONF:1129-22599).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf[count(cda:encompassingEncounter)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf[count(cda:encompassingEncounter)=1]" id="a-1129-22600">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This componentOf SHALL contain exactly one [1..1] encompassingEncounter (CONF:1129-22600).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter[count(cda:effectiveTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter[count(cda:effectiveTime)=1]" id="a-1129-22603">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This encompassingEncounter SHALL contain exactly one [1..1] effectiveTime (CONF:1129-22603).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime[count(cda:low)=1]" id="a-1129-22604">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:1129-22604).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]" id="a-1129-22606">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This encompassingEncounter SHALL contain exactly one [1..1] location (CONF:1129-22606).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]" id="a-1129-22607">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This location SHALL contain exactly one [1..1] healthCareFacility (CONF:1129-22607).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]" id="a-1129-22608">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This healthCareFacility SHALL contain exactly one [1..1] id (CONF:1129-22608).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-1129-22610">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:1129-22610).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-1129-22611">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:1129-22611).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.46' and @extension = '2014-12-01']])=1])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.46' and @extension = '2014-12-01']])=1])=1]" id="a-1129-22612">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:1129-22612) such that it SHALL contain exactly one [1..1] Findings Section in a LIO Report (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.5.46:2014-12-01) (CONF:1129-30420).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.44' and @extension = '2014-12-01']])=1])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.44' and @extension = '2014-12-01']])=1])=1]" id="a-1129-22614">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:1129-22614) such that it SHALL contain exactly one [1..1] Encounters Section in a LIO Report (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.5.44:2014-12-01) (CONF:1129-30421).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter[count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.1']/voc:code/@value or @nullFlavor])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter[count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.1']/voc:code/@value or @nullFlavor])=1]" id="a-1129-22601">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This encompassingEncounter SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNEncounterTypeCode urn:oid:2.16.840.1.113883.13.1 STATIC (CONF:1129-22601).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-1129-23306-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If encounter type is IMP, effectiveTime/low/@value is required; if encounter type is AMB, effectiveTime/low/@value is required (use (copy) Date Specimen Collected) (CONF:1129-23306).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-1129-23360-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of the admission date SHALL NOT be earlier than January 1, 1986; SHALL NOT be earlier than the date of birth; and SHALL NOT be later than the event date (CONF:1129-23360).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]" id="a-1129-22609">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root (CONF:1129-22609).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.38'][@extension='2014-12-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.38'][@extension='2014-12-01'])=1" id="a-1129-22597">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-22597) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.38" (CONF:1129-22598). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30286).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M243"/>
</axsl:template>
<axsl:template mode="M243" priority="-1" match="text()"/>
<axsl:template mode="M244" priority="3999" match="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.38' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.38' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.38-2014-12-01-errors-CL"/>
<axsl:apply-templates mode="M244"/>
</axsl:template>
<axsl:template mode="M244" priority="-1" match="text()"/>
<axsl:template mode="M245" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.149' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.149' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.149-2014-12-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1129-19821">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1129-19821).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-1129-19823">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:1129-19823).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-1129-19825">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:1129-19825).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-1129-19827-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the value of @negationInd is 'false' (CONF:1129-19827).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-1129-19833-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the value of @negationInd is true (CONF:1129-19833).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1" id="a-1129-30528">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-30528) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:1129-30529).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-1129-19839">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:1129-19839).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-1129-19818">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1129-19818).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1129-19819">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1129-19819).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-1129-19820">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:1129-19820).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION']" id="a-1129-19822">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:1129-19822).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-1129-19824">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:1129-19824).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@code='1955-4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@code='1955-4']" id="a-1129-19826">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="1955-4" Positive blood culture (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277 STATIC) (CONF:1129-19826).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="(@negationInd = 'false') or (@negationInd = 'true' and not(/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section/cda:templateId[@root='2.16.840.1.113883.10.20.5.5.28']))"/>
<axsl:otherwise>
<failed-assert role="" test="(@negationInd = 'false') or (@negationInd = 'true' and not(/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section/cda:templateId[@root='2.16.840.1.113883.10.20.5.5.28']))" id="a-1129-19834-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The report *SHALL NOT* contain a Findings Section (CONF:1129-19834).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-1129-22781">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1129-22781).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(testable)"/>
<axsl:otherwise>
<failed-assert role="" test="not(testable)" id="a-1129-19832-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The report *SHALL* contain a Findings Section (CONF:1129-19832).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.149'][@extension='2014-12-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.149'][@extension='2014-12-01'])=1" id="a-1129-19837">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-19837) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.149" (CONF:1129-19838). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30530).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']" id="a-1129-30605">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:1129-30605).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M245"/>
</axsl:template>
<axsl:template mode="M245" priority="-1" match="text()"/>
<axsl:template mode="M246" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.149' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.149' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.149-2014-12-01-errors-CL"/>
<axsl:apply-templates mode="M246"/>
</axsl:template>
<axsl:template mode="M246" priority="-1" match="text()"/>
<axsl:template mode="M247" priority="3999" match="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.220' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.220' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.220-2014-12-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:id) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id) &gt; 0" id="a-1129-30256">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] id (CONF:1129-30256).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.10.20.5.9.3']/voc:code/@value or @nullFlavor])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.10.20.5.9.3']/voc:code/@value or @nullFlavor])=1" id="a-1129-30257">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNLastLocationEncounterTypeCode urn:oid:2.16.840.1.113883.10.20.5.9.3 STATIC 2014-11-01 (CONF:1129-30257).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-1129-30258">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:1129-30258).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.49'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.49'])=1" id="a-1129-30493">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-30493) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.49" (CONF:1129-30494).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant) or cda:participant[count(cda:participantRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant) or cda:participant[count(cda:participantRole)=1]" id="a-1129-30261">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The participant, if present, SHALL contain exactly one [1..1] participantRole (CONF:1129-30261).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant/cda:participantRole) or cda:participant/cda:participantRole[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant/cda:participantRole) or cda:participant/cda:participantRole[count(cda:code)=1]" id="a-1129-30262">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain exactly one [1..1] code (CONF:1129-30262).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-1129-30263">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1129-30263).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@nullFlavor='NA']" id="a-1129-30265">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1129-30265).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant/cda:participantRole) or cda:participant/cda:participantRole[@classCode='SDLOC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant/cda:participantRole) or cda:participant/cda:participantRole[@classCode='SDLOC']" id="a-1129-30269">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain exactly one [1..1] @classCode="SDLOC" Service Delivery Location (CodeSystem: EntityClass urn:oid:2.16.840.1.113883.5.41) (CONF:1129-30269).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant) or cda:participant[@typeCode='LOC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant) or cda:participant[@typeCode='LOC']" id="a-1129-30270">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The participant, if present, SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90) (CONF:1129-30270).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='ENC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='ENC'" id="a-1129-30271">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="ENC" Encounter (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1129-30271).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1129-30272">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1129-30272).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant/cda:participantRole/cda:code) or cda:participant/cda:participantRole/cda:code[@code]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant/cda:participantRole/cda:code) or cda:participant/cda:participantRole/cda:code[@code]" id="a-1129-30482">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code, which SHALL be selected from ValueSet NHSNPreviousPatientLocation urn:oid:2.16.840.1.114222.4.11.7233 DYNAMIC (CONF:1129-30482).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.220'][@extension='2014-12-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.220'][@extension='2014-12-01'])=1" id="a-1129-30495">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-30495) such that it SHALL contain zero or one [0..1] @root="2.16.840.1.113883.10.20.5.6.220" (CONF:1129-30496). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30497).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M247"/>
</axsl:template>
<axsl:template mode="M247" priority="-1" match="text()"/>
<axsl:template mode="M248" priority="3999" match="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.220' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.220' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.220-2014-12-01-errors-CL"/>
<axsl:apply-templates mode="M248"/>
</axsl:template>
<axsl:template mode="M248" priority="-1" match="text()"/>
<axsl:template mode="M249" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.219' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.219' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.219-2014-12-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1129-30296">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1129-30296).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-1129-30297">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:1129-30297).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-1129-30299">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:1129-30299).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1129-30300">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:1129-30300).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='2331-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='2331-7']" id="a-1129-30304">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="2331-7" Where was the positive blood culture collected (CONF:1129-30304).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.6.277']" id="a-1129-30305">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1129-30305).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-1129-30306">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:1129-30306).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-1129-30315">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHOULD be selected from ValueSet NHSNBloodCollectionLocation urn:oid:2.16.840.1.114222.4.11.7237 DYNAMIC (CONF:1129-30315).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.219'][@extension='2014-12-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.219'][@extension='2014-12-01'])=1" id="a-1129-30504">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-30504) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.219" (CONF:1129-30505). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30506).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M249"/>
</axsl:template>
<axsl:template mode="M249" priority="-1" match="text()"/>
<axsl:template mode="M250" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.219' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.219' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.219-2014-12-01-errors-CL"/>
<axsl:apply-templates mode="M250"/>
</axsl:template>
<axsl:template mode="M250" priority="-1" match="text()"/>
<axsl:template mode="M251" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.221' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.221' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.221-2014-12-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1129-30318">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1129-30318).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-1129-30320">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:1129-30320).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='2029-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='2029-7']" id="a-1129-30323">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="2029-7" C. difficile primary testing method used most often for this quarter (CONF:1129-30323).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-1129-30326">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:1129-30326).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-1129-30327">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1129-30327).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1129-30328">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1129-30328).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-1129-30329">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHOULD be selected from ValueSet NHSNCdiffTestMethod urn:oid:2.16.840.1.114222.4.11.7242 DYNAMIC (CONF:1129-30329).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.221'][@extension='2014-12-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.221'][@extension='2014-12-01'])=1" id="a-1129-30534">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-30534) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.221" (CONF:1129-30535). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30536).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M251"/>
</axsl:template>
<axsl:template mode="M251" priority="-1" match="text()"/>
<axsl:template mode="M252" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.221' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.221' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.221-2014-12-01-errors-CL"/>
<axsl:apply-templates mode="M252"/>
</axsl:template>
<axsl:template mode="M252" priority="-1" match="text()"/>
<axsl:template mode="M253" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.49' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.49' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.49-2014-12-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-86-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1 STATIC) (CONF:86-21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-86-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:86-21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-86-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:86-21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-86-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:86-21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.193']])=1]) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.193']])=1]) &gt; 0" id="a-1129-22884">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:1129-22884) such that it SHALL contain exactly one [1..1] Summary Encounter (POM) (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.193) (CONF:1129-22885).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.49'][@extension='2014-12-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.49'][@extension='2014-12-01'])=1" id="a-1129-22880">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-22880) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.49" (CONF:1129-22881). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30477).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1129-22882">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1129-22882).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51900-9']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51900-9']" id="a-1129-22883">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51900-9" Summary Data Section (CONF:1129-22883).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']" id="a-1129-30602">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:1129-30602).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M253"/>
</axsl:template>
<axsl:template mode="M253" priority="-1" match="text()"/>
<axsl:template mode="M254" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.49' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.49' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.49-2014-12-01-errors-CL"/>
<axsl:apply-templates mode="M254"/>
</axsl:template>
<axsl:template mode="M254" priority="-1" match="text()"/>
<axsl:template mode="M255" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.222' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.222' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.222-2014-12-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1129-30336">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1129-30336).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-1129-30337">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:1129-30337).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-1129-30338">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:1129-30338).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION']" id="a-1129-30345">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:1129-30345).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-1129-30346">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:1129-30346).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@code='2037-0']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@code='2037-0']" id="a-1129-30347">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="2037-0" Bacterial isolate tested for carbapenemase (CONF:1129-30347).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-1129-30353">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1129-30353).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1129-30354">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1129-30354).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']" id="a-1129-30437">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1129-30437).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.222'][@extension='2014-12-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.222'][@extension='2014-12-01'])=1" id="a-1129-30501">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-30501) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.222" (CONF:1129-30502). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30503).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']" id="a-1129-30603">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:1129-30603).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M255"/>
</axsl:template>
<axsl:template mode="M255" priority="-1" match="text()"/>
<axsl:template mode="M256" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.222' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.222' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.222-2014-12-01-errors-CL"/>
<axsl:apply-templates mode="M256"/>
</axsl:template>
<axsl:template mode="M256" priority="-1" match="text()"/>
<axsl:template mode="M257" priority="3999" match="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.223' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.223' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.223-2014-12-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:component[@typeCode='COMP'][count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.224' and @extension = '2014-12-01']])=1]) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component[@typeCode='COMP'][count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.224' and @extension = '2014-12-01']])=1]) &gt; 0" id="a-1129-30361">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] component (CONF:1129-30361) such that it SHALL contain exactly one [1..1] Carbapenemase Test Observation (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.224:2014-12-01) (CONF:1129-30366). SHALL contain exactly one [1..1] @typeCode="COMP" (CONF:1129-30391).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.1'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.1'])=1" id="a-1129-30362">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-30362) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.1" (CONF:1129-30369).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-1129-30363">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:1129-30363).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1129-30364">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1129-30364).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-1129-30365">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:1129-30365).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='CLUSTER'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='CLUSTER'" id="a-1129-30367">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="CLUSTER" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:1129-30367).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1129-30368">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:1129-30368).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-1129-30370">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1129-30370).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='18725-2']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='18725-2']" id="a-1129-30371">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="18725-2" Microbiology studies (CONF:1129-30371).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-1129-30372">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:1129-30372).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']" id="a-1129-30374">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:1129-30374).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.223'][@extension='2014-12-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.223'][@extension='2014-12-01'])=1" id="a-1129-30510">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-30510) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.223" (CONF:1129-30511). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30512).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M257"/>
</axsl:template>
<axsl:template mode="M257" priority="-1" match="text()"/>
<axsl:template mode="M258" priority="3999" match="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.223' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.223' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.223-2014-12-01-errors-CL"/>
<axsl:apply-templates mode="M258"/>
</axsl:template>
<axsl:template mode="M258" priority="-1" match="text()"/>
<axsl:template mode="M259" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.224' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.224' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.224-2014-12-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.2'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.2'])=1" id="a-1129-30375">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-30375) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.2" (CONF:1129-30381).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-1129-30376">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:1129-30376).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-1129-30377">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:1129-30377).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-1129-30378">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:1129-30378).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-1129-30379">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:1129-30379).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1129-30380">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:1129-30380).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-1129-30382">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1129-30382).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1129-30383">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code, which SHOULD be selected from ValueSet NHSNCarbaTestMethod urn:oid:2.16.840.1.114222.4.11.7240 STATIC 2014-11-10 (CONF:1129-30383).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-1129-30384">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" (CONF:1129-30384).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@nullFlavor='NA']" id="a-1129-30385">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1129-30385).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-1129-30386">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:1129-30386).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@nullFlavor='NA']" id="a-1129-30388">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1129-30388).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.224'][@extension='2014-12-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.224'][@extension='2014-12-01'])=1" id="a-1129-30507">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-30507) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.224" (CONF:1129-30508). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30509).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M259"/>
</axsl:template>
<axsl:template mode="M259" priority="-1" match="text()"/>
<axsl:template mode="M260" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.224' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.224' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.224-2014-12-01-errors-CL"/>
<axsl:apply-templates mode="M260"/>
</axsl:template>
<axsl:template mode="M260" priority="-1" match="text()"/>
<axsl:template mode="M261" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.225' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.225' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.225-2014-12-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1129-30393">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1129-30393).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-1129-30394">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:1129-30394).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-1129-30395">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:1129-30395).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.2'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.2'])=1" id="a-1129-30396">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-30396) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.2" (CONF:1129-30405).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-1129-30397">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:1129-30397).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION']" id="a-1129-30402">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:1129-30402).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-1129-30403">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:1129-30403).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@code='2048-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@code='2048-7']" id="a-1129-30404">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="2048-7" Isolate tested positive for carbapenemase (CONF:1129-30404).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-1129-30407">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1129-30407).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-1129-30410">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1129-30410).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1129-30411">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1129-30411).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']" id="a-1129-30441">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1129-30441).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.225'][@extension='2014-12-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.225'][@extension='2014-12-01'])=1" id="a-1129-30531">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-30531) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.225" (CONF:1129-30532). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30533).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-1129-30589">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:1129-30589).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@nullFlavor='NA']" id="a-1129-30590">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] @nullFlavor="NA" (CodeSystem: HL7NullFlavor urn:oid:2.16.840.1.113883.5.1008) (CONF:1129-30590).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']" id="a-1129-30606">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:1129-30606).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M261"/>
</axsl:template>
<axsl:template mode="M261" priority="-1" match="text()"/>
<axsl:template mode="M262" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.225' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.225' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.225-2014-12-01-errors-CL"/>
<axsl:apply-templates mode="M262"/>
</axsl:template>
<axsl:template mode="M262" priority="-1" match="text()"/>
<axsl:template mode="M263" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.146' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.146' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.146-2014-12-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.165']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.165']])=1])=1" id="a-1129-19875">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entryRelationship (CONF:1129-19875) such that it SHALL contain exactly one [1..1] Specimen Collection Procedure (LIO) (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.165) (CONF:1129-19876). SHALL contain exactly one [1..1] @typeCode="COMP" (CONF:1129-30434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1129-19869">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1129-19869).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-1129-19871">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:1129-19871).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.2'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.2'])=1" id="a-1129-30525">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-30525) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.2" (CONF:1129-30526).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-1129-19881">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:1129-19881).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-1129-19867">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1129-19867).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1129-19868">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1129-19868).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='41852-5']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='41852-5']" id="a-1129-19870">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="41852-5" Microorganism identified (CONF:1129-19870).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-1129-19872">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:1129-19872).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-1129-19873">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHALL be selected from ValueSet NHSNSignificantPathogenCode urn:oid:2.16.840.1.114222.4.11.3194 DYNAMIC (CONF:1129-19873).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-1129-22774">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1129-22774).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-1129-22732">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:1129-22732).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']" id="a-1129-30436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:1129-30436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.146'][@extension='2014-12-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.146'][@extension='2014-12-01'])=1" id="a-1129-19879">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-19879) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.146" (CONF:1129-19880). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30527).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M263"/>
</axsl:template>
<axsl:template mode="M263" priority="-1" match="text()"/>
<axsl:template mode="M264" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.146' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.146' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.146-2014-12-01-errors-CL"/>
<axsl:apply-templates mode="M264"/>
</axsl:template>
<axsl:template mode="M264" priority="-1" match="text()"/>
<axsl:template mode="M265" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.46' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.46' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.46-2014-12-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-86-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1 STATIC) (CONF:86-21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-86-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:86-21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-86-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:86-21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-86-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:86-21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.146' and @extension = '2014-12-01']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.146' and @extension = '2014-12-01']])=1])=1" id="a-1129-22382">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:1129-22382) such that it SHALL contain exactly one [1..1] Pathogen Identified Observation (LIO) (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.146:2014-12-01) (CONF:1129-30419).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.46'][@extension='2014-12-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.46'][@extension='2014-12-01'])=1" id="a-1129-22378">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-22378) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.46" (CONF:1129-22379). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30463).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1129-22380">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1129-22380).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='18769-0']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='18769-0']" id="a-1129-22381">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="18769-0" Findings Section (CONF:1129-22381).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']" id="a-1129-30600">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:1129-30600).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M265"/>
</axsl:template>
<axsl:template mode="M265" priority="-1" match="text()"/>
<axsl:template mode="M266" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.46' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.46' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.46-2014-12-01-errors-CL"/>
<axsl:apply-templates mode="M266"/>
</axsl:template>
<axsl:template mode="M266" priority="-1" match="text()"/>
<axsl:template mode="M267" priority="3999" match="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.43' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.43' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.43-2014-12-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:realmCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:realmCode)=1" id="a-86-18431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] realmCode (CONF:86-18431).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:realmCode[count(self::node()[@code='US'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:realmCode[count(self::node()[@code='US'])=1]" id="a-86-18432">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This realmCode SHALL contain exactly one [1..1] @code="US" (CONF:86-18432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-18433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-18433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51897-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51897-7']" id="a-86-18434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51897-7" Healthcare Associated Infection Report (CONF:86-18434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-18435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-18435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-86-18436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:86-18436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:confidentialityCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:confidentialityCode)=1" id="a-86-18437-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] confidentialityCode (CONF:86-18437).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:confidentialityCode[count(self::node()[@code='N'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:confidentialityCode[count(self::node()[@code='N'])=1]" id="a-86-18438">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This confidentialityCode SHALL contain exactly one [1..1] @code="N" Normal (CodeSystem: ConfidentialityCode urn:oid:2.16.840.1.113883.5.25 STATIC) (CONF:86-18438).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:languageCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:languageCode)=1" id="a-86-18439">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] languageCode (CONF:86-18439).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:languageCode[@code='en-US']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:languageCode[@code='en-US']" id="a-86-18440">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This languageCode SHALL contain exactly one [1..1] @code="en-US" (CONF:86-18440).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:setId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:setId)=1" id="a-86-18441">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] setId (CONF:86-18441).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:versionNumber)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:versionNumber)=1" id="a-86-18442">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] versionNumber (CONF:86-18442).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:custodian)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:custodian)=1" id="a-86-18443">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] custodian (CONF:86-18443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian[count(cda:assignedCustodian)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian[count(cda:assignedCustodian)=1]" id="a-86-18444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This custodian SHALL contain exactly one [1..1] assignedCustodian (CONF:86-18444).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]" id="a-86-18445">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedCustodian SHALL contain exactly one [1..1] representedCustodianOrganization (CONF:86-18445).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]" id="a-86-18446">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This representedCustodianOrganization SHALL contain exactly one [1..1] id (CONF:86-18446).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']" id="a-86-18447">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root="2.16.840.1.114222.4.3.2.11" (CONF:86-18447).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-86-18448">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:86-18448).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-86-18449">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:86-18449).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-18450-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The structuredBody element SHALL contain a component element for each section required by the particular report type. Additional sections may be present but their content will not be processed by NHSN (CONF:86-18450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1" id="a-86-18460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-18460) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.25" (CONF:86-18461).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:typeId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:typeId)=1" id="a-86-18463">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] typeId (CONF:86-18463).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@root='2.16.840.1.113883.1.3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@root='2.16.840.1.113883.1.3']" id="a-86-18464">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @root="2.16.840.1.113883.1.3" (CONF:86-18464).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@extension='POCD_HD000040']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@extension='POCD_HD000040']" id="a-86-18465">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @extension="POCD_HD000040" (CONF:86-18465).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-18466-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-18466).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']" id="a-86-18470">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] @typeCode="RPLC" replace (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-18470).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-18471-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If versionNumber/@value is greater than 1, a relatedDocument element SHALL be present (CONF:86-18471).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget) &gt; 0" id="a-86-18472-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] recordTarget (CONF:86-18472).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:author) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:author) &gt; 0" id="a-86-18473-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] author (CONF:86-18473).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-86-18475-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain at least one [1..*] component (CONF:86-18475).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem]" id="a-86-27413">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:86-27413).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[count(cda:parentDocument)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[count(cda:parentDocument)=1]" id="a-86-28401">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] parentDocument (CONF:86-28401).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument/cda:parentDocument) or cda:relatedDocument/cda:parentDocument[count(cda:id) &gt; 0]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument/cda:parentDocument) or cda:relatedDocument/cda:parentDocument[count(cda:id) &gt; 0]" id="a-86-28402">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This parentDocument SHALL contain at least one [1..*] id (CONF:86-28402).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-28403-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of id SHALL be populated with the ClinicalDocument/id of the document being replaced (CONF:86-28403).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.28'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.28'])=1" id="a-86-22431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22431) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.28" (CONF:86-22432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget)=1" id="a-86-22433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] recordTarget (CONF:86-22433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget[count(cda:patientRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget[count(cda:patientRole)=1]" id="a-86-22434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This recordTarget SHALL contain exactly one [1..1] patientRole (CONF:86-22434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:id)=1]" id="a-86-22435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain exactly one [1..1] id (CONF:86-22435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@nullFlavor='NA']" id="a-86-22436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" not applicable (CONF:86-22436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='SBJ'][@contextControlCode='OP'][count(cda:associatedEntity[@classCode='PRS'][count(cda:code[@code='389109008'])=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='SBJ'][@contextControlCode='OP'][count(cda:associatedEntity[@classCode='PRS'][count(cda:code[@code='389109008'])=1])=1])=1" id="a-86-22437">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:86-22437) such that it SHALL contain exactly one [1..1] @typeCode="SBJ" Subject (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:86-22438). SHALL contain exactly one [1..1] @contextControlCode="OP" (CodeSystem: HL7 Context Control Code urn:oid:2.16.840.1.113883.5.1057 STATIC) (CONF:86-22439). SHALL contain exactly one [1..1] associatedEntity (CONF:86-22440). This associatedEntity SHALL contain exactly one [1..1] @classCode="PRS" Person (CodeSystem: EntityClass urn:oid:2.16.840.1.113883.5.41 STATIC) (CONF:86-22441). This associatedEntity SHALL contain exactly one [1..1] code (CONF:86-22442). This code SHALL contain exactly one [1..1] @code="389109008" Group (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96 STATIC) (CONF:86-22443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='LOC'][@contextControlCode='OP'][count(cda:associatedEntity[@classCode='SDLOC'][count(cda:id[@root])=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='LOC'][@contextControlCode='OP'][count(cda:associatedEntity[@classCode='SDLOC'][count(cda:id[@root])=1])=1])=1" id="a-86-22444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:86-22444) such that it SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:86-22445). SHALL contain exactly one [1..1] @contextControlCode="OP" (CodeSystem: HL7 Context Control Code urn:oid:2.16.840.1.113883.5.1057 STATIC) (CONF:86-22446). SHALL contain exactly one [1..1] associatedEntity (CONF:86-22447). This associatedEntity SHALL contain exactly one [1..1] @classCode="SDLOC" Service delivery location (CodeSystem: RoleClass urn:oid:2.16.840.1.113883.5.110 STATIC) (CONF:86-22448). This associatedEntity SHALL contain exactly one [1..1] id (CONF:86-22449). This id SHALL contain exactly one [1..1] @root (CONF:86-22450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:documentationOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:documentationOf)=1" id="a-86-22451">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] documentationOf (CONF:86-22451).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf[count(cda:serviceEvent)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf[count(cda:serviceEvent)=1]" id="a-86-22452">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:86-22452).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[@classCode='CASE']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[@classCode='CASE']" id="a-86-22453">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] @classCode="CASE" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-22453).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3595']/voc:code/@value or @nullFlavor])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3595']/voc:code/@value or @nullFlavor])=1]" id="a-86-22454">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNPopulationSummaryReportTypeCode urn:oid:2.16.840.1.114222.4.11.3595 STATIC (CONF:86-22454).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:effectiveTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:effectiveTime)=1]" id="a-86-22456">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] effectiveTime (CONF:86-22456).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:low)=1]" id="a-86-22457">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:86-22457).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:high)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:high)=1]" id="a-86-22458">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] high (CONF:86-22458).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-86-22459-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The author SHALL represent the software forming the message (CONF:86-22459).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.2.2.1'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.2.2.1'])=1" id="a-1129-30549">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-30549) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.7.2.2.1" (CONF:1129-30550).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:documentationOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:documentationOf)=1" id="a-1129-22889">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] documentationOf (CONF:1129-22889).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf[count(cda:serviceEvent)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf[count(cda:serviceEvent)=1]" id="a-1129-22890">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:1129-22890).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]" id="a-1129-22891">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] code (CONF:1129-22891).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-1129-22894">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:1129-22894).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-1129-22895">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:1129-22895).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component)=1]" id="a-1129-22896">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:1129-22896).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody/cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.49' and @extension = '2014-12-01']])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody/cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.49' and @extension = '2014-12-01']])=1]" id="a-1129-30433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] Summary Data Section (POM) (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.5.49:2014-12-01) (CONF:1129-30433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title[translate(text(), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz')='prevention process and outcome measures (pom) monthly monitoring'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title[translate(text(), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz')='prevention process and outcome measures (pom) monthly monitoring'])=1" id="a-1129-22888">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title="Prevention Process and Outcome Measures (POM) Monthly Monitoring" (CONF:1129-22888).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:code[@code='1884-6']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:code[@code='1884-6']" id="a-1129-22892">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="1884-6" Summary data reporting Active Surveillance Testing (CONF:1129-22892).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:code[@codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:code[@codeSystem='2.16.840.1.113883.6.277']" id="a-1129-22893">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1129-22893).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.43'][@extension='2014-12-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.43'][@extension='2014-12-01'])=1" id="a-1129-22886">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-22886) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.43" (CONF:1129-22887). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30476).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M267"/>
</axsl:template>
<axsl:template mode="M267" priority="-1" match="text()"/>
<axsl:template mode="M268" priority="3999" match="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.43' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.43' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.43-2014-12-01-errors-CL"/>
<axsl:apply-templates mode="M268"/>
</axsl:template>
<axsl:template mode="M268" priority="-1" match="text()"/>
<axsl:template mode="M269" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.226' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.226' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.226-2014-12-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.2'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.2'])=1" id="a-1129-30442">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-30442) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.2" (CONF:1129-30448).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-1129-30443">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:1129-30443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-1129-30444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:1129-30444).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-1129-30445">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:1129-30445).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-1129-30447">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHOULD be selected from ValueSet NHSNCarbaDetectType urn:oid:2.16.840.1.114222.4.11.7241 DYNAMIC (CONF:1129-30447).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-1129-30450">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1129-30450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-1129-30451">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" (CONF:1129-30451).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@nullFlavor='NA']" id="a-1129-30452">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1129-30452).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-1129-30453">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:1129-30453).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1129-30454">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:1129-30454).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1129-30459">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1129-30459).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='2049-5']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='2049-5']" id="a-1129-30460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="2049-5" Carbapenemase Type Identified (CONF:1129-30460).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.6.277']" id="a-1129-30461">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1129-30461).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.226'][@extension='2014-12-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.226'][@extension='2014-12-01'])=1" id="a-1129-30513">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-30513) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.226" (CONF:1129-30514). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30515).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M269"/>
</axsl:template>
<axsl:template mode="M269" priority="-1" match="text()"/>
<axsl:template mode="M270" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.226' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.226' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.226-2014-12-01-errors-CL"/>
<axsl:apply-templates mode="M270"/>
</axsl:template>
<axsl:template mode="M270" priority="-1" match="text()"/>
<axsl:template mode="M271" priority="3999" match="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.177' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.177' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.177-2014-12-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:component[count(cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.200' and @extension = '2014-12-01']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component[count(cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.200' and @extension = '2014-12-01']])=1])=1" id="a-1129-21104">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:1129-21104) such that it SHALL contain exactly one [1..1] Antimicrobial Susceptibility Result Organizer (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.200:2014-12-01) (CONF:1129-27178).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.1'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.1'])=1" id="a-1129-30498">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-30498) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.1" (CONF:1129-30499).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id) &gt; 0" id="a-1129-21097">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] id (CONF:1129-21097).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1129-21098">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1129-21098).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-1129-21100">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:1129-21100).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.175']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.175']])=1])=1" id="a-1129-21106">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:1129-21106) such that it SHALL contain exactly one [1..1] Antimicrobial Susceptibility Final Interpretation Result (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.175) (CONF:1129-22712).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='CLUSTER'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='CLUSTER'" id="a-1129-21091">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="CLUSTER" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:1129-21091).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1129-21092">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:1129-21092).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-1129-22723">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1129-22723).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='18725-2' and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='18725-2' and @codeSystem='2.16.840.1.113883.6.1']" id="a-1129-21099">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="18725-2" Microbiology studies (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:1129-21099).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-1129-21101">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:1129-21101).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.177'][@extension='2014-12-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.177'][@extension='2014-12-01'])=1" id="a-1129-21093">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-21093) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.177" (CONF:1129-21094). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30500).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M271"/>
</axsl:template>
<axsl:template mode="M271" priority="-1" match="text()"/>
<axsl:template mode="M272" priority="3999" match="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.177' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.177' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.177-2014-12-01-errors-CL"/>
<axsl:apply-templates mode="M272"/>
</axsl:template>
<axsl:template mode="M272" priority="-1" match="text()"/>
<axsl:template mode="M273" priority="3999" match="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.201' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.201' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.201-2014-12-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.201'][@extension='2014-12-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.201'][@extension='2014-12-01'])=1" id="a-1129-27122">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-27122) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.201" (CONF:1129-27123). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30470).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id) &gt; 0" id="a-1129-27124">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] id (CONF:1129-27124).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1129-27126">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1129-27126).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-1129-27128">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:1129-27128).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component[count(cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.177' and @extension = '2014-12-01']])=1]) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component[count(cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.177' and @extension = '2014-12-01']])=1]) &gt; 0" id="a-1129-27158">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] component (CONF:1129-27158) such that it SHALL contain exactly one [1..1] Antimicrobial Susceptibility Tests Organizer (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.177:2014-12-01) (CONF:1129-30469).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.202']])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.202']])=1" id="a-1129-27130">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] Antimicrobial Susceptibility Isolate Participant (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.202) (CONF:1129-27130).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='CLUSTER'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='CLUSTER'" id="a-1129-27120">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="CLUSTER" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:1129-27120).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1129-27121">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:1129-27121).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-1129-27125">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1129-27125).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='18725-2' and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='18725-2' and @codeSystem='2.16.840.1.113883.6.1']" id="a-1129-27127">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="18725-2" Microbiology studies (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:1129-27127).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-1129-27129">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:1129-27129).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M273"/>
</axsl:template>
<axsl:template mode="M273" priority="-1" match="text()"/>
<axsl:template mode="M274" priority="3999" match="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.201' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.201' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.201-2014-12-01-errors-CL"/>
<axsl:apply-templates mode="M274"/>
</axsl:template>
<axsl:template mode="M274" priority="-1" match="text()"/>
<axsl:template mode="M275" priority="3999" match="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.188' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.188' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.188-2014-12-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship[@typeCode='COMP'][@inversionInd='true'][count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.187']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship[@typeCode='COMP'][@inversionInd='true'][count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.187']])=1])=1" id="a-1129-22681">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entryRelationship (CONF:1129-22681) such that it SHALL contain exactly one [1..1] Specimen Collection Encounter (ARO) (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.187) (CONF:1129-22684). SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:1129-22682). SHALL contain exactly one [1..1] @inversionInd="true" (CONF:1129-22683).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.188'][@extension='2014-12-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.188'][@extension='2014-12-01'])=1" id="a-1129-22670">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-22670) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.188" (CONF:1129-22671). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30472).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-1129-22672">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:1129-22672).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:specimen)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:specimen)=1" id="a-1129-27160">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] specimen (CONF:1129-27160).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:specimen[count(cda:specimenRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:specimen[count(cda:specimenRole)=1]" id="a-1129-27161">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This specimen SHALL contain exactly one [1..1] specimenRole (CONF:1129-27161).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:specimen/cda:specimenRole[count(cda:specimenPlayingEntity)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:specimen/cda:specimenRole[count(cda:specimenPlayingEntity)=1]" id="a-1129-27162">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This specimenRole SHALL contain exactly one [1..1] specimenPlayingEntity (CONF:1129-27162).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship[@typeCode='COMP'][@inversionInd='true'][count(cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.201' and @extension = '2014-12-01']])=1]) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship[@typeCode='COMP'][@inversionInd='true'][count(cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.201' and @extension = '2014-12-01']])=1]) &gt; 0" id="a-1129-27164">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entryRelationship (CONF:1129-27164) such that it SHALL contain exactly one [1..1] @typeCode="COMP" (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002) (CONF:1129-27165). SHALL contain exactly one [1..1] Isolate Susceptibility Tests Organizer (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.201:2014-12-01) (CONF:1129-30471). SHALL contain exactly one [1..1] @inversionInd="true" (CONF:1129-27432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='PROC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='PROC'" id="a-1129-22668">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="PROC" Procedure (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1129-22668).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1129-22669">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1129-22669).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@value]" id="a-1129-22673">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] @value (CONF:1129-22673).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:specimen/cda:specimenRole/cda:specimenPlayingEntity[count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3249']/voc:code/@value or @nullFlavor])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:specimen/cda:specimenRole/cda:specimenPlayingEntity[count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3249']/voc:code/@value or @nullFlavor])=1]" id="a-1129-27163">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This specimenPlayingEntity SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNSpecimenTypeCode urn:oid:2.16.840.1.114222.4.11.3249 (CONF:1129-27163).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M275"/>
</axsl:template>
<axsl:template mode="M275" priority="-1" match="text()"/>
<axsl:template mode="M276" priority="3999" match="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.188' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.188' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.188-2014-12-01-errors-CL"/>
<axsl:apply-templates mode="M276"/>
</axsl:template>
<axsl:template mode="M276" priority="-1" match="text()"/>
<axsl:template mode="M277" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.32' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.32' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.32-2014-12-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-86-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1 STATIC) (CONF:86-21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-86-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:86-21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-86-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:86-21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-86-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:86-21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry)=1" id="a-1129-21136">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:1129-21136).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.32'][@extension='2014-12-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.32'][@extension='2014-12-01'])=1" id="a-1129-21128">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-21128) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.32" (CONF:1129-21129). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30475).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1129-21132">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1129-21132).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entry[count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.188' and @extension = '2014-12-01']])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entry[count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.188' and @extension = '2014-12-01']])=1]" id="a-1129-30473">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This entry SHALL contain exactly one [1..1] Specimen Collection Procedure (ARO) (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.188:2014-12-01) (CONF:1129-30473).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='18769-0']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='18769-0']" id="a-1129-21133">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="18769-0" Findings Section (CONF:1129-21133).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']" id="a-1129-30601">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:1129-30601).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M277"/>
</axsl:template>
<axsl:template mode="M277" priority="-1" match="text()"/>
<axsl:template mode="M278" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.32' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.32' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.32-2014-12-01-errors-CL"/>
<axsl:apply-templates mode="M278"/>
</axsl:template>
<axsl:template mode="M278" priority="-1" match="text()"/>
<axsl:template mode="M279" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.186' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.186' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.186-2014-12-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.2'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.2'])=1" id="a-1129-30551">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-30551) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.2" (CONF:1129-30552).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-1129-22636">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:1129-22636).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-1129-22639">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:1129-22639).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-1129-22641">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:1129-22641).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='IVL_PQ'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='IVL_PQ'])=1" id="a-1129-22643">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="IVL_PQ" (CONF:1129-22643).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.186'][@extension='2014-12-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.186'][@extension='2014-12-01'])=1" id="a-1129-22634">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-22634) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.186" (CONF:1129-22635). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30553).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-1129-22632">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:1129-22632).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1129-22633">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:1129-22633).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-1129-22637">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1129-22637).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1129-22638">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code, which SHOULD be selected from ValueSet NHSNArDrugSuscTestsCode urn:oid:2.16.840.1.114222.4.11.7230 STATIC 2014-09-01 (CONF:1129-22638).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-1129-22640">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" (CONF:1129-22640).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@nullFlavor='NA']" id="a-1129-22642">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1129-22642).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-1129-22699">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:1129-22699).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:interpretationCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:interpretationCode)=1" id="a-1129-23101">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] interpretationCode, which SHOULD be selected from ValueSet NHSNDrugSusceptibilityFindingCode urn:oid:2.16.840.1.113883.13.13 (CONF:1129-23101).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M279"/>
</axsl:template>
<axsl:template mode="M279" priority="-1" match="text()"/>
<axsl:template mode="M280" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.186' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.186' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.186-2014-12-01-errors-CL"/>
<axsl:apply-templates mode="M280"/>
</axsl:template>
<axsl:template mode="M280" priority="-1" match="text()"/>
<axsl:template mode="M281" priority="3999" match="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.200' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.200' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.200-2014-12-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-1129-27111">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] component (CONF:1129-27111).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.1'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.1'])=1" id="a-1129-30554">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-30554) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.1" (CONF:1129-28208).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1129-27108">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1129-27108).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-1129-27109">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:1129-27109).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.200'][@extension='2014-12-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.200'][@extension='2014-12-01'])=1" id="a-1129-27105">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-27105) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.200" (CONF:1129-27106). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30555).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.186' and @extension = '2014-12-01']])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.186' and @extension = '2014-12-01']])=1]" id="a-1129-27112">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such components SHALL contain exactly one [1..1] Antimicrobial Susceptibility Result Observation (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.186:2014-12-01) (CONF:1129-27112).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='BATTERY'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='BATTERY'" id="a-1129-27103">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="BATTERY" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:1129-27103).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1129-27104">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:1129-27104).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-1129-27107">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:1129-27107).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='18725-2']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='18725-2']" id="a-1129-28101">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="18725-2" Microbiology Studies (CONF:1129-28101).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']" id="a-1129-28102">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:1129-28102).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-1129-27110">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:1129-27110).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-1129-30591">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CodeSystem: HL7NullFlavor urn:oid:2.16.840.1.113883.5.1008) (CONF:1129-30591).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M281"/>
</axsl:template>
<axsl:template mode="M281" priority="-1" match="text()"/>
<axsl:template mode="M282" priority="3999" match="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.200' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.200' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.200-2014-12-01-errors-CL"/>
<axsl:apply-templates mode="M282"/>
</axsl:template>
<axsl:template mode="M282" priority="-1" match="text()"/>
<axsl:template mode="M283" priority="3999" match="cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.227' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.227' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.227-2014-12-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.227'][@extension='2014-12-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.227'][@extension='2014-12-01'])=1" id="a-1129-30560">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-30560) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.227" (CONF:1129-30567). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30570).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1129-30562">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1129-30562).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='ACT'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='ACT'" id="a-1129-30564">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="ACT" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1129-30564).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1129-30565">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1129-30565).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='3002-3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='3002-3']" id="a-1129-30569">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="3002-3" Last physical overnight location of patient immediately prior to arrival into facility (CONF:1129-30569).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.6.277']" id="a-1129-30571">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1129-30571).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:entryRelationship) or cda:entryRelationship[@typeCode='COMP']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:entryRelationship) or cda:entryRelationship[@typeCode='COMP']" id="a-1129-30573">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] @typeCode="COMP" Component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002) (CONF:1129-30573).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.220' and @extension = '2014-12-01']])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.220' and @extension = '2014-12-01']])=1]" id="a-1129-30574">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] Last Physical Overnight Location Encounter (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.220:2014-12-01) (CONF:1129-30574).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M283"/>
</axsl:template>
<axsl:template mode="M283" priority="-1" match="text()"/>
<axsl:template mode="M284" priority="3999" match="cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.227' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.227' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.227-2014-12-01-errors-CL"/>
<axsl:apply-templates mode="M284"/>
</axsl:template>
<axsl:template mode="M284" priority="-1" match="text()"/>
<axsl:template mode="M285" priority="3999" match="cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.228' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.228' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.228-2014-12-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.228'][@extension='2014-12-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.228'][@extension='2014-12-01'])=1" id="a-1129-30577">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-30577) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.228" (CONF:1129-30581). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30582).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1129-30578">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1129-30578).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.218' and @extension = '2014-12-01']])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.218' and @extension = '2014-12-01']])=1]" id="a-1129-30579">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] Other Facility Discharge Encounter (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.218:2014-12-01) (CONF:1129-30579).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='3004-9']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='3004-9']" id="a-1129-30583">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="3004-9" Patient discharged from another facility in the past four weeks (CONF:1129-30583).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.6.277']" id="a-1129-30584">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1129-30584).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='ACT'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='ACT'" id="a-1129-30585">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="ACT" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1129-30585).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1129-30586">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1129-30586).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:entryRelationship) or cda:entryRelationship[@typeCode='COMP']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:entryRelationship) or cda:entryRelationship[@typeCode='COMP']" id="a-1129-30587">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] @typeCode="COMP" Component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002) (CONF:1129-30587).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M285"/>
</axsl:template>
<axsl:template mode="M285" priority="-1" match="text()"/>
<axsl:template mode="M286" priority="3999" match="cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.228' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.228' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.228-2014-12-01-errors-CL"/>
<axsl:apply-templates mode="M286"/>
</axsl:template>
<axsl:template mode="M286" priority="-1" match="text()"/>
<axsl:template mode="M287" priority="3999" match="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.42' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.42' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.42-2014-12-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:realmCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:realmCode)=1" id="a-86-18431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] realmCode (CONF:86-18431).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:realmCode[count(self::node()[@code='US'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:realmCode[count(self::node()[@code='US'])=1]" id="a-86-18432">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This realmCode SHALL contain exactly one [1..1] @code="US" (CONF:86-18432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-18433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-18433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51897-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51897-7']" id="a-86-18434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51897-7" Healthcare Associated Infection Report (CONF:86-18434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-18435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-18435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-86-18436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:86-18436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:confidentialityCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:confidentialityCode)=1" id="a-86-18437-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] confidentialityCode (CONF:86-18437).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:confidentialityCode[count(self::node()[@code='N'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:confidentialityCode[count(self::node()[@code='N'])=1]" id="a-86-18438">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This confidentialityCode SHALL contain exactly one [1..1] @code="N" Normal (CodeSystem: ConfidentialityCode urn:oid:2.16.840.1.113883.5.25 STATIC) (CONF:86-18438).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:languageCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:languageCode)=1" id="a-86-18439">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] languageCode (CONF:86-18439).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:languageCode[@code='en-US']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:languageCode[@code='en-US']" id="a-86-18440">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This languageCode SHALL contain exactly one [1..1] @code="en-US" (CONF:86-18440).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:setId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:setId)=1" id="a-86-18441">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] setId (CONF:86-18441).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:versionNumber)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:versionNumber)=1" id="a-86-18442">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] versionNumber (CONF:86-18442).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:custodian)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:custodian)=1" id="a-86-18443">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] custodian (CONF:86-18443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian[count(cda:assignedCustodian)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian[count(cda:assignedCustodian)=1]" id="a-86-18444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This custodian SHALL contain exactly one [1..1] assignedCustodian (CONF:86-18444).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]" id="a-86-18445">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedCustodian SHALL contain exactly one [1..1] representedCustodianOrganization (CONF:86-18445).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]" id="a-86-18446">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This representedCustodianOrganization SHALL contain exactly one [1..1] id (CONF:86-18446).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']" id="a-86-18447">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root="2.16.840.1.114222.4.3.2.11" (CONF:86-18447).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-86-18448">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:86-18448).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-86-18449">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:86-18449).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-18450-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The structuredBody element SHALL contain a component element for each section required by the particular report type. Additional sections may be present but their content will not be processed by NHSN (CONF:86-18450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1" id="a-86-18460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-18460) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.25" (CONF:86-18461).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:typeId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:typeId)=1" id="a-86-18463">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] typeId (CONF:86-18463).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@root='2.16.840.1.113883.1.3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@root='2.16.840.1.113883.1.3']" id="a-86-18464">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @root="2.16.840.1.113883.1.3" (CONF:86-18464).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@extension='POCD_HD000040']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@extension='POCD_HD000040']" id="a-86-18465">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @extension="POCD_HD000040" (CONF:86-18465).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-18466-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-18466).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']" id="a-86-18470">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] @typeCode="RPLC" replace (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-18470).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-18471-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If versionNumber/@value is greater than 1, a relatedDocument element SHALL be present (CONF:86-18471).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget) &gt; 0" id="a-86-18472-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] recordTarget (CONF:86-18472).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:author) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:author) &gt; 0" id="a-86-18473-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] author (CONF:86-18473).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-86-18475-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain at least one [1..*] component (CONF:86-18475).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem]" id="a-86-27413">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:86-27413).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[count(cda:parentDocument)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[count(cda:parentDocument)=1]" id="a-86-28401">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] parentDocument (CONF:86-28401).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument/cda:parentDocument) or cda:relatedDocument/cda:parentDocument[count(cda:id) &gt; 0]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument/cda:parentDocument) or cda:relatedDocument/cda:parentDocument[count(cda:id) &gt; 0]" id="a-86-28402">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This parentDocument SHALL contain at least one [1..*] id (CONF:86-28402).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-28403-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of id SHALL be populated with the ClinicalDocument/id of the document being replaced (CONF:86-28403).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.28'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.28'])=1" id="a-86-22431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22431) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.28" (CONF:86-22432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget)=1" id="a-86-22433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] recordTarget (CONF:86-22433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget[count(cda:patientRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget[count(cda:patientRole)=1]" id="a-86-22434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This recordTarget SHALL contain exactly one [1..1] patientRole (CONF:86-22434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:id)=1]" id="a-86-22435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain exactly one [1..1] id (CONF:86-22435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@nullFlavor='NA']" id="a-86-22436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" not applicable (CONF:86-22436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='SBJ'][@contextControlCode='OP'][count(cda:associatedEntity[@classCode='PRS'][count(cda:code[@code='389109008'])=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='SBJ'][@contextControlCode='OP'][count(cda:associatedEntity[@classCode='PRS'][count(cda:code[@code='389109008'])=1])=1])=1" id="a-86-22437">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:86-22437) such that it SHALL contain exactly one [1..1] @typeCode="SBJ" Subject (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:86-22438). SHALL contain exactly one [1..1] @contextControlCode="OP" (CodeSystem: HL7 Context Control Code urn:oid:2.16.840.1.113883.5.1057 STATIC) (CONF:86-22439). SHALL contain exactly one [1..1] associatedEntity (CONF:86-22440). This associatedEntity SHALL contain exactly one [1..1] @classCode="PRS" Person (CodeSystem: EntityClass urn:oid:2.16.840.1.113883.5.41 STATIC) (CONF:86-22441). This associatedEntity SHALL contain exactly one [1..1] code (CONF:86-22442). This code SHALL contain exactly one [1..1] @code="389109008" Group (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96 STATIC) (CONF:86-22443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='LOC'][@contextControlCode='OP'][count(cda:associatedEntity[@classCode='SDLOC'][count(cda:id[@root])=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='LOC'][@contextControlCode='OP'][count(cda:associatedEntity[@classCode='SDLOC'][count(cda:id[@root])=1])=1])=1" id="a-86-22444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:86-22444) such that it SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:86-22445). SHALL contain exactly one [1..1] @contextControlCode="OP" (CodeSystem: HL7 Context Control Code urn:oid:2.16.840.1.113883.5.1057 STATIC) (CONF:86-22446). SHALL contain exactly one [1..1] associatedEntity (CONF:86-22447). This associatedEntity SHALL contain exactly one [1..1] @classCode="SDLOC" Service delivery location (CodeSystem: RoleClass urn:oid:2.16.840.1.113883.5.110 STATIC) (CONF:86-22448). This associatedEntity SHALL contain exactly one [1..1] id (CONF:86-22449). This id SHALL contain exactly one [1..1] @root (CONF:86-22450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:documentationOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:documentationOf)=1" id="a-86-22451">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] documentationOf (CONF:86-22451).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf[count(cda:serviceEvent)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf[count(cda:serviceEvent)=1]" id="a-86-22452">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:86-22452).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[@classCode='CASE']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[@classCode='CASE']" id="a-86-22453">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] @classCode="CASE" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-22453).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3595']/voc:code/@value or @nullFlavor])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3595']/voc:code/@value or @nullFlavor])=1]" id="a-86-22454">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNPopulationSummaryReportTypeCode urn:oid:2.16.840.1.114222.4.11.3595 STATIC (CONF:86-22454).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:effectiveTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:effectiveTime)=1]" id="a-86-22456">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] effectiveTime (CONF:86-22456).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:low)=1]" id="a-86-22457">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:86-22457).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:high)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:high)=1]" id="a-86-22458">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] high (CONF:86-22458).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-86-22459-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The author SHALL represent the software forming the message (CONF:86-22459).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.2.2.1'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.2.2.1'])=1" id="a-1129-28327">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-28327) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.7.2.2.1" (CONF:1129-28328).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:documentationOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:documentationOf)=1" id="a-1129-22846">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] documentationOf (CONF:1129-22846).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf[count(cda:serviceEvent)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf[count(cda:serviceEvent)=1]" id="a-1129-22847">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:1129-22847).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]" id="a-1129-22848">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] code (CONF:1129-22848).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-1129-22851">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:1129-22851).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-1129-22852">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:1129-22852).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component)=1]" id="a-1129-22853">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:1129-22853).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.42'][@extension='2014-12-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.42'][@extension='2014-12-01'])=1" id="a-1129-22843">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-22843) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.42" (CONF:1129-22844). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30594).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody/cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.47']])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody/cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.47']])=1]" id="a-1129-22854">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] Summary Data Section (identifier: urn:oid:2.16.840.1.113883.10.20.5.5.47) (CONF:1129-22854).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title[translate(text(), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz')='denominator for specialty care area (sca)'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title[translate(text(), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz')='denominator for specialty care area (sca)'])=1" id="a-1129-22845">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title="Denominator for Specialty Care Area (SCA)" (CONF:1129-22845).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:code[@code='1880-4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:code[@code='1880-4']" id="a-1129-22849">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="1880-4" Summary data reporting catheter and ventilator use in a SCA (CONF:1129-22849).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:code[@codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:code[@codeSystem='2.16.840.1.113883.6.277']" id="a-1129-22850">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1129-22850).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M287"/>
</axsl:template>
<axsl:template mode="M287" priority="-1" match="text()"/>
<axsl:template mode="M288" priority="3999" match="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.42' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.42' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.42-2014-12-01-errors-CL"/>
<axsl:apply-templates mode="M288"/>
</axsl:template>
<axsl:template mode="M288" priority="-1" match="text()"/>
<axsl:template mode="M289" priority="3999" match="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.41' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.41' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.41-2014-12-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:realmCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:realmCode)=1" id="a-86-18431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] realmCode (CONF:86-18431).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:realmCode[count(self::node()[@code='US'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:realmCode[count(self::node()[@code='US'])=1]" id="a-86-18432">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This realmCode SHALL contain exactly one [1..1] @code="US" (CONF:86-18432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-18433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-18433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51897-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51897-7']" id="a-86-18434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51897-7" Healthcare Associated Infection Report (CONF:86-18434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-18435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-18435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-86-18436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:86-18436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:confidentialityCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:confidentialityCode)=1" id="a-86-18437-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] confidentialityCode (CONF:86-18437).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:confidentialityCode[count(self::node()[@code='N'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:confidentialityCode[count(self::node()[@code='N'])=1]" id="a-86-18438">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This confidentialityCode SHALL contain exactly one [1..1] @code="N" Normal (CodeSystem: ConfidentialityCode urn:oid:2.16.840.1.113883.5.25 STATIC) (CONF:86-18438).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:languageCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:languageCode)=1" id="a-86-18439">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] languageCode (CONF:86-18439).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:languageCode[@code='en-US']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:languageCode[@code='en-US']" id="a-86-18440">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This languageCode SHALL contain exactly one [1..1] @code="en-US" (CONF:86-18440).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:setId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:setId)=1" id="a-86-18441">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] setId (CONF:86-18441).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:versionNumber)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:versionNumber)=1" id="a-86-18442">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] versionNumber (CONF:86-18442).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:custodian)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:custodian)=1" id="a-86-18443">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] custodian (CONF:86-18443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian[count(cda:assignedCustodian)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian[count(cda:assignedCustodian)=1]" id="a-86-18444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This custodian SHALL contain exactly one [1..1] assignedCustodian (CONF:86-18444).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]" id="a-86-18445">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedCustodian SHALL contain exactly one [1..1] representedCustodianOrganization (CONF:86-18445).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]" id="a-86-18446">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This representedCustodianOrganization SHALL contain exactly one [1..1] id (CONF:86-18446).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']" id="a-86-18447">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root="2.16.840.1.114222.4.3.2.11" (CONF:86-18447).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-86-18448">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:86-18448).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-86-18449">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:86-18449).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-18450-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The structuredBody element SHALL contain a component element for each section required by the particular report type. Additional sections may be present but their content will not be processed by NHSN (CONF:86-18450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1" id="a-86-18460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-18460) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.25" (CONF:86-18461).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:typeId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:typeId)=1" id="a-86-18463">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] typeId (CONF:86-18463).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@root='2.16.840.1.113883.1.3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@root='2.16.840.1.113883.1.3']" id="a-86-18464">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @root="2.16.840.1.113883.1.3" (CONF:86-18464).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@extension='POCD_HD000040']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@extension='POCD_HD000040']" id="a-86-18465">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @extension="POCD_HD000040" (CONF:86-18465).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-18466-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-18466).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']" id="a-86-18470">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] @typeCode="RPLC" replace (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-18470).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-18471-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If versionNumber/@value is greater than 1, a relatedDocument element SHALL be present (CONF:86-18471).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget) &gt; 0" id="a-86-18472-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] recordTarget (CONF:86-18472).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:author) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:author) &gt; 0" id="a-86-18473-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] author (CONF:86-18473).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-86-18475-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain at least one [1..*] component (CONF:86-18475).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem]" id="a-86-27413">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:86-27413).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[count(cda:parentDocument)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[count(cda:parentDocument)=1]" id="a-86-28401">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] parentDocument (CONF:86-28401).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument/cda:parentDocument) or cda:relatedDocument/cda:parentDocument[count(cda:id) &gt; 0]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument/cda:parentDocument) or cda:relatedDocument/cda:parentDocument[count(cda:id) &gt; 0]" id="a-86-28402">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This parentDocument SHALL contain at least one [1..*] id (CONF:86-28402).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-28403-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of id SHALL be populated with the ClinicalDocument/id of the document being replaced (CONF:86-28403).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.28'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.28'])=1" id="a-86-22431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22431) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.28" (CONF:86-22432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget)=1" id="a-86-22433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] recordTarget (CONF:86-22433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget[count(cda:patientRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget[count(cda:patientRole)=1]" id="a-86-22434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This recordTarget SHALL contain exactly one [1..1] patientRole (CONF:86-22434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:id)=1]" id="a-86-22435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain exactly one [1..1] id (CONF:86-22435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@nullFlavor='NA']" id="a-86-22436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" not applicable (CONF:86-22436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='SBJ'][@contextControlCode='OP'][count(cda:associatedEntity[@classCode='PRS'][count(cda:code[@code='389109008'])=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='SBJ'][@contextControlCode='OP'][count(cda:associatedEntity[@classCode='PRS'][count(cda:code[@code='389109008'])=1])=1])=1" id="a-86-22437">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:86-22437) such that it SHALL contain exactly one [1..1] @typeCode="SBJ" Subject (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:86-22438). SHALL contain exactly one [1..1] @contextControlCode="OP" (CodeSystem: HL7 Context Control Code urn:oid:2.16.840.1.113883.5.1057 STATIC) (CONF:86-22439). SHALL contain exactly one [1..1] associatedEntity (CONF:86-22440). This associatedEntity SHALL contain exactly one [1..1] @classCode="PRS" Person (CodeSystem: EntityClass urn:oid:2.16.840.1.113883.5.41 STATIC) (CONF:86-22441). This associatedEntity SHALL contain exactly one [1..1] code (CONF:86-22442). This code SHALL contain exactly one [1..1] @code="389109008" Group (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96 STATIC) (CONF:86-22443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='LOC'][@contextControlCode='OP'][count(cda:associatedEntity[@classCode='SDLOC'][count(cda:id[@root])=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='LOC'][@contextControlCode='OP'][count(cda:associatedEntity[@classCode='SDLOC'][count(cda:id[@root])=1])=1])=1" id="a-86-22444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:86-22444) such that it SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:86-22445). SHALL contain exactly one [1..1] @contextControlCode="OP" (CodeSystem: HL7 Context Control Code urn:oid:2.16.840.1.113883.5.1057 STATIC) (CONF:86-22446). SHALL contain exactly one [1..1] associatedEntity (CONF:86-22447). This associatedEntity SHALL contain exactly one [1..1] @classCode="SDLOC" Service delivery location (CodeSystem: RoleClass urn:oid:2.16.840.1.113883.5.110 STATIC) (CONF:86-22448). This associatedEntity SHALL contain exactly one [1..1] id (CONF:86-22449). This id SHALL contain exactly one [1..1] @root (CONF:86-22450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:documentationOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:documentationOf)=1" id="a-86-22451">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] documentationOf (CONF:86-22451).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf[count(cda:serviceEvent)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf[count(cda:serviceEvent)=1]" id="a-86-22452">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:86-22452).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[@classCode='CASE']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[@classCode='CASE']" id="a-86-22453">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] @classCode="CASE" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-22453).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3595']/voc:code/@value or @nullFlavor])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3595']/voc:code/@value or @nullFlavor])=1]" id="a-86-22454">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNPopulationSummaryReportTypeCode urn:oid:2.16.840.1.114222.4.11.3595 STATIC (CONF:86-22454).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:effectiveTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:effectiveTime)=1]" id="a-86-22456">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] effectiveTime (CONF:86-22456).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:low)=1]" id="a-86-22457">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:86-22457).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:high)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:high)=1]" id="a-86-22458">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] high (CONF:86-22458).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-86-22459-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The author SHALL represent the software forming the message (CONF:86-22459).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.2.2.1'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.2.2.1'])=1" id="a-1129-28323">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-28323) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.7.2.2.1" (CONF:1129-28324).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:documentationOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:documentationOf)=1" id="a-1129-22808">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] documentationOf (CONF:1129-22808).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf[count(cda:serviceEvent)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf[count(cda:serviceEvent)=1]" id="a-1129-22809">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:1129-22809).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]" id="a-1129-22810">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] code (CONF:1129-22810).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-1129-22813">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:1129-22813).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-1129-22814">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:1129-22814).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component)=1]" id="a-1129-22815">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:1129-22815).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.41'][@extension='2014-12-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.41'][@extension='2014-12-01'])=1" id="a-1129-22805">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-22805) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.41" (CONF:1129-22806). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30595).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody/cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.48']])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody/cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.48']])=1]" id="a-1129-22816">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] Summary Data Section (NICU) (identifier: urn:oid:2.16.840.1.113883.10.20.5.5.48) (CONF:1129-22816).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title[translate(text(), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz')='denominator for neonatal intensive care unit (nicu)'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title[translate(text(), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz')='denominator for neonatal intensive care unit (nicu)'])=1" id="a-1129-22807">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title="Denominator for Neonatal Intensive Care Unit (NICU)" (CONF:1129-22807).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:code[@code='1881-2']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:code[@code='1881-2']" id="a-1129-22811">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="1881-2" Summary data reporting catheter and ventilator use in a NICU (CONF:1129-22811).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:code[@codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:code[@codeSystem='2.16.840.1.113883.6.277']" id="a-1129-22812">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1129-22812).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M289"/>
</axsl:template>
<axsl:template mode="M289" priority="-1" match="text()"/>
<axsl:template mode="M290" priority="3999" match="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.41' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.41' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.41-2014-12-01-errors-CL"/>
<axsl:apply-templates mode="M290"/>
</axsl:template>
<axsl:template mode="M290" priority="-1" match="text()"/>
<axsl:template mode="M291" priority="3999" match="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.40' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.40' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.40-2014-12-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:realmCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:realmCode)=1" id="a-86-18431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] realmCode (CONF:86-18431).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:realmCode[count(self::node()[@code='US'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:realmCode[count(self::node()[@code='US'])=1]" id="a-86-18432">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This realmCode SHALL contain exactly one [1..1] @code="US" (CONF:86-18432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-18433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-18433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51897-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51897-7']" id="a-86-18434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51897-7" Healthcare Associated Infection Report (CONF:86-18434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-18435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-18435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-86-18436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:86-18436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:confidentialityCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:confidentialityCode)=1" id="a-86-18437-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] confidentialityCode (CONF:86-18437).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:confidentialityCode[count(self::node()[@code='N'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:confidentialityCode[count(self::node()[@code='N'])=1]" id="a-86-18438">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This confidentialityCode SHALL contain exactly one [1..1] @code="N" Normal (CodeSystem: ConfidentialityCode urn:oid:2.16.840.1.113883.5.25 STATIC) (CONF:86-18438).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:languageCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:languageCode)=1" id="a-86-18439">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] languageCode (CONF:86-18439).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:languageCode[@code='en-US']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:languageCode[@code='en-US']" id="a-86-18440">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This languageCode SHALL contain exactly one [1..1] @code="en-US" (CONF:86-18440).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:setId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:setId)=1" id="a-86-18441">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] setId (CONF:86-18441).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:versionNumber)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:versionNumber)=1" id="a-86-18442">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] versionNumber (CONF:86-18442).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:custodian)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:custodian)=1" id="a-86-18443">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] custodian (CONF:86-18443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian[count(cda:assignedCustodian)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian[count(cda:assignedCustodian)=1]" id="a-86-18444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This custodian SHALL contain exactly one [1..1] assignedCustodian (CONF:86-18444).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]" id="a-86-18445">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedCustodian SHALL contain exactly one [1..1] representedCustodianOrganization (CONF:86-18445).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]" id="a-86-18446">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This representedCustodianOrganization SHALL contain exactly one [1..1] id (CONF:86-18446).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']" id="a-86-18447">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root="2.16.840.1.114222.4.3.2.11" (CONF:86-18447).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-86-18448">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:86-18448).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-86-18449">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:86-18449).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-18450-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The structuredBody element SHALL contain a component element for each section required by the particular report type. Additional sections may be present but their content will not be processed by NHSN (CONF:86-18450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1" id="a-86-18460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-18460) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.25" (CONF:86-18461).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:typeId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:typeId)=1" id="a-86-18463">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] typeId (CONF:86-18463).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@root='2.16.840.1.113883.1.3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@root='2.16.840.1.113883.1.3']" id="a-86-18464">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @root="2.16.840.1.113883.1.3" (CONF:86-18464).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@extension='POCD_HD000040']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@extension='POCD_HD000040']" id="a-86-18465">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @extension="POCD_HD000040" (CONF:86-18465).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-18466-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-18466).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']" id="a-86-18470">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] @typeCode="RPLC" replace (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-18470).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-18471-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If versionNumber/@value is greater than 1, a relatedDocument element SHALL be present (CONF:86-18471).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget) &gt; 0" id="a-86-18472-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] recordTarget (CONF:86-18472).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:author) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:author) &gt; 0" id="a-86-18473-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] author (CONF:86-18473).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-86-18475-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain at least one [1..*] component (CONF:86-18475).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem]" id="a-86-27413">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:86-27413).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[count(cda:parentDocument)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[count(cda:parentDocument)=1]" id="a-86-28401">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] parentDocument (CONF:86-28401).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument/cda:parentDocument) or cda:relatedDocument/cda:parentDocument[count(cda:id) &gt; 0]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument/cda:parentDocument) or cda:relatedDocument/cda:parentDocument[count(cda:id) &gt; 0]" id="a-86-28402">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This parentDocument SHALL contain at least one [1..*] id (CONF:86-28402).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-28403-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of id SHALL be populated with the ClinicalDocument/id of the document being replaced (CONF:86-28403).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.28'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.28'])=1" id="a-86-22431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22431) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.28" (CONF:86-22432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget)=1" id="a-86-22433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] recordTarget (CONF:86-22433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget[count(cda:patientRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget[count(cda:patientRole)=1]" id="a-86-22434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This recordTarget SHALL contain exactly one [1..1] patientRole (CONF:86-22434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:id)=1]" id="a-86-22435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain exactly one [1..1] id (CONF:86-22435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@nullFlavor='NA']" id="a-86-22436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" not applicable (CONF:86-22436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='SBJ'][@contextControlCode='OP'][count(cda:associatedEntity[@classCode='PRS'][count(cda:code[@code='389109008'])=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='SBJ'][@contextControlCode='OP'][count(cda:associatedEntity[@classCode='PRS'][count(cda:code[@code='389109008'])=1])=1])=1" id="a-86-22437">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:86-22437) such that it SHALL contain exactly one [1..1] @typeCode="SBJ" Subject (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:86-22438). SHALL contain exactly one [1..1] @contextControlCode="OP" (CodeSystem: HL7 Context Control Code urn:oid:2.16.840.1.113883.5.1057 STATIC) (CONF:86-22439). SHALL contain exactly one [1..1] associatedEntity (CONF:86-22440). This associatedEntity SHALL contain exactly one [1..1] @classCode="PRS" Person (CodeSystem: EntityClass urn:oid:2.16.840.1.113883.5.41 STATIC) (CONF:86-22441). This associatedEntity SHALL contain exactly one [1..1] code (CONF:86-22442). This code SHALL contain exactly one [1..1] @code="389109008" Group (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96 STATIC) (CONF:86-22443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='LOC'][@contextControlCode='OP'][count(cda:associatedEntity[@classCode='SDLOC'][count(cda:id[@root])=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='LOC'][@contextControlCode='OP'][count(cda:associatedEntity[@classCode='SDLOC'][count(cda:id[@root])=1])=1])=1" id="a-86-22444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:86-22444) such that it SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:86-22445). SHALL contain exactly one [1..1] @contextControlCode="OP" (CodeSystem: HL7 Context Control Code urn:oid:2.16.840.1.113883.5.1057 STATIC) (CONF:86-22446). SHALL contain exactly one [1..1] associatedEntity (CONF:86-22447). This associatedEntity SHALL contain exactly one [1..1] @classCode="SDLOC" Service delivery location (CodeSystem: RoleClass urn:oid:2.16.840.1.113883.5.110 STATIC) (CONF:86-22448). This associatedEntity SHALL contain exactly one [1..1] id (CONF:86-22449). This id SHALL contain exactly one [1..1] @root (CONF:86-22450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:documentationOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:documentationOf)=1" id="a-86-22451">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] documentationOf (CONF:86-22451).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf[count(cda:serviceEvent)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf[count(cda:serviceEvent)=1]" id="a-86-22452">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:86-22452).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[@classCode='CASE']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[@classCode='CASE']" id="a-86-22453">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] @classCode="CASE" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-22453).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3595']/voc:code/@value or @nullFlavor])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3595']/voc:code/@value or @nullFlavor])=1]" id="a-86-22454">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNPopulationSummaryReportTypeCode urn:oid:2.16.840.1.114222.4.11.3595 STATIC (CONF:86-22454).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:effectiveTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:effectiveTime)=1]" id="a-86-22456">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] effectiveTime (CONF:86-22456).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:low)=1]" id="a-86-22457">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:86-22457).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:high)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:high)=1]" id="a-86-22458">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] high (CONF:86-22458).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-86-22459-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The author SHALL represent the software forming the message (CONF:86-22459).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.2.2.1'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.2.2.1'])=1" id="a-1129-28321">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-28321) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.7.2.2.1" (CONF:1129-28322).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-1129-22795">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:1129-22795).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-1129-22796">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:1129-22796).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component)=1]" id="a-1129-22797">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:1129-22797).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:documentationOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:documentationOf)=1" id="a-1129-22800">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] documentationOf (CONF:1129-22800).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf[count(cda:serviceEvent)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf[count(cda:serviceEvent)=1]" id="a-1129-22801">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:1129-22801).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]" id="a-1129-22802">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] code (CONF:1129-22802).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.40'][@extension='2014-12-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.40'][@extension='2014-12-01'])=1" id="a-1129-22793">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1129-22793) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.40" (CONF:1129-22794). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30596).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody/cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.47']])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody/cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.47']])=1]" id="a-1129-22798">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] Summary Data Section (identifier: urn:oid:2.16.840.1.113883.10.20.5.5.47) (CONF:1129-22798).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title[translate(text(), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz')='denominator for intensive care unit (icu)/other locations (not nicu or sca) report'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title[translate(text(), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz')='denominator for intensive care unit (icu)/other locations (not nicu or sca) report'])=1" id="a-1129-22799">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title="Denominator for Intensive Care Unit (ICU)/Other Locations (not NICU or SCA) Report" (CONF:1129-22799).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:code[@code='1879-6']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:code[@code='1879-6']" id="a-1129-22803">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="1879-6" Summary data reporting catheter and ventilator use in an ICU (CONF:1129-22803).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:code[@codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:code[@codeSystem='2.16.840.1.113883.6.277']" id="a-1129-22804">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1129-22804).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M291"/>
</axsl:template>
<axsl:template mode="M291" priority="-1" match="text()"/>
<axsl:template mode="M292" priority="3999" match="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.40' and @extension = '2014-12-01']]">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.40' and @extension = '2014-12-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.40-2014-12-01-errors-CL"/>
<axsl:apply-templates mode="M292"/>
</axsl:template>
<axsl:template mode="M292" priority="-1" match="text()"/>
<axsl:template mode="M293" priority="3999" match="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.31' and @extension = '2015-04-01']]">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.31' and @extension = '2015-04-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.31-2015-04-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:realmCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:realmCode)=1" id="a-86-18431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] realmCode (CONF:86-18431).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:realmCode[count(self::node()[@code='US'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:realmCode[count(self::node()[@code='US'])=1]" id="a-86-18432">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This realmCode SHALL contain exactly one [1..1] @code="US" (CONF:86-18432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-18433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-18433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51897-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51897-7']" id="a-86-18434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51897-7" Healthcare Associated Infection Report (CONF:86-18434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-18435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-18435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-86-18436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:86-18436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:confidentialityCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:confidentialityCode)=1" id="a-86-18437-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] confidentialityCode (CONF:86-18437).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:confidentialityCode[count(self::node()[@code='N'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:confidentialityCode[count(self::node()[@code='N'])=1]" id="a-86-18438">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This confidentialityCode SHALL contain exactly one [1..1] @code="N" Normal (CodeSystem: ConfidentialityCode urn:oid:2.16.840.1.113883.5.25 STATIC) (CONF:86-18438).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:languageCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:languageCode)=1" id="a-86-18439">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] languageCode (CONF:86-18439).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:languageCode[@code='en-US']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:languageCode[@code='en-US']" id="a-86-18440">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This languageCode SHALL contain exactly one [1..1] @code="en-US" (CONF:86-18440).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:setId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:setId)=1" id="a-86-18441">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] setId (CONF:86-18441).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:versionNumber)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:versionNumber)=1" id="a-86-18442">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] versionNumber (CONF:86-18442).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:custodian)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:custodian)=1" id="a-86-18443">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] custodian (CONF:86-18443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian[count(cda:assignedCustodian)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian[count(cda:assignedCustodian)=1]" id="a-86-18444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This custodian SHALL contain exactly one [1..1] assignedCustodian (CONF:86-18444).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]" id="a-86-18445">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedCustodian SHALL contain exactly one [1..1] representedCustodianOrganization (CONF:86-18445).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]" id="a-86-18446">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This representedCustodianOrganization SHALL contain exactly one [1..1] id (CONF:86-18446).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']" id="a-86-18447">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root="2.16.840.1.114222.4.3.2.11" (CONF:86-18447).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-86-18448">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:86-18448).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-86-18449">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:86-18449).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-18450-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The structuredBody element SHALL contain a component element for each section required by the particular report type. Additional sections may be present but their content will not be processed by NHSN (CONF:86-18450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1" id="a-86-18460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-18460) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.25" (CONF:86-18461).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:typeId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:typeId)=1" id="a-86-18463">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] typeId (CONF:86-18463).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@root='2.16.840.1.113883.1.3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@root='2.16.840.1.113883.1.3']" id="a-86-18464">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @root="2.16.840.1.113883.1.3" (CONF:86-18464).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@extension='POCD_HD000040']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@extension='POCD_HD000040']" id="a-86-18465">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @extension="POCD_HD000040" (CONF:86-18465).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-18466-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-18466).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']" id="a-86-18470">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] @typeCode="RPLC" replace (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-18470).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-18471-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If versionNumber/@value is greater than 1, a relatedDocument element SHALL be present (CONF:86-18471).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget) &gt; 0" id="a-86-18472-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] recordTarget (CONF:86-18472).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:author) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:author) &gt; 0" id="a-86-18473-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] author (CONF:86-18473).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-86-18475-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain at least one [1..*] component (CONF:86-18475).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem]" id="a-86-27413">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:86-27413).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[count(cda:parentDocument)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[count(cda:parentDocument)=1]" id="a-86-28401">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] parentDocument (CONF:86-28401).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument/cda:parentDocument) or cda:relatedDocument/cda:parentDocument[count(cda:id) &gt; 0]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument/cda:parentDocument) or cda:relatedDocument/cda:parentDocument[count(cda:id) &gt; 0]" id="a-86-28402">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This parentDocument SHALL contain at least one [1..*] id (CONF:86-28402).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-28403-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of id SHALL be populated with the ClinicalDocument/id of the document being replaced (CONF:86-28403).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27'])=1" id="a-86-22415">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22415) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.27" (CONF:86-22416).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget)=1" id="a-86-22417">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] recordTarget (CONF:86-22417).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget[count(cda:patientRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget[count(cda:patientRole)=1]" id="a-86-22418">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This recordTarget SHALL contain exactly one [1..1] patientRole (CONF:86-22418).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:id) &gt; 0]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:id) &gt; 0]" id="a-86-22419">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain at least one [1..*] id (CONF:86-22419).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@root]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@root]" id="a-86-22420">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @root (CONF:86-22420).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@extension]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@extension]" id="a-86-22421">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @extension (CONF:86-22421).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:patient)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:patient)=1]" id="a-86-22422">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain exactly one [1..1] patient (CONF:86-22422).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:administrativeGenderCode)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:administrativeGenderCode)=1]" id="a-86-22424">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patient SHALL contain exactly one [1..1] administrativeGenderCode (CONF:86-22424).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient/cda:administrativeGenderCode[@code and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.1.11.1']/voc:code/@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient/cda:administrativeGenderCode[@code and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.1.11.1']/voc:code/@value]" id="a-86-22425">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This administrativeGenderCode SHALL contain exactly one [1..1] @code, which SHALL be selected from ValueSet Administrative Gender (HL7 V3) urn:oid:2.16.840.1.113883.1.11.1 STATIC (CONF:86-22425).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:birthTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:birthTime)=1]" id="a-86-22426">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patient SHALL contain exactly one [1..1] birthTime (CONF:86-22426).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient/cda:birthTime[@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient/cda:birthTime[@value]" id="a-86-22427">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This birthTime SHALL contain exactly one [1..1] @value (CONF:86-22427).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:componentOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:componentOf)=1" id="a-1181-21139">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] componentOf (CONF:1181-21139).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf[count(cda:encompassingEncounter)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf[count(cda:encompassingEncounter)=1]" id="a-1181-21140">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This componentOf SHALL contain exactly one [1..1] encompassingEncounter (CONF:1181-21140).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter[count(cda:effectiveTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter[count(cda:effectiveTime)=1]" id="a-1181-21143">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This encompassingEncounter SHALL contain exactly one [1..1] effectiveTime (CONF:1181-21143).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime[count(cda:low)=1]" id="a-1181-21144">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:1181-21144).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]" id="a-1181-21146">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This encompassingEncounter SHALL contain exactly one [1..1] location (CONF:1181-21146).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]" id="a-1181-21147">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This location SHALL contain exactly one [1..1] healthCareFacility (CONF:1181-21147).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]" id="a-1181-21148">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This healthCareFacility SHALL contain exactly one [1..1] id (CONF:1181-21148).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-1181-21150">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:1181-21150).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-1181-21151">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:1181-21151).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.32' and @extension = '2014-12-01']])=1])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.32' and @extension = '2014-12-01']])=1])=1]" id="a-1181-21152">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:1181-21152) such that it SHALL contain exactly one [1..1] Findings Section in an ARO Report (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.5.32:2014-12-01) (CONF:1181-21153).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.2'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.2'])=1" id="a-1181-30540">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1181-30540) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.7.2" (CONF:1181-30541).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.31'][@extension='2015-04-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.31'][@extension='2015-04-01'])=1" id="a-1181-21951">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1181-21951) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.31" (CONF:1181-21952). SHALL contain exactly one [1..1] @extension="2015-04-01" (CONF:1181-30542).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:low[@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:low[@value]" id="a-1181-21145">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This low SHALL contain exactly one [1..1] @value (CONF:1181-21145).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-1181-23358-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of the admission date SHALL NOT be earlier than January 1, 1986; SHALL NOT be earlier than the date of birth; and SHALL NOT be later than the event date (CONF:1181-23358).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]" id="a-1181-21149">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root (CONF:1181-21149).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter[count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.1']/voc:code/@value or @nullFlavor])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter[count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.1']/voc:code/@value or @nullFlavor])=1]" id="a-1181-21141">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This encompassingEncounter SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNEncounterTypeCode urn:oid:2.16.840.1.113883.13.1 STATIC (CONF:1181-21141).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M293"/>
</axsl:template>
<axsl:template mode="M293" priority="-1" match="text()"/>
<axsl:template mode="M294" priority="3999" match="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.31' and @extension = '2015-04-01']]">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.31' and @extension = '2015-04-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.31-2015-04-01-errors-CL"/>
<axsl:apply-templates mode="M294"/>
</axsl:template>
<axsl:template mode="M294" priority="-1" match="text()"/>
<axsl:template mode="M295" priority="3999" match="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.44' and @extension = '2015-04-01']]">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.44' and @extension = '2015-04-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.44-2015-04-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:realmCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:realmCode)=1" id="a-86-18431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] realmCode (CONF:86-18431).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:realmCode[count(self::node()[@code='US'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:realmCode[count(self::node()[@code='US'])=1]" id="a-86-18432">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This realmCode SHALL contain exactly one [1..1] @code="US" (CONF:86-18432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-18433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-18433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51897-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51897-7']" id="a-86-18434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51897-7" Healthcare Associated Infection Report (CONF:86-18434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-18435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-18435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-86-18436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:86-18436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:confidentialityCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:confidentialityCode)=1" id="a-86-18437-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] confidentialityCode (CONF:86-18437).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:confidentialityCode[count(self::node()[@code='N'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:confidentialityCode[count(self::node()[@code='N'])=1]" id="a-86-18438">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This confidentialityCode SHALL contain exactly one [1..1] @code="N" Normal (CodeSystem: ConfidentialityCode urn:oid:2.16.840.1.113883.5.25 STATIC) (CONF:86-18438).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:languageCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:languageCode)=1" id="a-86-18439">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] languageCode (CONF:86-18439).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:languageCode[@code='en-US']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:languageCode[@code='en-US']" id="a-86-18440">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This languageCode SHALL contain exactly one [1..1] @code="en-US" (CONF:86-18440).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:setId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:setId)=1" id="a-86-18441">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] setId (CONF:86-18441).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:versionNumber)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:versionNumber)=1" id="a-86-18442">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] versionNumber (CONF:86-18442).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:custodian)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:custodian)=1" id="a-86-18443">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] custodian (CONF:86-18443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian[count(cda:assignedCustodian)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian[count(cda:assignedCustodian)=1]" id="a-86-18444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This custodian SHALL contain exactly one [1..1] assignedCustodian (CONF:86-18444).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]" id="a-86-18445">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedCustodian SHALL contain exactly one [1..1] representedCustodianOrganization (CONF:86-18445).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]" id="a-86-18446">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This representedCustodianOrganization SHALL contain exactly one [1..1] id (CONF:86-18446).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']" id="a-86-18447">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root="2.16.840.1.114222.4.3.2.11" (CONF:86-18447).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-86-18448">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:86-18448).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-86-18449">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:86-18449).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-18450-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The structuredBody element SHALL contain a component element for each section required by the particular report type. Additional sections may be present but their content will not be processed by NHSN (CONF:86-18450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1" id="a-86-18460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-18460) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.25" (CONF:86-18461).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:typeId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:typeId)=1" id="a-86-18463">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] typeId (CONF:86-18463).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@root='2.16.840.1.113883.1.3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@root='2.16.840.1.113883.1.3']" id="a-86-18464">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @root="2.16.840.1.113883.1.3" (CONF:86-18464).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@extension='POCD_HD000040']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@extension='POCD_HD000040']" id="a-86-18465">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @extension="POCD_HD000040" (CONF:86-18465).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-18466-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-18466).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']" id="a-86-18470">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] @typeCode="RPLC" replace (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-18470).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-18471-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If versionNumber/@value is greater than 1, a relatedDocument element SHALL be present (CONF:86-18471).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget) &gt; 0" id="a-86-18472-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] recordTarget (CONF:86-18472).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:author) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:author) &gt; 0" id="a-86-18473-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] author (CONF:86-18473).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-86-18475-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain at least one [1..*] component (CONF:86-18475).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem]" id="a-86-27413">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:86-27413).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[count(cda:parentDocument)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[count(cda:parentDocument)=1]" id="a-86-28401">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] parentDocument (CONF:86-28401).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument/cda:parentDocument) or cda:relatedDocument/cda:parentDocument[count(cda:id) &gt; 0]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument/cda:parentDocument) or cda:relatedDocument/cda:parentDocument[count(cda:id) &gt; 0]" id="a-86-28402">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This parentDocument SHALL contain at least one [1..*] id (CONF:86-28402).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-28403-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of id SHALL be populated with the ClinicalDocument/id of the document being replaced (CONF:86-28403).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.28'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.28'])=1" id="a-86-22431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22431) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.28" (CONF:86-22432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget)=1" id="a-86-22433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] recordTarget (CONF:86-22433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget[count(cda:patientRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget[count(cda:patientRole)=1]" id="a-86-22434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This recordTarget SHALL contain exactly one [1..1] patientRole (CONF:86-22434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:id)=1]" id="a-86-22435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain exactly one [1..1] id (CONF:86-22435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@nullFlavor='NA']" id="a-86-22436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" not applicable (CONF:86-22436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='SBJ'][@contextControlCode='OP'][count(cda:associatedEntity[@classCode='PRS'][count(cda:code[@code='389109008'])=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='SBJ'][@contextControlCode='OP'][count(cda:associatedEntity[@classCode='PRS'][count(cda:code[@code='389109008'])=1])=1])=1" id="a-86-22437">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:86-22437) such that it SHALL contain exactly one [1..1] @typeCode="SBJ" Subject (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:86-22438). SHALL contain exactly one [1..1] @contextControlCode="OP" (CodeSystem: HL7 Context Control Code urn:oid:2.16.840.1.113883.5.1057 STATIC) (CONF:86-22439). SHALL contain exactly one [1..1] associatedEntity (CONF:86-22440). This associatedEntity SHALL contain exactly one [1..1] @classCode="PRS" Person (CodeSystem: EntityClass urn:oid:2.16.840.1.113883.5.41 STATIC) (CONF:86-22441). This associatedEntity SHALL contain exactly one [1..1] code (CONF:86-22442). This code SHALL contain exactly one [1..1] @code="389109008" Group (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96 STATIC) (CONF:86-22443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='LOC'][@contextControlCode='OP'][count(cda:associatedEntity[@classCode='SDLOC'][count(cda:id[@root])=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='LOC'][@contextControlCode='OP'][count(cda:associatedEntity[@classCode='SDLOC'][count(cda:id[@root])=1])=1])=1" id="a-86-22444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:86-22444) such that it SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:86-22445). SHALL contain exactly one [1..1] @contextControlCode="OP" (CodeSystem: HL7 Context Control Code urn:oid:2.16.840.1.113883.5.1057 STATIC) (CONF:86-22446). SHALL contain exactly one [1..1] associatedEntity (CONF:86-22447). This associatedEntity SHALL contain exactly one [1..1] @classCode="SDLOC" Service delivery location (CodeSystem: RoleClass urn:oid:2.16.840.1.113883.5.110 STATIC) (CONF:86-22448). This associatedEntity SHALL contain exactly one [1..1] id (CONF:86-22449). This id SHALL contain exactly one [1..1] @root (CONF:86-22450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:documentationOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:documentationOf)=1" id="a-86-22451">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] documentationOf (CONF:86-22451).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf[count(cda:serviceEvent)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf[count(cda:serviceEvent)=1]" id="a-86-22452">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:86-22452).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[@classCode='CASE']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[@classCode='CASE']" id="a-86-22453">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] @classCode="CASE" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-22453).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3595']/voc:code/@value or @nullFlavor])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3595']/voc:code/@value or @nullFlavor])=1]" id="a-86-22454">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNPopulationSummaryReportTypeCode urn:oid:2.16.840.1.114222.4.11.3595 STATIC (CONF:86-22454).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:effectiveTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:effectiveTime)=1]" id="a-86-22456">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] effectiveTime (CONF:86-22456).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:low)=1]" id="a-86-22457">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:86-22457).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:high)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:high)=1]" id="a-86-22458">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] high (CONF:86-22458).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-86-22459-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The author SHALL represent the software forming the message (CONF:86-22459).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.2'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.2'])=1" id="a-1181-28303">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1181-28303) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.7.2" (CONF:1181-28304).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:documentationOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:documentationOf)=1" id="a-1181-22901">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] documentationOf (CONF:1181-22901).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf[count(cda:serviceEvent)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf[count(cda:serviceEvent)=1]" id="a-1181-22902">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:1181-22902).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]" id="a-1181-22903">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] code (CONF:1181-22903).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-1181-22906">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:1181-22906).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-1181-22907">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:1181-22907).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component)=1]" id="a-1181-22908">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:1181-22908).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.44'][@extension='2015-04-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.44'][@extension='2015-04-01'])=1" id="a-1181-22898">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1181-22898) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.44" (CONF:1181-22899). SHALL contain exactly one [1..1] @extension="2015-04-01" (CONF:1181-30543).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody/cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.51' and @extension = '2015-04-01']])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody/cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.51' and @extension = '2015-04-01']])=1]" id="a-1181-22909">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] Summary Data Section (AUP) (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.5.51:2015-04-01) (CONF:1181-22909).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title[translate(text(), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz')='antimicrobial use, pharmacy option (aup) summary report'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title[translate(text(), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz')='antimicrobial use, pharmacy option (aup) summary report'])=1" id="a-1181-22900">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title="Antimicrobial Use, Pharmacy Option (AUP) Summary Report" (CONF:1181-22900).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:code[@code='1887-9']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:code[@code='1887-9']" id="a-1181-22904">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="1887-9" Summary data reporting antimicrobial usage (CONF:1181-22904).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:code[@codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:code[@codeSystem='2.16.840.1.113883.6.277']" id="a-1181-22905">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1181-22905).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M295"/>
</axsl:template>
<axsl:template mode="M295" priority="-1" match="text()"/>
<axsl:template mode="M296" priority="3999" match="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.44' and @extension = '2015-04-01']]">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.44' and @extension = '2015-04-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.44-2015-04-01-errors-CL"/>
<axsl:apply-templates mode="M296"/>
</axsl:template>
<axsl:template mode="M296" priority="-1" match="text()"/>
<axsl:template mode="M297" priority="3999" match="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.46' and @extension = '2015-04-01']]">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.46' and @extension = '2015-04-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.46-2015-04-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:realmCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:realmCode)=1" id="a-86-18431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] realmCode (CONF:86-18431).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:realmCode[count(self::node()[@code='US'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:realmCode[count(self::node()[@code='US'])=1]" id="a-86-18432">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This realmCode SHALL contain exactly one [1..1] @code="US" (CONF:86-18432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-18433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-18433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51897-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51897-7']" id="a-86-18434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51897-7" Healthcare Associated Infection Report (CONF:86-18434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-18435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-18435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-86-18436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:86-18436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:confidentialityCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:confidentialityCode)=1" id="a-86-18437-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] confidentialityCode (CONF:86-18437).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:confidentialityCode[count(self::node()[@code='N'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:confidentialityCode[count(self::node()[@code='N'])=1]" id="a-86-18438">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This confidentialityCode SHALL contain exactly one [1..1] @code="N" Normal (CodeSystem: ConfidentialityCode urn:oid:2.16.840.1.113883.5.25 STATIC) (CONF:86-18438).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:languageCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:languageCode)=1" id="a-86-18439">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] languageCode (CONF:86-18439).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:languageCode[@code='en-US']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:languageCode[@code='en-US']" id="a-86-18440">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This languageCode SHALL contain exactly one [1..1] @code="en-US" (CONF:86-18440).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:setId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:setId)=1" id="a-86-18441">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] setId (CONF:86-18441).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:versionNumber)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:versionNumber)=1" id="a-86-18442">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] versionNumber (CONF:86-18442).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:custodian)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:custodian)=1" id="a-86-18443">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] custodian (CONF:86-18443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian[count(cda:assignedCustodian)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian[count(cda:assignedCustodian)=1]" id="a-86-18444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This custodian SHALL contain exactly one [1..1] assignedCustodian (CONF:86-18444).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]" id="a-86-18445">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedCustodian SHALL contain exactly one [1..1] representedCustodianOrganization (CONF:86-18445).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]" id="a-86-18446">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This representedCustodianOrganization SHALL contain exactly one [1..1] id (CONF:86-18446).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']" id="a-86-18447">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root="2.16.840.1.114222.4.3.2.11" (CONF:86-18447).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-86-18448">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:86-18448).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-86-18449">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:86-18449).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-18450-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The structuredBody element SHALL contain a component element for each section required by the particular report type. Additional sections may be present but their content will not be processed by NHSN (CONF:86-18450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1" id="a-86-18460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-18460) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.25" (CONF:86-18461).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:typeId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:typeId)=1" id="a-86-18463">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] typeId (CONF:86-18463).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@root='2.16.840.1.113883.1.3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@root='2.16.840.1.113883.1.3']" id="a-86-18464">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @root="2.16.840.1.113883.1.3" (CONF:86-18464).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@extension='POCD_HD000040']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@extension='POCD_HD000040']" id="a-86-18465">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @extension="POCD_HD000040" (CONF:86-18465).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-18466-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-18466).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']" id="a-86-18470">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] @typeCode="RPLC" replace (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-18470).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-18471-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If versionNumber/@value is greater than 1, a relatedDocument element SHALL be present (CONF:86-18471).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget) &gt; 0" id="a-86-18472-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] recordTarget (CONF:86-18472).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:author) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:author) &gt; 0" id="a-86-18473-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] author (CONF:86-18473).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-86-18475-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain at least one [1..*] component (CONF:86-18475).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem]" id="a-86-27413">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:86-27413).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[count(cda:parentDocument)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[count(cda:parentDocument)=1]" id="a-86-28401">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] parentDocument (CONF:86-28401).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument/cda:parentDocument) or cda:relatedDocument/cda:parentDocument[count(cda:id) &gt; 0]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument/cda:parentDocument) or cda:relatedDocument/cda:parentDocument[count(cda:id) &gt; 0]" id="a-86-28402">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This parentDocument SHALL contain at least one [1..*] id (CONF:86-28402).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-28403-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of id SHALL be populated with the ClinicalDocument/id of the document being replaced (CONF:86-28403).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.28'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.28'])=1" id="a-86-22431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22431) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.28" (CONF:86-22432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget)=1" id="a-86-22433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] recordTarget (CONF:86-22433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget[count(cda:patientRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget[count(cda:patientRole)=1]" id="a-86-22434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This recordTarget SHALL contain exactly one [1..1] patientRole (CONF:86-22434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:id)=1]" id="a-86-22435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain exactly one [1..1] id (CONF:86-22435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@nullFlavor='NA']" id="a-86-22436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" not applicable (CONF:86-22436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='SBJ'][@contextControlCode='OP'][count(cda:associatedEntity[@classCode='PRS'][count(cda:code[@code='389109008'])=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='SBJ'][@contextControlCode='OP'][count(cda:associatedEntity[@classCode='PRS'][count(cda:code[@code='389109008'])=1])=1])=1" id="a-86-22437">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:86-22437) such that it SHALL contain exactly one [1..1] @typeCode="SBJ" Subject (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:86-22438). SHALL contain exactly one [1..1] @contextControlCode="OP" (CodeSystem: HL7 Context Control Code urn:oid:2.16.840.1.113883.5.1057 STATIC) (CONF:86-22439). SHALL contain exactly one [1..1] associatedEntity (CONF:86-22440). This associatedEntity SHALL contain exactly one [1..1] @classCode="PRS" Person (CodeSystem: EntityClass urn:oid:2.16.840.1.113883.5.41 STATIC) (CONF:86-22441). This associatedEntity SHALL contain exactly one [1..1] code (CONF:86-22442). This code SHALL contain exactly one [1..1] @code="389109008" Group (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96 STATIC) (CONF:86-22443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='LOC'][@contextControlCode='OP'][count(cda:associatedEntity[@classCode='SDLOC'][count(cda:id[@root])=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='LOC'][@contextControlCode='OP'][count(cda:associatedEntity[@classCode='SDLOC'][count(cda:id[@root])=1])=1])=1" id="a-86-22444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:86-22444) such that it SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:86-22445). SHALL contain exactly one [1..1] @contextControlCode="OP" (CodeSystem: HL7 Context Control Code urn:oid:2.16.840.1.113883.5.1057 STATIC) (CONF:86-22446). SHALL contain exactly one [1..1] associatedEntity (CONF:86-22447). This associatedEntity SHALL contain exactly one [1..1] @classCode="SDLOC" Service delivery location (CodeSystem: RoleClass urn:oid:2.16.840.1.113883.5.110 STATIC) (CONF:86-22448). This associatedEntity SHALL contain exactly one [1..1] id (CONF:86-22449). This id SHALL contain exactly one [1..1] @root (CONF:86-22450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:documentationOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:documentationOf)=1" id="a-86-22451">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] documentationOf (CONF:86-22451).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf[count(cda:serviceEvent)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf[count(cda:serviceEvent)=1]" id="a-86-22452">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:86-22452).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[@classCode='CASE']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[@classCode='CASE']" id="a-86-22453">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] @classCode="CASE" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-22453).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3595']/voc:code/@value or @nullFlavor])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3595']/voc:code/@value or @nullFlavor])=1]" id="a-86-22454">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNPopulationSummaryReportTypeCode urn:oid:2.16.840.1.114222.4.11.3595 STATIC (CONF:86-22454).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:effectiveTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:effectiveTime)=1]" id="a-86-22456">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] effectiveTime (CONF:86-22456).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:low)=1]" id="a-86-22457">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:86-22457).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:high)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:high)=1]" id="a-86-22458">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] high (CONF:86-22458).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-86-22459-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The author SHALL represent the software forming the message (CONF:86-22459).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.2'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.2'])=1" id="a-1181-28301">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1181-28301) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.7.2" (CONF:1181-28302).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:documentationOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:documentationOf)=1" id="a-1181-22972">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] documentationOf (CONF:1181-22972).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf[count(cda:serviceEvent)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf[count(cda:serviceEvent)=1]" id="a-1181-22973">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:1181-22973).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]" id="a-1181-22974">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] code (CONF:1181-22974).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-1181-22977">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:1181-22977).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-1181-22978">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:1181-22978).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component)=1]" id="a-1181-22979">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:1181-22979).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.46'][@extension='2015-04-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.46'][@extension='2015-04-01'])=1" id="a-1181-22969">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1181-22969) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.46" (CONF:1181-2970). SHALL contain exactly one [1..1] @extension="2015-04-01" (CONF:1181-30544).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody/cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.52' and @extension = '2015-04-01']])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody/cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.52' and @extension = '2015-04-01']])=1]" id="a-1181-22980">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] Summary Data Section (ARO) (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.5.52:2015-04-01) (CONF:1181-22980).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title[translate(text(), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz')='denominator for antimicrobial resistance option (aro)'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title[translate(text(), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz')='denominator for antimicrobial resistance option (aro)'])=1" id="a-1181-22971">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title="Denominator for Antimicrobial Resistance Option (ARO)" (CONF:1181-22971).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:code[@code='2410-9']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:code[@code='2410-9']" id="a-1181-22975">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="2410-9" Summary data reporting antimicrobial resistance patterns at a facility (CONF:1181-22975).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:code[@codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:code[@codeSystem='2.16.840.1.113883.6.277']" id="a-1181-22976">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1181-22976).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M297"/>
</axsl:template>
<axsl:template mode="M297" priority="-1" match="text()"/>
<axsl:template mode="M298" priority="3999" match="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.46' and @extension = '2015-04-01']]">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.46' and @extension = '2015-04-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.46-2015-04-01-errors-CL"/>
<axsl:apply-templates mode="M298"/>
</axsl:template>
<axsl:template mode="M298" priority="-1" match="text()"/>
<axsl:template mode="M299" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.229' and @extension = '2015-04-01']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.229' and @extension = '2015-04-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.229-2015-04-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.229'][@extension='2015-04-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.229'][@extension='2015-04-01'])=1" id="a-1181-30545">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1181-30545) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.229" (CONF:1181-30551). SHALL contain exactly one [1..1] @extension="2015-04-01" (CONF:1181-30561).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1181-30546">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1181-30546).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-1181-30547">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:1181-30547).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value)=1" id="a-1181-30548">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value (CONF:1181-30548).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-1181-30549">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1181-30549).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1181-30550">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1181-30550).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-1181-30559">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:1181-30559).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="(cda:value/@xsi:type='PQ' and cda:value/@unit='d') or (cda:value/@xsi:type='INT') or (cda:value/@xsi:type='CD')"/>
<axsl:otherwise>
<failed-assert role="" test="(cda:value/@xsi:type='PQ' and cda:value/@unit='d') or (cda:value/@xsi:type='INT') or (cda:value/@xsi:type='CD')" id="a-1181-30560-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the observation reports a number of days, the value of value/xsi:type SHALL be PQ and the value of value/@unit SHALL be d. If the observation reports a number of patients, episodes or events the value of value/@xsi:type SHALL be INT. If the value is a code, the value of value/@xsi:type SHALL be CD (CONF:1181-30560).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M299"/>
</axsl:template>
<axsl:template mode="M299" priority="-1" match="text()"/>
<axsl:template mode="M300" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.229' and @extension = '2015-04-01']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.229' and @extension = '2015-04-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.229-2015-04-01-errors-CL"/>
<axsl:apply-templates mode="M300"/>
</axsl:template>
<axsl:template mode="M300" priority="-1" match="text()"/>
<axsl:template mode="M301" priority="3999" match="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.197' and @extension = '2015-04-01']]">
<fired-rule role="" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.197' and @extension = '2015-04-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.197-2015-04-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship) &gt; 0" id="a-1181-23006">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entryRelationship (CONF:1181-23006).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.197'][@extension='2015-04-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.197'][@extension='2015-04-01'])=1" id="a-1181-22997">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1181-22997) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.197" (CONF:1181-22998). SHALL contain exactly one [1..1] @extension="2015-04-01" (CONF:1181-30562).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='LOC'][count(cda:participantRole[@classCode='SDLOC'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='LOC'][count(cda:participantRole[@classCode='SDLOC'])=1])=1" id="a-1181-22999">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:1181-22999) such that it SHALL contain exactly one [1..1] participantRole (CONF:1181-23001). This participantRole SHALL contain exactly one [1..1] @classCode="SDLOC" Service Delivery Location (CodeSystem: EntityClass urn:oid:2.16.840.1.113883.5.41 STATIC) (CONF:1181-23002). SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:1181-23000).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.229' and @extension = '2015-04-01']])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.229' and @extension = '2015-04-01']])=1]" id="a-1181-23008">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such entryRelationships SHALL contain exactly one [1..1] Summary Data Observation (AU/AR) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.229:2015-04-01) (CONF:1181-23008).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='ENC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='ENC'" id="a-1181-22995">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="ENC" Encounter (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1181-22995).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1181-22996">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1181-22996).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="(cda:participant/cda:participantRole[cda:id[@root and @extension] and cda:code]) or cda:participant/cda:participantRole/cda:id[@root and not(@extension)] or (cda:participant/cda:participantRole/cda:code and cda:participant/cda:participantRole/cda:scopingEntity[@classCode='PLC'][cda:id[@root]])"/>
<axsl:otherwise>
<failed-assert role="" test="(cda:participant/cda:participantRole[cda:id[@root and @extension] and cda:code]) or cda:participant/cda:participantRole/cda:id[@root and not(@extension)] or (cda:participant/cda:participantRole/cda:code and cda:participant/cda:participantRole/cda:scopingEntity[@classCode='PLC'][cda:id[@root]])" id="a-1181-23003-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If recording data from an in-facility location, the participantRole element shall contain an id element with both @root and @extension, and a code element where the value is selected from ValueSet 2.16.840.1.113883.13.19NHSNHealthcareServiceLocationCode DYNAMIC, recording the type of location (CONF:1181-23003).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-1181-23004-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Or, if recording data from the whole facility, the participantRole element shall contain an id element with @root (CONF:1181-23004).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-1181-23005-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Or, if recording data from a specialized subset of a facility, the participantRole element shall contain a code element where the value is selected from ValueSet 2.16.840.1.113883.13.19 NHSNHealthcareServiceLocationCode DYNAMIC, recording the type of location, and a scopingEntity element where the value of @classCode is PLC and id/@root is present (CONF:1181-23005).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship[@typeCode='COMP']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship[@typeCode='COMP']" id="a-1181-23007">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such entryRelationships SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:1181-23007).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-1181-23011-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This Summary Encounter SHALL contain a Summary Data Observation (AU/AR) that records Number of Patient-present Days for the reporting location (CONF:1181-23011).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-1181-23012-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the reporting location is facility-wide inpatient units, this Summary Encounter SHALL contain a second Summary Data Observation (AU/AR) that records Number of Admissions (CONF:1181-23012).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M301"/>
</axsl:template>
<axsl:template mode="M301" priority="-1" match="text()"/>
<axsl:template mode="M302" priority="3999" match="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.197' and @extension = '2015-04-01']]">
<fired-rule role="" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.197' and @extension = '2015-04-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.197-2015-04-01-errors-CL"/>
<axsl:apply-templates mode="M302"/>
</axsl:template>
<axsl:template mode="M302" priority="-1" match="text()"/>
<axsl:template mode="M303" priority="3999" match="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.198' and @extension = '2015-04-01']]">
<fired-rule role="" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.198' and @extension = '2015-04-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.198-2015-04-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.229' and @extension = '2015-04-01']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.229' and @extension = '2015-04-01']])=1])=1" id="a-1181-23036">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entryRelationship (CONF:1181-23036) such that it SHALL contain exactly one [1..1] Summary Data Observation (AU/AR) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.229:2015-04-01) (CONF:1181-23038). SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:1181-23037).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.198'][@extension='2015-04-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.198'][@extension='2015-04-01'])=1" id="a-1181-23021">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1181-23021) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.198" (CONF:1181-23022). SHALL contain exactly one [1..1] @extension="2015-04-01" (CONF:1181-30563).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='LOC'][count(cda:participantRole[@classCode='SDLOC'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='LOC'][count(cda:participantRole[@classCode='SDLOC'])=1])=1" id="a-1181-23023">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:1181-23023) such that it SHALL contain exactly one [1..1] participantRole (CONF:1181-23025). This participantRole SHALL contain exactly one [1..1] @classCode="SDLOC" Service Delivery Location (CodeSystem: EntityClass urn:oid:2.16.840.1.113883.5.41 STATIC) (CONF:1181-23026). SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:1181-23024).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='CSM'][count(cda:participantRole[count(cda:code)=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='CSM'][count(cda:participantRole[count(cda:code)=1])=1])=1" id="a-1181-23030">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:1181-23030) such that it SHALL contain exactly one [1..1] participantRole (CONF:1181-23032). This participantRole SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNAntimicrobialAgentAURPCode urn:oid:2.16.840.1.114222.4.11.3360 DYNAMIC (CONF:1181-23034). SHALL contain exactly one [1..1] @typeCode="CSM" Consumable (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90) (CONF:1181-23031).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.194']])=1]) = (4)"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.194']])=1]) = (4)" id="a-1181-23040">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain [4..4] entryRelationship (CONF:1181-23040) such that it SHALL contain exactly one [1..1] @typeCode="COMP" (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002) (CONF:1181-23041). SHALL contain exactly one [1..1] Summary Data Observation (AUP) (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.194) (CONF:1181-23042).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='ENC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='ENC'" id="a-1181-23019">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="ENC" Encounter (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1181-23019).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1181-23020">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1181-23020).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="(cda:participant/cda:participantRole[cda:id[@root and @extension] and cda:code])  or cda:participant/cda:participantRole/cda:id[@root and not(@extension)] or (cda:participant/cda:participantRole/cda:code and cda:participant/cda:participantRole/cda:scopingEntity[@classCode='PLC'][cda:id[@root]])"/>
<axsl:otherwise>
<failed-assert role="" test="(cda:participant/cda:participantRole[cda:id[@root and @extension] and cda:code]) or cda:participant/cda:participantRole/cda:id[@root and not(@extension)] or (cda:participant/cda:participantRole/cda:code and cda:participant/cda:participantRole/cda:scopingEntity[@classCode='PLC'][cda:id[@root]])" id="a-1181-23027-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If recording data from an in-facility location, the participantRole element shall contain an id element with both @root and @extension, and a code element where the value is selected from ValueSet 2.16.840.1.113883.13.19NHSNHealthcareServiceLocationCode DYNAMIC, recording the type of location (CONF:1181-23027).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-1181-23028-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Or, if recording data from the whole facility, the participantRole element shall contain an id element with @root (CONF:1181-23028).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-1181-23029-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Or, if recording data from a specialized subset of a facility, the participantRole element shall contain a code element where the value is selected from ValueSet 2.16.840.1.113883.13.19 NHSNHealthcareServiceLocationCode DYNAMIC, recording the type of location, and a scopingEntity element where the value of @classCode is PLC and id/@root is present (CONF:1181-23029).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-1181-23039-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This Summary Data Observation (AU/AR) records Number of Therapy Days for the antimicrobial (this is not a simple total of the stratified data; consult the NHSN protocol for the calculation) (CONF:1181-23039).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-1181-23043-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>These Summary Data Observation (AUP) elements record Number of Therapy Days for the antimicrobial stratified by route of actual administration (four observations, one for each route) (CONF:1181-23043).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M303"/>
</axsl:template>
<axsl:template mode="M303" priority="-1" match="text()"/>
<axsl:template mode="M304" priority="3999" match="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.198' and @extension = '2015-04-01']]">
<fired-rule role="" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.198' and @extension = '2015-04-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.198-2015-04-01-errors-CL"/>
<axsl:apply-templates mode="M304"/>
</axsl:template>
<axsl:template mode="M304" priority="-1" match="text()"/>
<axsl:template mode="M305" priority="3999" match="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.199' and @extension = '2015-04-01']]">
<fired-rule role="" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.199' and @extension = '2015-04-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.199-2015-04-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship) &gt; 0" id="a-1181-23092">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entryRelationship (CONF:1181-23092).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.199'][@extension='2015-04-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.199'][@extension='2015-04-01'])=1" id="a-1181-23079">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1181-23079) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.199" (CONF:1181-23080). SHALL contain exactly one [1..1] @extension="2015-04-01" (CONF:1181-30564).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='LOC'][count(cda:participantRole[@classCode='SDLOC'][count(cda:id[@root][@extension='FACWIDEIN'])=1][count(cda:code[@code='1250-0'][@codeSystem='2.16.840.1.113883.6.259'])=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='LOC'][count(cda:participantRole[@classCode='SDLOC'][count(cda:id[@root][@extension='FACWIDEIN'])=1][count(cda:code[@code='1250-0'][@codeSystem='2.16.840.1.113883.6.259'])=1])=1])=1" id="a-1181-23081">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:1181-23081) such that it SHALL contain exactly one [1..1] participantRole (CONF:1181-23083). This participantRole SHALL contain exactly one [1..1] id (CONF:1181-23085). This id SHALL contain exactly one [1..1] @root (CONF:1181-23086). This id SHALL contain exactly one [1..1] @extension="FACWIDEIN" (CONF:1181-23087). This participantRole SHALL contain exactly one [1..1] code (CodeSystem: HL7 HealthcareServiceLocation urn:oid:2.16.840.1.113883.6.259 DYNAMIC) (CONF:1181-23088). This code SHALL contain exactly one [1..1] @code="1250-0" (CONF:1181-23089). This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.259" (CONF:1181-23090). This participantRole SHALL contain exactly one [1..1] @classCode="SDLOC" Service Delivery Location (CodeSystem: EntityClass urn:oid:2.16.840.1.113883.5.41 STATIC) (CONF:1181-23084). SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:1181-23082).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.229' and @extension = '2015-04-01']])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.229' and @extension = '2015-04-01']])=1]" id="a-1181-23094">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such entryRelationships SHALL contain exactly one [1..1] Summary Data Observation (AU/AR) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.229:2015-04-01) (CONF:1181-23094).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='ENC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='ENC'" id="a-1181-23077">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="ENC" Encounter (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1181-23077).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1181-23078">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1181-23078).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship[@typeCode='COMP']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship[@typeCode='COMP']" id="a-1181-23093">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such entryRelationships SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:1181-23093).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M305"/>
</axsl:template>
<axsl:template mode="M305" priority="-1" match="text()"/>
<axsl:template mode="M306" priority="3999" match="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.199' and @extension = '2015-04-01']]">
<fired-rule role="" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.199' and @extension = '2015-04-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.199-2015-04-01-errors-CL"/>
<axsl:apply-templates mode="M306"/>
</axsl:template>
<axsl:template mode="M306" priority="-1" match="text()"/>
<axsl:template mode="M307" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.51' and @extension = '2015-04-01']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.51' and @extension = '2015-04-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.51-2015-04-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-86-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1 STATIC) (CONF:86-21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-86-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:86-21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-86-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:86-21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-86-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:86-21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.197' and @extension = '2015-04-01']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.197' and @extension = '2015-04-01']])=1])=1" id="a-1181-23017">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:1181-23017) such that it SHALL contain exactly one [1..1] Summary Encounter Patient Presence (AUP) (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.197:2015-04-01) (CONF:1181-23018).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.51'][@extension='2015-04-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.51'][@extension='2015-04-01'])=1" id="a-1181-23013">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1181-23013) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.51" (CONF:1181-23014). SHALL contain exactly one [1..1] @extension="2015-04-01" (CONF:1181-30565).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1181-23015">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1181-23015).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.198' and @extension = '2015-04-01']])=1]) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.198' and @extension = '2015-04-01']])=1]) &gt; 0" id="a-1181-23046">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:1181-23046) such that it SHALL contain exactly one [1..1] Summary Encounter (AUP) (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.198:2015-04-01) (CONF:1181-23047).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51900-9']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51900-9']" id="a-1181-23016">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51900-9" Summary Data Section (CONF:1181-23016).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']" id="a-1181-28367">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:1181-28367).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M307"/>
</axsl:template>
<axsl:template mode="M307" priority="-1" match="text()"/>
<axsl:template mode="M308" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.51' and @extension = '2015-04-01']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.51' and @extension = '2015-04-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.51-2015-04-01-errors-CL"/>
<axsl:apply-templates mode="M308"/>
</axsl:template>
<axsl:template mode="M308" priority="-1" match="text()"/>
<axsl:template mode="M309" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.52' and @extension = '2015-04-01']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.52' and @extension = '2015-04-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.52-2015-04-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-86-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1 STATIC) (CONF:86-21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-86-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:86-21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-86-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:86-21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-86-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:86-21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-1181-23074">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:1181-23074).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.52'][@extension='2015-04-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.52'][@extension='2015-04-01'])=1" id="a-1181-23070">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1181-23070) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.52" (CONF:1181-23071). SHALL contain exactly one [1..1] @extension="2015-04-01" (CONF:1181-30566).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1181-23072">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1181-23072).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entry[count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.199' and @extension = '2015-04-01']])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entry[count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.199' and @extension = '2015-04-01']])=1]" id="a-1181-23075">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such entries SHALL contain exactly one [1..1] Summary Encounter (ARO) (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.199:2015-04-01) (CONF:1181-23075).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51900-9']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51900-9']" id="a-1181-23073">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51900-9" Summary Data Section (CONF:1181-23073).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']" id="a-1181-28366">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:1181-28366).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M309"/>
</axsl:template>
<axsl:template mode="M309" priority="-1" match="text()"/>
<axsl:template mode="M310" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.52' and @extension = '2015-04-01']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.52' and @extension = '2015-04-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.52-2015-04-01-errors-CL"/>
<axsl:apply-templates mode="M310"/>
</axsl:template>
<axsl:template mode="M310" priority="-1" match="text()"/>
<axsl:template mode="M311" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.231' and @extension = '2015-10-01']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.231' and @extension = '2015-10-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.231-2015-10-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.231'][@extension='2015-10-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.231'][@extension='2015-10-01'])=1" id="a-1202-1">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1202-1) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.231" (CONF:1202-6). SHALL contain exactly one [1..1] @extension="2015-10-01" (CONF:1202-7).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1202-2">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1202-2).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-1202-3">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:1202-3).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-1202-4">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:1202-4).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1202-5">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:1202-5).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION']" id="a-1202-8">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:1202-8).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']" id="a-1202-9">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:1202-9).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@code='2334-1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@code='2334-1']" id="a-1202-10">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="2334-1" Patient's dialyzer is reused (CONF:1202-10).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']" id="a-1202-11">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1202-11).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-1202-12">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:1202-12).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-1202-13">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:1202-13).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-1202-30547">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:1202-30547).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M311"/>
</axsl:template>
<axsl:template mode="M311" priority="-1" match="text()"/>
<axsl:template mode="M312" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.231' and @extension = '2015-10-01']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.231' and @extension = '2015-10-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.231-2015-10-01-errors-CL"/>
<axsl:apply-templates mode="M312"/>
</axsl:template>
<axsl:template mode="M312" priority="-1" match="text()"/>
<axsl:template mode="M313" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.37' and @extension = '2015-10-01']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.37' and @extension = '2015-10-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.37-2015-10-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-86-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1 STATIC) (CONF:86-21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-86-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:86-21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-86-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:86-21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-86-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:86-21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.125']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.125']])=1])=1" id="a-1202-22306">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:1202-22306) such that it SHALL contain exactly one [1..1] Dialysis Patient Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.125) (CONF:1202-22307).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.37'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.37'])=1" id="a-1202-22302">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1202-22302) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.37" (CONF:1202-22303).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1202-22304">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1202-22304).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.172']])=1]) = (6)"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.172']])=1]) = (6)" id="a-1202-22308">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain [6..6] entry (CONF:1202-22308) such that it SHALL contain exactly one [1..1] Vascular Access Type Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.172) (CONF:1202-22309).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51898-5']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51898-5']" id="a-1202-22305">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51898-5" Risk Factors Section (CONF:1202-22305).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']" id="a-1202-28364">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:1202-28364).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.231' and @extension = '2015-10-01']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.231' and @extension = '2015-10-01']])=1])=1" id="a-1202-28365">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:1202-28365) such that it SHALL contain exactly one [1..1] Dialyzer Reused Observation (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.231:2015-10-01) (CONF:1202-28366).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M313"/>
</axsl:template>
<axsl:template mode="M313" priority="-1" match="text()"/>
<axsl:template mode="M314" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.37' and @extension = '2015-10-01']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.37' and @extension = '2015-10-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.37-2015-10-01-errors-CL"/>
<axsl:apply-templates mode="M314"/>
</axsl:template>
<axsl:template mode="M314" priority="-1" match="text()"/>
<axsl:template mode="M315" priority="3999" match="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.37' and @extension = '2015-10-01']]">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.37' and @extension = '2015-10-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.37-2015-10-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:realmCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:realmCode)=1" id="a-86-18431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] realmCode (CONF:86-18431).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:realmCode[count(self::node()[@code='US'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:realmCode[count(self::node()[@code='US'])=1]" id="a-86-18432">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This realmCode SHALL contain exactly one [1..1] @code="US" (CONF:86-18432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-18433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-18433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51897-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51897-7']" id="a-86-18434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51897-7" Healthcare Associated Infection Report (CONF:86-18434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-18435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-18435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-86-18436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:86-18436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:confidentialityCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:confidentialityCode)=1" id="a-86-18437-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] confidentialityCode (CONF:86-18437).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:confidentialityCode[count(self::node()[@code='N'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:confidentialityCode[count(self::node()[@code='N'])=1]" id="a-86-18438">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This confidentialityCode SHALL contain exactly one [1..1] @code="N" Normal (CodeSystem: ConfidentialityCode urn:oid:2.16.840.1.113883.5.25 STATIC) (CONF:86-18438).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:languageCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:languageCode)=1" id="a-86-18439">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] languageCode (CONF:86-18439).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:languageCode[@code='en-US']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:languageCode[@code='en-US']" id="a-86-18440">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This languageCode SHALL contain exactly one [1..1] @code="en-US" (CONF:86-18440).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:setId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:setId)=1" id="a-86-18441">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] setId (CONF:86-18441).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:versionNumber)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:versionNumber)=1" id="a-86-18442">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] versionNumber (CONF:86-18442).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:custodian)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:custodian)=1" id="a-86-18443">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] custodian (CONF:86-18443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian[count(cda:assignedCustodian)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian[count(cda:assignedCustodian)=1]" id="a-86-18444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This custodian SHALL contain exactly one [1..1] assignedCustodian (CONF:86-18444).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]" id="a-86-18445">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedCustodian SHALL contain exactly one [1..1] representedCustodianOrganization (CONF:86-18445).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]" id="a-86-18446">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This representedCustodianOrganization SHALL contain exactly one [1..1] id (CONF:86-18446).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']" id="a-86-18447">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root="2.16.840.1.114222.4.3.2.11" (CONF:86-18447).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-86-18448">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:86-18448).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-86-18449">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:86-18449).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-18450-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The structuredBody element SHALL contain a component element for each section required by the particular report type. Additional sections may be present but their content will not be processed by NHSN (CONF:86-18450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1" id="a-86-18460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-18460) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.25" (CONF:86-18461).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:typeId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:typeId)=1" id="a-86-18463">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] typeId (CONF:86-18463).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@root='2.16.840.1.113883.1.3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@root='2.16.840.1.113883.1.3']" id="a-86-18464">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @root="2.16.840.1.113883.1.3" (CONF:86-18464).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@extension='POCD_HD000040']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@extension='POCD_HD000040']" id="a-86-18465">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @extension="POCD_HD000040" (CONF:86-18465).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-18466-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-18466).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']" id="a-86-18470">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] @typeCode="RPLC" replace (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-18470).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-18471-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If versionNumber/@value is greater than 1, a relatedDocument element SHALL be present (CONF:86-18471).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget) &gt; 0" id="a-86-18472-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] recordTarget (CONF:86-18472).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:author) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:author) &gt; 0" id="a-86-18473-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] author (CONF:86-18473).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-86-18475-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain at least one [1..*] component (CONF:86-18475).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem]" id="a-86-27413">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:86-27413).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[count(cda:parentDocument)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[count(cda:parentDocument)=1]" id="a-86-28401">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] parentDocument (CONF:86-28401).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument/cda:parentDocument) or cda:relatedDocument/cda:parentDocument[count(cda:id) &gt; 0]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument/cda:parentDocument) or cda:relatedDocument/cda:parentDocument[count(cda:id) &gt; 0]" id="a-86-28402">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This parentDocument SHALL contain at least one [1..*] id (CONF:86-28402).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-28403-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of id SHALL be populated with the ClinicalDocument/id of the document being replaced (CONF:86-28403).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27'])=1" id="a-86-22415">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22415) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.27" (CONF:86-22416).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget)=1" id="a-86-22417">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] recordTarget (CONF:86-22417).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget[count(cda:patientRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget[count(cda:patientRole)=1]" id="a-86-22418">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This recordTarget SHALL contain exactly one [1..1] patientRole (CONF:86-22418).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:id) &gt; 0]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:id) &gt; 0]" id="a-86-22419">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain at least one [1..*] id (CONF:86-22419).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@root]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@root]" id="a-86-22420">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @root (CONF:86-22420).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@extension]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@extension]" id="a-86-22421">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @extension (CONF:86-22421).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:patient)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:patient)=1]" id="a-86-22422">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain exactly one [1..1] patient (CONF:86-22422).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:administrativeGenderCode)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:administrativeGenderCode)=1]" id="a-86-22424">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patient SHALL contain exactly one [1..1] administrativeGenderCode (CONF:86-22424).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient/cda:administrativeGenderCode[@code and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.1.11.1']/voc:code/@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient/cda:administrativeGenderCode[@code and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.1.11.1']/voc:code/@value]" id="a-86-22425">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This administrativeGenderCode SHALL contain exactly one [1..1] @code, which SHALL be selected from ValueSet Administrative Gender (HL7 V3) urn:oid:2.16.840.1.113883.1.11.1 STATIC (CONF:86-22425).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:birthTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:birthTime)=1]" id="a-86-22426">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patient SHALL contain exactly one [1..1] birthTime (CONF:86-22426).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient/cda:birthTime[@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient/cda:birthTime[@value]" id="a-86-22427">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This birthTime SHALL contain exactly one [1..1] @value (CONF:86-22427).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.3.1'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.3.1'])=1" id="a-1202-30545">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1202-30545) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.7.3.1" (CONF:1202-30546).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:componentOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:componentOf)=1" id="a-1202-22575">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] componentOf (CONF:1202-22575).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf[count(cda:encompassingEncounter)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf[count(cda:encompassingEncounter)=1]" id="a-1202-22576">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This componentOf SHALL contain exactly one [1..1] encompassingEncounter (CONF:1202-22576).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter[count(cda:code)=1]" id="a-1202-22577">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This encompassingEncounter SHALL contain exactly one [1..1] code (CONF:1202-22577).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter[count(cda:effectiveTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter[count(cda:effectiveTime)=1]" id="a-1202-22579">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This encompassingEncounter SHALL contain exactly one [1..1] effectiveTime (CONF:1202-22579).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime[count(cda:low)=1]" id="a-1202-22580">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:1202-22580).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]" id="a-1202-22582">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This encompassingEncounter SHALL contain exactly one [1..1] location (CONF:1202-22582).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]" id="a-1202-22583">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This location SHALL contain exactly one [1..1] healthCareFacility (CONF:1202-22583).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]" id="a-1202-22584">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This healthCareFacility SHALL contain exactly one [1..1] id (CONF:1202-22584).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-1202-22589">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:1202-22589).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-1202-22590">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:1202-22590).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.37' and @extension = '2015-10-01']])=1])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.37' and @extension = '2015-10-01']])=1])=1]" id="a-1202-22591">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:1202-22591) such that it SHALL contain exactly one [1..1] Risk Factors Section in an Evidence of Infection (Dialysis) Report (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.5.37:2015-10-01) (CONF:1202-22592).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.41' and @extension = '2015-10-01']])=1])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.41' and @extension = '2015-10-01']])=1])=1]" id="a-1202-22593">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:1202-22593) such that it SHALL contain exactly one [1..1] Details Section in an Evidence of Infection (Dialysis) Report (V4) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.5.41:2015-10-01) (CONF:1202-30253).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.37'][@extension='2015-10-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.37'][@extension='2015-10-01'])=1" id="a-1202-22573">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1202-22573) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.37" (CONF:1202-30254). SHALL contain exactly one [1..1] @extension="2015-10-01" (CONF:1202-30285).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:code[@code='AMB' and @codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:code[@code='AMB' and @codeSystem='2.16.840.1.113883.5.4']" id="a-1202-22578">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="AMB" Ambulatory (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4 STATIC) (CONF:1202-22578).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:low[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:low[@nullFlavor='NA']" id="a-1202-22581">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This low SHALL contain exactly one [1..1] @nullFlavor="NA" (CodeSystem: HL7NullFlavor urn:oid:2.16.840.1.113883.5.1008 STATIC) (CONF:1202-22581).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]" id="a-1202-22585">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root (CONF:1202-22585).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@extension]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@extension]" id="a-1202-22586">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @extension (CONF:1202-22586).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:code)=1]" id="a-1202-22587">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This healthCareFacility SHALL contain exactly one [1..1] code (ValueSet: NHSNHealthcareServiceLocationCode urn:oid:2.16.840.1.113883.13.19 DYNAMIC) (CONF:1202-22587).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-1202-23304-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If a positive blood culture was obtained SHALL contain a component containing a Findings Section in an Infection-type Report (CONF:1202-23304).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M315"/>
</axsl:template>
<axsl:template mode="M315" priority="-1" match="text()"/>
<axsl:template mode="M316" priority="3999" match="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.37' and @extension = '2015-10-01']]">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.37' and @extension = '2015-10-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.37-2015-10-01-errors-CL"/>
<axsl:apply-templates mode="M316"/>
</axsl:template>
<axsl:template mode="M316" priority="-1" match="text()"/>
<axsl:template mode="M317" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.230' and @extension = '2015-10-01']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.230' and @extension = '2015-10-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.230-2015-10-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.230'][@extension='2015-10-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.230'][@extension='2015-10-01'])=1" id="a-1202-30548">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1202-30548) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.230" (CONF:1202-30552). SHALL contain exactly one [1..1] @extension="2015-10-01" (CONF:1202-30553).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1202-30549">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1202-30549).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-1202-30550">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:1202-30550).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-1202-30551">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:1202-30551).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='2335-8']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='2335-8']" id="a-1202-30554">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="2335-8" New outpatient start or continuation of inpatient course (CONF:1202-30554).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.6.277']" id="a-1202-30555">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1202-30555).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@code and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.7338']/voc:code/@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@code and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.7338']/voc:code/@value]" id="a-1202-30556">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code, which SHALL be selected from ValueSet NHSNStartOrContinuation urn:oid:2.16.840.1.114222.4.11.7338 STATIC 2015-06-01 (CONF:1202-30556).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-1202-30558">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:1202-30558).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1202-30559">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:1202-30559).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-1202-30560">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:1202-30560).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M317"/>
</axsl:template>
<axsl:template mode="M317" priority="-1" match="text()"/>
<axsl:template mode="M318" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.230' and @extension = '2015-10-01']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.230' and @extension = '2015-10-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.230-2015-10-01-errors-CL"/>
<axsl:apply-templates mode="M318"/>
</axsl:template>
<axsl:template mode="M318" priority="-1" match="text()"/>
<axsl:template mode="M319" priority="3999" match="cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.140' and @extension = '2015-10-01']]">
<fired-rule role="" context="cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.140' and @extension = '2015-10-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.140-2015-10-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1202-21174">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1202-21174).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:consumable)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:consumable)=1" id="a-1202-21176">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] consumable (CONF:1202-21176).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:consumable[count(cda:manufacturedProduct)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:consumable[count(cda:manufacturedProduct)=1]" id="a-1202-21177">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This consumable SHALL contain exactly one [1..1] manufacturedProduct (CONF:1202-21177).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:consumable/cda:manufacturedProduct[count(cda:manufacturedMaterial)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:consumable/cda:manufacturedProduct[count(cda:manufacturedMaterial)=1]" id="a-1202-21178">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This manufacturedProduct SHALL contain exactly one [1..1] manufacturedMaterial (CONF:1202-21178).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial[count(cda:code)=1]" id="a-1202-21179">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This manufacturedMaterial SHALL contain exactly one [1..1] code (CONF:1202-21179).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:consumable/cda:manufacturedProduct[count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.23'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:consumable/cda:manufacturedProduct[count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.23'])=1]" id="a-1202-28338">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This manufacturedProduct SHALL contain exactly one [1..1] templateId (CONF:1202-28338) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.23" (CONF:1202-28339).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.16'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.16'])=1" id="a-1202-28253">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1202-28253) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.16" (CONF:1202-28254).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-1202-21428">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:1202-21428).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-1202-21429">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:1202-21429).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime[@xsi:type='IVL_TS'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime[@xsi:type='IVL_TS'])=1" id="a-1202-21496">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:1202-21496).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@xsi:type='IVL_TS'][count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@xsi:type='IVL_TS'][count(cda:low)=1]" id="a-1202-21497">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:1202-21497).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@xsi:type='IVL_TS'][count(cda:high)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@xsi:type='IVL_TS'][count(cda:high)=1]" id="a-1202-21498">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] high (CONF:1202-21498).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.140'][@extension='2015-10-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.140'][@extension='2015-10-01'])=1" id="a-1202-21426">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1202-21426) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.140" (CONF:1202-21427). SHALL contain exactly one [1..1] @extension="2015-10-01" (CONF:1202-30564).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='SBADM'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='SBADM'" id="a-1202-21171">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="SBADM" Substance Administration (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1202-21171).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1202-21172">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1202-21172).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-1202-21173">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:1202-21173).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='281790008']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='281790008']" id="a-1202-21175">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="281790008" Intravenous antibiotic therapy (CONF:1202-21175).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.6.96']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.6.96']" id="a-1202-28187">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.96" (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96) (CONF:1202-28187).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37']) or (/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37'] and cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial/cda:code[(@code='11124' and @codeSystem='2.16.840.1.113883.6.88')  or @nullFlavor='NI'])"/>
<axsl:otherwise>
<failed-assert role="" test="not(/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37']) or (/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37'] and cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial/cda:code[(@code='11124' and @codeSystem='2.16.840.1.113883.6.88') or @nullFlavor='NI'])" id="a-1202-21180-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>In an Evidence of Infection (Dialysis) Report, if the antimicrobial started was Vancomycin, the value of @code SHALL be '11124' Vancomycin [[]CodeSystem: 2.16.840.1.113883.6.88 RxNorm]. Otherwise, the value of @nullFlavor SHALL be 'NI' (CONF:1202-21180).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:consumable/cda:manufacturedProduct[@classCode='MANU']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:consumable/cda:manufacturedProduct[@classCode='MANU']" id="a-1202-28348">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This manufacturedProduct SHALL contain exactly one [1..1] @classCode="MANU" (CodeSystem: RoleClass urn:oid:2.16.840.1.113883.5.110) (CONF:1202-28348).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-1202-22766">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1202-22766).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-1202-28109">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:1202-28109).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@xsi:type='IVL_TS']/cda:low[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@xsi:type='IVL_TS']/cda:low[@nullFlavor='NA']" id="a-1202-22767">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This low SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1202-22767).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@xsi:type='IVL_TS']/cda:high[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@xsi:type='IVL_TS']/cda:high[@nullFlavor='NA']" id="a-1202-22768">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This high SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1202-22768).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M319"/>
</axsl:template>
<axsl:template mode="M319" priority="-1" match="text()"/>
<axsl:template mode="M320" priority="3999" match="cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.140' and @extension = '2015-10-01']]">
<fired-rule role="" context="cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.140' and @extension = '2015-10-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.140-2015-10-01-errors-CL"/>
<axsl:apply-templates mode="M320"/>
</axsl:template>
<axsl:template mode="M320" priority="-1" match="text()"/>
<axsl:template mode="M321" priority="3999" match="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.181' and @extension = '2015-10-01']]">
<fired-rule role="" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.181' and @extension = '2015-10-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.181-2015-10-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:component[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.157']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.157']])=1])=1" id="a-1202-22231">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:1202-22231) such that it SHALL contain exactly one [1..1] Pus, Redness, or Increased Swelling Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.157) (CONF:1202-22232).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.181'][@extension='2015-10-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.181'][@extension='2015-10-01'])=1" id="a-1202-22224">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1202-22224) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.181" (CONF:1202-22225). SHALL contain exactly one [1..1] @extension="2015-10-01" (CONF:1202-30287).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-1202-22226">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:1202-22226).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-1202-22227">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:1202-22227).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-1202-22229">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:1202-22229).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component[count(cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.140' and @extension = '2015-10-01']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component[count(cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.140' and @extension = '2015-10-01']])=1])=1" id="a-1202-22233">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:1202-22233) such that it SHALL contain exactly one [1..1] IV Antibiotic Start Clinical Statement (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.140:2015-10-01) (CONF:1202-22234).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component[count(cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.141']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component[count(cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.141']])=1])=1" id="a-1202-22235">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:1202-22235) such that it SHALL contain exactly one [1..1] IV Antifungal Start Clinical Statement (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.141) (CONF:1202-22236).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.149' and @extension = '2014-12-01']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.149' and @extension = '2014-12-01']])=1])=1" id="a-1202-22237">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:1202-22237) such that it SHALL contain exactly one [1..1] Positive Blood Culture Observation (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.149:2014-12-01) (CONF:1202-30429).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-1202-22771">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1202-22771).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-1202-22228">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:1202-22228).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[count(cda:low)=1]" id="a-1202-22230">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:1202-22230).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='CLUSTER'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='CLUSTER'" id="a-1202-22222">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="CLUSTER" Cluster (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1202-22222).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1202-22223">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1202-22223).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M321"/>
</axsl:template>
<axsl:template mode="M321" priority="-1" match="text()"/>
<axsl:template mode="M322" priority="3999" match="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.181' and @extension = '2015-10-01']]">
<fired-rule role="" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.181' and @extension = '2015-10-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.181-2015-10-01-errors-CL"/>
<axsl:apply-templates mode="M322"/>
</axsl:template>
<axsl:template mode="M322" priority="-1" match="text()"/>
<axsl:template mode="M323" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.41' and @extension = '2015-10-01']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.41' and @extension = '2015-10-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.41-2015-10-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-86-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1 STATIC) (CONF:86-21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-86-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:86-21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-86-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:86-21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-86-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:86-21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.181' and @extension = '2015-10-01']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.181' and @extension = '2015-10-01']])=1])=1" id="a-1202-22342">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:1202-22342) such that it SHALL contain exactly one [1..1] Infection Indicator Organizer (V3) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.181:2015-10-01) (CONF:1202-30428).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.41'][@extension='2015-10-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.41'][@extension='2015-10-01'])=1" id="a-1202-22338">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1202-22338) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.41" (CONF:1202-30224). SHALL contain exactly one [1..1] @extension="2015-10-01" (CONF:1202-30282).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1202-22340">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1202-22340).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.180']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.180']])=1])=1" id="a-1202-22344">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:1202-22344) such that it SHALL contain exactly one [1..1] Criteria of Diagnosis Organizer (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.180) (CONF:1202-22345).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.133']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.133']])=1])=1" id="a-1202-22346">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:1202-22346) such that it SHALL contain exactly one [1..1] Hospital Admission Clinical Statement (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.133) (CONF:1202-22347).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.121']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.121']])=1])=1" id="a-1202-22348">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:1202-22348) such that it SHALL contain exactly one [1..1] Death Observation in an Evidence of Infection (Dialysis) Report (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.121) (CONF:1202-22349).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.124']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.124']])=1])=1" id="a-1202-22350">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:1202-22350) such that it SHALL contain exactly one [1..1] Dialysis Clinic Admission Clinical Statement (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.124) (CONF:1202-22351).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.203']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.203']])=1])=1" id="a-1202-30222">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:1202-30222) such that it SHALL contain exactly one [1..1] Loss of Vascular Access Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.203) (CONF:1202-30223).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51899-3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51899-3']" id="a-1202-22341">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51899-3" Details Section (CONF:1202-22341).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']" id="a-1202-30598">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:1202-30598).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M323"/>
</axsl:template>
<axsl:template mode="M323" priority="-1" match="text()"/>
<axsl:template mode="M324" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.41' and @extension = '2015-10-01']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.41' and @extension = '2015-10-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.41-2015-10-01-errors-CL"/>
<axsl:apply-templates mode="M324"/>
</axsl:template>
<axsl:template mode="M324" priority="-1" match="text()"/>
<axsl:template mode="M325" priority="3999" match="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.49' and @extension = '2015-10-01']]">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.49' and @extension = '2015-10-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.49-2015-10-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:realmCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:realmCode)=1" id="a-86-18431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] realmCode (CONF:86-18431).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:realmCode[count(self::node()[@code='US'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:realmCode[count(self::node()[@code='US'])=1]" id="a-86-18432">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This realmCode SHALL contain exactly one [1..1] @code="US" (CONF:86-18432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-18433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-18433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51897-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51897-7']" id="a-86-18434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51897-7" Healthcare Associated Infection Report (CONF:86-18434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-18435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-18435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-86-18436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:86-18436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:confidentialityCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:confidentialityCode)=1" id="a-86-18437-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] confidentialityCode (CONF:86-18437).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:confidentialityCode[count(self::node()[@code='N'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:confidentialityCode[count(self::node()[@code='N'])=1]" id="a-86-18438">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This confidentialityCode SHALL contain exactly one [1..1] @code="N" Normal (CodeSystem: ConfidentialityCode urn:oid:2.16.840.1.113883.5.25 STATIC) (CONF:86-18438).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:languageCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:languageCode)=1" id="a-86-18439">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] languageCode (CONF:86-18439).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:languageCode[@code='en-US']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:languageCode[@code='en-US']" id="a-86-18440">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This languageCode SHALL contain exactly one [1..1] @code="en-US" (CONF:86-18440).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:setId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:setId)=1" id="a-86-18441">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] setId (CONF:86-18441).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:versionNumber)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:versionNumber)=1" id="a-86-18442">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] versionNumber (CONF:86-18442).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:custodian)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:custodian)=1" id="a-86-18443">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] custodian (CONF:86-18443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian[count(cda:assignedCustodian)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian[count(cda:assignedCustodian)=1]" id="a-86-18444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This custodian SHALL contain exactly one [1..1] assignedCustodian (CONF:86-18444).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]" id="a-86-18445">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedCustodian SHALL contain exactly one [1..1] representedCustodianOrganization (CONF:86-18445).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]" id="a-86-18446">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This representedCustodianOrganization SHALL contain exactly one [1..1] id (CONF:86-18446).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']" id="a-86-18447">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root="2.16.840.1.114222.4.3.2.11" (CONF:86-18447).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-86-18448">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:86-18448).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-86-18449">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:86-18449).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-18450-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The structuredBody element SHALL contain a component element for each section required by the particular report type. Additional sections may be present but their content will not be processed by NHSN (CONF:86-18450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1" id="a-86-18460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-18460) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.25" (CONF:86-18461).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:typeId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:typeId)=1" id="a-86-18463">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] typeId (CONF:86-18463).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@root='2.16.840.1.113883.1.3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@root='2.16.840.1.113883.1.3']" id="a-86-18464">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @root="2.16.840.1.113883.1.3" (CONF:86-18464).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@extension='POCD_HD000040']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@extension='POCD_HD000040']" id="a-86-18465">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @extension="POCD_HD000040" (CONF:86-18465).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-18466-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-18466).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']" id="a-86-18470">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] @typeCode="RPLC" replace (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-18470).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-18471-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If versionNumber/@value is greater than 1, a relatedDocument element SHALL be present (CONF:86-18471).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget) &gt; 0" id="a-86-18472-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] recordTarget (CONF:86-18472).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:author) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:author) &gt; 0" id="a-86-18473-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] author (CONF:86-18473).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-86-18475-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain at least one [1..*] component (CONF:86-18475).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem]" id="a-86-27413">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:86-27413).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[count(cda:parentDocument)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[count(cda:parentDocument)=1]" id="a-86-28401">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] parentDocument (CONF:86-28401).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument/cda:parentDocument) or cda:relatedDocument/cda:parentDocument[count(cda:id) &gt; 0]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument/cda:parentDocument) or cda:relatedDocument/cda:parentDocument[count(cda:id) &gt; 0]" id="a-86-28402">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This parentDocument SHALL contain at least one [1..*] id (CONF:86-28402).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-28403-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of id SHALL be populated with the ClinicalDocument/id of the document being replaced (CONF:86-28403).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.28'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.28'])=1" id="a-86-22431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22431) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.28" (CONF:86-22432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget)=1" id="a-86-22433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] recordTarget (CONF:86-22433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget[count(cda:patientRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget[count(cda:patientRole)=1]" id="a-86-22434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This recordTarget SHALL contain exactly one [1..1] patientRole (CONF:86-22434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:id)=1]" id="a-86-22435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain exactly one [1..1] id (CONF:86-22435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@nullFlavor='NA']" id="a-86-22436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" not applicable (CONF:86-22436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='SBJ'][@contextControlCode='OP'][count(cda:associatedEntity[@classCode='PRS'][count(cda:code[@code='389109008'])=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='SBJ'][@contextControlCode='OP'][count(cda:associatedEntity[@classCode='PRS'][count(cda:code[@code='389109008'])=1])=1])=1" id="a-86-22437">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:86-22437) such that it SHALL contain exactly one [1..1] @typeCode="SBJ" Subject (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:86-22438). SHALL contain exactly one [1..1] @contextControlCode="OP" (CodeSystem: HL7 Context Control Code urn:oid:2.16.840.1.113883.5.1057 STATIC) (CONF:86-22439). SHALL contain exactly one [1..1] associatedEntity (CONF:86-22440). This associatedEntity SHALL contain exactly one [1..1] @classCode="PRS" Person (CodeSystem: EntityClass urn:oid:2.16.840.1.113883.5.41 STATIC) (CONF:86-22441). This associatedEntity SHALL contain exactly one [1..1] code (CONF:86-22442). This code SHALL contain exactly one [1..1] @code="389109008" Group (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96 STATIC) (CONF:86-22443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='LOC'][@contextControlCode='OP'][count(cda:associatedEntity[@classCode='SDLOC'][count(cda:id[@root])=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='LOC'][@contextControlCode='OP'][count(cda:associatedEntity[@classCode='SDLOC'][count(cda:id[@root])=1])=1])=1" id="a-86-22444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:86-22444) such that it SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:86-22445). SHALL contain exactly one [1..1] @contextControlCode="OP" (CodeSystem: HL7 Context Control Code urn:oid:2.16.840.1.113883.5.1057 STATIC) (CONF:86-22446). SHALL contain exactly one [1..1] associatedEntity (CONF:86-22447). This associatedEntity SHALL contain exactly one [1..1] @classCode="SDLOC" Service delivery location (CodeSystem: RoleClass urn:oid:2.16.840.1.113883.5.110 STATIC) (CONF:86-22448). This associatedEntity SHALL contain exactly one [1..1] id (CONF:86-22449). This id SHALL contain exactly one [1..1] @root (CONF:86-22450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:documentationOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:documentationOf)=1" id="a-86-22451">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] documentationOf (CONF:86-22451).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf[count(cda:serviceEvent)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf[count(cda:serviceEvent)=1]" id="a-86-22452">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:86-22452).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[@classCode='CASE']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[@classCode='CASE']" id="a-86-22453">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] @classCode="CASE" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-22453).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3595']/voc:code/@value or @nullFlavor])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3595']/voc:code/@value or @nullFlavor])=1]" id="a-86-22454">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNPopulationSummaryReportTypeCode urn:oid:2.16.840.1.114222.4.11.3595 STATIC (CONF:86-22454).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:effectiveTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:effectiveTime)=1]" id="a-86-22456">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] effectiveTime (CONF:86-22456).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:low)=1]" id="a-86-22457">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:86-22457).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:high)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:high)=1]" id="a-86-22458">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] high (CONF:86-22458).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-86-22459-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The author SHALL represent the software forming the message (CONF:86-22459).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.3.1'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.3.1'])=1" id="a-1202-30599">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1202-30599) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.7.3.1" (CONF:1202-30608).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:documentationOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:documentationOf)=1" id="a-1202-30600">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] documentationOf (CONF:1202-30600).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf[count(cda:serviceEvent)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf[count(cda:serviceEvent)=1]" id="a-1202-30601">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:1202-30601).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]" id="a-1202-30602">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] code (CONF:1202-30602).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-1202-30603">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:1202-30603).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-1202-30604">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:1202-30604).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component)=1]" id="a-1202-30605">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:1202-30605).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.49'][@extension='2015-10-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.49'][@extension='2015-10-01'])=1" id="a-1202-30606">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1202-30606) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.49" (CONF:1202-30611). SHALL contain exactly one [1..1] @extension="2015-10-01" (CONF:1202-30612).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody/cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.57' and @extension = '2015-10-01']])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody/cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.57' and @extension = '2015-10-01']])=1]" id="a-1202-30607">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] Summary Data Section (HV) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.5.57:2015-10-01) (CONF:1202-30607).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:code[@code='2543-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:code[@code='2543-7']" id="a-1202-30609">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="2543-7" Hemovigilance Module - Monthly Reporting Denominator (CONF:1202-30609).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:code[@codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:code[@codeSystem='2.16.840.1.113883.6.277']" id="a-1202-30610">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1202-30610).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title[translate(text(), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz')='hemovigilance module - monthly reporting denominator'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title[translate(text(), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz')='hemovigilance module - monthly reporting denominator'])=1" id="a-1202-30613">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title="Hemovigilance Module - Monthly Reporting Denominator" (CONF:1202-30613).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M325"/>
</axsl:template>
<axsl:template mode="M325" priority="-1" match="text()"/>
<axsl:template mode="M326" priority="3999" match="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.49' and @extension = '2015-10-01']]">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.49' and @extension = '2015-10-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.49-2015-10-01-errors-CL"/>
<axsl:apply-templates mode="M326"/>
</axsl:template>
<axsl:template mode="M326" priority="-1" match="text()"/>
<axsl:template mode="M327" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.57' and @extension = '2015-10-01']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.57' and @extension = '2015-10-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.57-2015-10-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-86-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1 STATIC) (CONF:86-21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-86-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:86-21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-86-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:86-21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-86-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:86-21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.232' and @extension = '2015-10-01']])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.232' and @extension = '2015-10-01']])=1])=1" id="a-1202-30614">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:1202-30614) such that it SHALL contain exactly one [1..1] No Hemovigilance Adverse Reactions Reported This Month Observation (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.232:2015-10-01) (CONF:1202-30685).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.57'][@extension='2015-10-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.57'][@extension='2015-10-01'])=1" id="a-1202-30615">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1202-30615) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.57" (CONF:1202-30619). SHALL contain exactly one [1..1] @extension="2015-10-01" (CONF:1202-30620).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1202-30616">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1202-30616).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.233' and @extension = '2015-10-01']])=1]) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.233' and @extension = '2015-10-01']])=1]) &gt; 0" id="a-1202-30617">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:1202-30617) such that it SHALL contain exactly one [1..1] No Hemovigilance Incidents Reported This Month Observation (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.233:2015-10-01) (CONF:1202-30686).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51900-9']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51900-9']" id="a-1202-30621">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51900-9" Summary Data Section (CONF:1202-30621).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']" id="a-1202-30622">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:1202-30622).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.234' and @extension = '2015-10-01']])=1]) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.234' and @extension = '2015-10-01']])=1]) &gt; 0" id="a-1202-30736">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:1202-30736) such that it SHALL contain exactly one [1..1] Summary Encounter (HV) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.234:2015-10-01) (CONF:1202-30737).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M327"/>
</axsl:template>
<axsl:template mode="M327" priority="-1" match="text()"/>
<axsl:template mode="M328" priority="3999" match="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.57' and @extension = '2015-10-01']]">
<fired-rule role="" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.57' and @extension = '2015-10-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.57-2015-10-01-errors-CL"/>
<axsl:apply-templates mode="M328"/>
</axsl:template>
<axsl:template mode="M328" priority="-1" match="text()"/>
<axsl:template mode="M329" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.232' and @extension = '2015-10-01']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.232' and @extension = '2015-10-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.232-2015-10-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1202-30624">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1202-30624).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-1202-30625">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:1202-30625).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-1202-30626">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:1202-30626).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.232'][@extension='2015-10-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.232'][@extension='2015-10-01'])=1" id="a-1202-30627">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1202-30627) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.232" (CONF:1202-30635). SHALL contain exactly one [1..1] @extension="2015-10-01" (CONF:1202-30636).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[count(self::node()[@code='ASSERTION'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[count(self::node()[@code='ASSERTION'])=1]" id="a-1202-30628">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:1202-30628).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']" id="a-1202-30629">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:1202-30629).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-1202-30630">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:1202-30630).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@code='3540-2']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@code='3540-2']" id="a-1202-30631">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="3540-2" No hemovigilance adverse reactions reported this month (CONF:1202-30631).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-1202-30632">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1202-30632).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1202-30633">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1202-30633).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-1202-30634">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:1202-30634).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']" id="a-1202-30651">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1202-30651).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M329"/>
</axsl:template>
<axsl:template mode="M329" priority="-1" match="text()"/>
<axsl:template mode="M330" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.232' and @extension = '2015-10-01']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.232' and @extension = '2015-10-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.232-2015-10-01-errors-CL"/>
<axsl:apply-templates mode="M330"/>
</axsl:template>
<axsl:template mode="M330" priority="-1" match="text()"/>
<axsl:template mode="M331" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.233' and @extension = '2015-10-01']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.233' and @extension = '2015-10-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.233-2015-10-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1202-30637">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1202-30637).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-1202-30638">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:1202-30638).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-1202-30639">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:1202-30639).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.233'][@extension='2015-10-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.233'][@extension='2015-10-01'])=1" id="a-1202-30640">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1202-30640) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.233" (CONF:1202-30645). SHALL contain exactly one [1..1] @extension="2015-10-01" (CONF:1202-30646).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[count(self::node()[@code='ASSERTION'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[count(self::node()[@code='ASSERTION'])=1]" id="a-1202-30641">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:1202-30641).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']" id="a-1202-30642">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:1202-30642).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-1202-30643">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:1202-30643).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@code='3541-0']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@code='3541-0']" id="a-1202-30644">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="3541-0" No hemovigilance incidents reported this month (CONF:1202-30644).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-1202-30647">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1202-30647).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1202-30648">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1202-30648).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-1202-30649">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:1202-30649).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']" id="a-1202-30650">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1202-30650).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M331"/>
</axsl:template>
<axsl:template mode="M331" priority="-1" match="text()"/>
<axsl:template mode="M332" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.233' and @extension = '2015-10-01']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.233' and @extension = '2015-10-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.233-2015-10-01-errors-CL"/>
<axsl:apply-templates mode="M332"/>
</axsl:template>
<axsl:template mode="M332" priority="-1" match="text()"/>
<axsl:template mode="M333" priority="3999" match="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.234' and @extension = '2015-10-01']]">
<fired-rule role="" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.234' and @extension = '2015-10-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.234-2015-10-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.236' and @extension = '2015-10-01']])=1]) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.236' and @extension = '2015-10-01']])=1]) &gt; 0" id="a-1202-30652">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entryRelationship (CONF:1202-30652) such that it SHALL contain exactly one [1..1] Facility Transfuses Pathogen Reduced/Inactivated Blood Products Observation (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.236:2015-10-01) (CONF:1202-30658).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.234'][@extension='2015-10-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.234'][@extension='2015-10-01'])=1" id="a-1202-30653">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1202-30653) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.234" (CONF:1202-30660). SHALL contain exactly one [1..1] @extension="2015-10-01" (CONF:1202-30661).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='LOC'][count(cda:participantRole[@classCode='SDLOC'][count(cda:id[@root][@extension='FACWIDEIN'])=1][count(cda:code[@code='1250-0'][@codeSystem='2.16.840.1.113883.6.259'])=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='LOC'][count(cda:participantRole[@classCode='SDLOC'][count(cda:id[@root][@extension='FACWIDEIN'])=1][count(cda:code[@code='1250-0'][@codeSystem='2.16.840.1.113883.6.259'])=1])=1])=1" id="a-1202-30654">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:1202-30654) such that it SHALL contain exactly one [1..1] participantRole (CONF:1202-30655). This participantRole SHALL contain exactly one [1..1] id (CONF:1202-30656). This id SHALL contain exactly one [1..1] @root (CONF:1202-30662). This id SHALL contain exactly one [1..1] @extension="FACWIDEIN" (CONF:1202-30663). This participantRole SHALL contain exactly one [1..1] code (CodeSystem: HL7 HealthcareServiceLocation urn:oid:2.16.840.1.113883.6.259 DYNAMIC) (CONF:1202-30657). This code SHALL contain exactly one [1..1] @code="1250-0" (CONF:1202-30664). This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.259" (CONF:1202-30665). This participantRole SHALL contain exactly one [1..1] @classCode="SDLOC" Service Delivery Location (CodeSystem: EntityClass urn:oid:2.16.840.1.113883.5.41 STATIC) (CONF:1202-30667). SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:1202-30668).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='ENC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='ENC'" id="a-1202-30669">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="ENC" Encounter (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1202-30669).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1202-30670">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1202-30670).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.235' and @extension = '2015-10-01']])=1]) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.235' and @extension = '2015-10-01']])=1]) &gt; 0" id="a-1202-30730">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entryRelationship (CONF:1202-30730) such that it SHALL contain exactly one [1..1] Summary Data Observation (HV) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.235:2015-10-01) (CONF:1202-30732).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship/cda:observation/cda:templateId[@root='2.16.840.1.113883.10.20.5.6.237']) = 102"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship/cda:observation/cda:templateId[@root='2.16.840.1.113883.10.20.5.6.237']) = 102" id="a-1202-30733-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entryRelationship (CONF:1202-30733) such that it SHALL contain exactly one [1..1] Blood Product Usage Summary Observation (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.237:2015-10-01) (CONF:1202-30735).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M333"/>
</axsl:template>
<axsl:template mode="M333" priority="3997" match="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.234' and @extension = '2015-10-01']]/cda:entryRelationship[cda:observation]">
<fired-rule role="" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.234' and @extension = '2015-10-01']]/cda:entryRelationship[cda:observation]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.234-2015-10-01-30652-branch-30652-errors"/>
<axsl:choose>
<axsl:when test="@typeCode='COMP'"/>
<axsl:otherwise>
<failed-assert role="" test="@typeCode='COMP'" id="a-1202-30659-branch-30652">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:1202-30659).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M333"/>
</axsl:template>
<axsl:template mode="M333" priority="3995" match="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.234' and @extension = '2015-10-01']]/cda:entryRelationship[cda:observation]">
<fired-rule role="" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.234' and @extension = '2015-10-01']]/cda:entryRelationship[cda:observation]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.234-2015-10-01-30730-branch-30730-errors"/>
<axsl:choose>
<axsl:when test="@typeCode='COMP'"/>
<axsl:otherwise>
<failed-assert role="" test="@typeCode='COMP'" id="a-1202-30731-branch-30730">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CONF:1202-30731).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M333"/>
</axsl:template>
<axsl:template mode="M333" priority="3993" match="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.234' and @extension = '2015-10-01']]/cda:entryRelationship[cda:observation]">
<fired-rule role="" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.234' and @extension = '2015-10-01']]/cda:entryRelationship[cda:observation]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.234-2015-10-01-30733-branch-30733-errors"/>
<axsl:choose>
<axsl:when test="@typeCode='COMP'"/>
<axsl:otherwise>
<failed-assert role="" test="@typeCode='COMP'" id="a-1202-30734-branch-30733">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CONF:1202-30734).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M333"/>
</axsl:template>
<axsl:template mode="M333" priority="-1" match="text()"/>
<axsl:template mode="M334" priority="3999" match="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.234' and @extension = '2015-10-01']]">
<fired-rule role="" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.234' and @extension = '2015-10-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.234-2015-10-01-errors-CL"/>
<axsl:apply-templates mode="M334"/>
</axsl:template>
<axsl:template mode="M334" priority="-1" match="text()"/>
<axsl:template mode="M335" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.235' and @extension = '2015-10-01']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.235' and @extension = '2015-10-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.235-2015-10-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.235'][@extension='2015-10-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.235'][@extension='2015-10-01'])=1" id="a-1202-30671">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1202-30671) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.235" (CONF:1202-30677). SHALL contain exactly one [1..1] @extension="2015-10-01" (CONF:1202-30684).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1202-30672">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code, which SHOULD be selected from ValueSet Codes for Hemovigilance (HV) Summary Data http://HVSummaryData DYNAMIC (CONF:1202-30672).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-1202-30673">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:1202-30673).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='INT'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='INT'])=1" id="a-1202-30674">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="INT" (CONF:1202-30674).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-1202-30675">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:1202-30675).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1202-30676">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:1202-30676).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-1202-30683">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:1202-30683).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M335"/>
</axsl:template>
<axsl:template mode="M335" priority="-1" match="text()"/>
<axsl:template mode="M336" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.235' and @extension = '2015-10-01']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.235' and @extension = '2015-10-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.235-2015-10-01-errors-CL"/>
<axsl:apply-templates mode="M336"/>
</axsl:template>
<axsl:template mode="M336" priority="-1" match="text()"/>
<axsl:template mode="M337" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.236' and @extension = '2015-10-01']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.236' and @extension = '2015-10-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.236-2015-10-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1202-30687">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1202-30687).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-1202-30688">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:1202-30688).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-1202-30689">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:1202-30689).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.236'][@extension='2015-10-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.236'][@extension='2015-10-01'])=1" id="a-1202-30690">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1202-30690) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.236" (CONF:1202-30696). SHALL contain exactly one [1..1] @extension="2015-10-01" (CONF:1202-30697).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[count(self::node()[@code='ASSERTION'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[count(self::node()[@code='ASSERTION'])=1]" id="a-1202-30691">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:1202-30691).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']" id="a-1202-30692">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:1202-30692).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-1202-30693">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:1202-30693).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@code='3542-8']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@code='3542-8']" id="a-1202-30694">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="3542-8" Facility transfuses pathogen reduced/inactivated blood products (CONF:1202-30694).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']" id="a-1202-30695">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1202-30695).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-1202-30698">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1202-30698).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1202-30699">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1202-30699).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-1202-30700">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:1202-30700).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M337"/>
</axsl:template>
<axsl:template mode="M337" priority="-1" match="text()"/>
<axsl:template mode="M338" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.236' and @extension = '2015-10-01']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.236' and @extension = '2015-10-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.236-2015-10-01-errors-CL"/>
<axsl:apply-templates mode="M338"/>
</axsl:template>
<axsl:template mode="M338" priority="-1" match="text()"/>
<axsl:template mode="M339" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.237' and @extension = '2015-10-01']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.237' and @extension = '2015-10-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.237-2015-10-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.237'][@extension='2015-10-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.237'][@extension='2015-10-01'])=1" id="a-1202-30701">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1202-30701) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.237" (CONF:1202-30707). SHALL contain exactly one [1..1] @extension="2015-10-01" (CONF:1202-30714).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1202-30702">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1202-30702).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-1202-30703">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:1202-30703).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='INT'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='INT'])=1" id="a-1202-30704">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="INT" (CONF:1202-30704).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-1202-30705">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:1202-30705).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1202-30706">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:1202-30706).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-1202-30713">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:1202-30713).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code]" id="a-1202-30715">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code, which SHALL be selected from ValueSet NHSN Summary Blood Product Usage urn:oid:2.16.840.1.114222.4.11.7353 DYNAMIC (CONF:1202-30715).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.238' and @extension = '2015-10-01']])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.238' and @extension = '2015-10-01']])=1]" id="a-1202-30729">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] ISBT Product Code Summary Observation (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.238:2015-10-01) (CONF:1202-30729).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="(cda:value[@value=0] and count(cda:entryRelationship/cda:observation/cda:templateId[@root='2.16.840.1.113883.10.20.5.6.238']) = 0) or (cda:value[@value&gt;0] and not( cda:code[@code='3401-7'] or cda:code[@code='3402-5'] or cda:code[@code='3470-2'] or cda:code[@code='3409-0'] or cda:code[@code='3410-8'] or cda:code[@code='3477-7'] or cda:code[@code='3417-3'] or cda:code[@code='3484-3'] or cda:code[@code='3421-5'] or cda:code[@code='3422-3'] or cda:code[@code='3490-0'] or cda:code[@code='3502-2'] or cda:code[@code='3503-0'] or cda:code[@code='3504-8'] or cda:code[@code='3511-3'] or cda:code[@code='3512-1'] or cda:code[@code='3513-9'] or cda:code[@code='3520-4'] or cda:code[@code='3521-2'] or cda:code[@code='3522-0'] or cda:code[@code='3529-5'] or cda:code[@code='3530-3'] or cda:code[@code='3531-1'] ) and count(cda:entryRelationship/cda:observation/cda:templateId[@root='2.16.840.1.113883.10.20.5.6.238']) &gt;= 1) or (( cda:code[@code='3401-7'] or cda:code[@code='3402-5'] or cda:code[@code='3470-2'] or cda:code[@code='3409-0'] or cda:code[@code='3410-8'] or cda:code[@code='3477-7'] or cda:code[@code='3417-3'] or cda:code[@code='3484-3'] or cda:code[@code='3421-5'] or cda:code[@code='3422-3'] or cda:code[@code='3490-0'] or cda:code[@code='3502-2'] or cda:code[@code='3503-0'] or cda:code[@code='3504-8'] or cda:code[@code='3511-3'] or cda:code[@code='3512-1'] or cda:code[@code='3513-9'] or cda:code[@code='3520-4'] or cda:code[@code='3521-2'] or cda:code[@code='3522-0'] or cda:code[@code='3529-5'] or cda:code[@code='3530-3'] or cda:code[@code='3531-1']) and count(cda:entryRelationship/cda:observation/cda:templateId[@root='2.16.840.1.113883.10.20.5.6.238']) = 0)"/>
<axsl:otherwise>
<failed-assert role="" test="(cda:value[@value=0] and count(cda:entryRelationship/cda:observation/cda:templateId[@root='2.16.840.1.113883.10.20.5.6.238']) = 0) or (cda:value[@value&gt;0] and not( cda:code[@code='3401-7'] or cda:code[@code='3402-5'] or cda:code[@code='3470-2'] or cda:code[@code='3409-0'] or cda:code[@code='3410-8'] or cda:code[@code='3477-7'] or cda:code[@code='3417-3'] or cda:code[@code='3484-3'] or cda:code[@code='3421-5'] or cda:code[@code='3422-3'] or cda:code[@code='3490-0'] or cda:code[@code='3502-2'] or cda:code[@code='3503-0'] or cda:code[@code='3504-8'] or cda:code[@code='3511-3'] or cda:code[@code='3512-1'] or cda:code[@code='3513-9'] or cda:code[@code='3520-4'] or cda:code[@code='3521-2'] or cda:code[@code='3522-0'] or cda:code[@code='3529-5'] or cda:code[@code='3530-3'] or cda:code[@code='3531-1'] ) and count(cda:entryRelationship/cda:observation/cda:templateId[@root='2.16.840.1.113883.10.20.5.6.238']) &gt;= 1) or (( cda:code[@code='3401-7'] or cda:code[@code='3402-5'] or cda:code[@code='3470-2'] or cda:code[@code='3409-0'] or cda:code[@code='3410-8'] or cda:code[@code='3477-7'] or cda:code[@code='3417-3'] or cda:code[@code='3484-3'] or cda:code[@code='3421-5'] or cda:code[@code='3422-3'] or cda:code[@code='3490-0'] or cda:code[@code='3502-2'] or cda:code[@code='3503-0'] or cda:code[@code='3504-8'] or cda:code[@code='3511-3'] or cda:code[@code='3512-1'] or cda:code[@code='3513-9'] or cda:code[@code='3520-4'] or cda:code[@code='3521-2'] or cda:code[@code='3522-0'] or cda:code[@code='3529-5'] or cda:code[@code='3530-3'] or cda:code[@code='3531-1']) and count(cda:entryRelationship/cda:observation/cda:templateId[@root='2.16.840.1.113883.10.20.5.6.238']) = 0)" id="a-1202-30764-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the value = 0 or type of product is one of the following, there SHALL NOT be a contained observation: Red Blood Cells/Whole Blood Derived/Total; Red Blood Cells/Apheresis/Total; Platelets/Whole Blood Derived/Total; Platelets/Apheresis/Total; Platelets/Whole Blood Derived/Psoralen/Total or Ribiflavin Treated; Platelets/Apheresis/Psoralen/Total or Ribiflavin Treated; Plasma/Whole Blood Derived/Total Psoralen or Ribiflavin Treated; Plasma/Apheresis/Total Psoralen or Ribiflavin Treated. If the value is &gt; 0 and the type of product is not one of those listed above, then each specific subcategory product that is &gt; 0 SHALL be listed in a separate contained ISBT Product Code Summary Observation (CONF:1202-30764).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M339"/>
</axsl:template>
<axsl:template mode="M339" priority="-1" match="text()"/>
<axsl:template mode="M340" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.237' and @extension = '2015-10-01']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.237' and @extension = '2015-10-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.237-2015-10-01-errors-CL"/>
<axsl:apply-templates mode="M340"/>
</axsl:template>
<axsl:template mode="M340" priority="-1" match="text()"/>
<axsl:template mode="M341" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.238' and @extension = '2015-10-01']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.238' and @extension = '2015-10-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.238-2015-10-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.238'][@extension='2015-10-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.238'][@extension='2015-10-01'])=1" id="a-1202-30716">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1202-30716) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.238" (CONF:1202-30719). SHALL contain exactly one [1..1] @extension="2015-10-01" (CONF:1202-30720).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-1202-30717">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:1202-30717).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-1202-30718">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:1202-30718).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-1202-30722">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:1202-30722).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='INT'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='INT'])=1" id="a-1202-30723">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="INT" (CONF:1202-30723).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-1202-30724">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:1202-30724).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-1202-30725">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:1202-30725).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(testable)"/>
<axsl:otherwise>
<failed-assert role="" test="not(testable)" id="a-1202-30726-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the product specified in the containing Blood Product Usage Summary Observation is Whole Blood, then valueSet NHSN Whole Blood Total SHALL be used (CONF:1202-30726).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(testable)"/>
<axsl:otherwise>
<failed-assert role="" test="not(testable)" id="a-1202-30727-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the product specified in the containing Blood Product Usage Summary Observation is Red Blood Cells/Whole Blood Derived/Not irradiated or Leukocyte Reduced, then valueSet NHSN Red Blood Cells/Whole Blood Derived/Not Irradiated or Leukocyte Reduced SHALL be used (CONF:1202-30727).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(testable)"/>
<axsl:otherwise>
<failed-assert role="" test="not(testable)" id="a-1202-30738-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the product specified in the containing Blood Product Usage Summary Observation is Red Blood Cells/Whole Blood Derived/Irradiated, then valueSet NHSN Red Blood Cells/Whole Blood Derived/Irradiated SHALL be used (CONF:1202-30738).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(testable)"/>
<axsl:otherwise>
<failed-assert role="" test="not(testable)" id="a-1202-30739-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the product specified in the containing Blood Product Usage Summary Observation is Red Blood Cells/Whole Blood Derived/Irradiated and Leukocyte Reduced, then valueSet NHSN Red Blood Cells/Whole Blood Derived/Irradiated and Leukocyte Reduced SHALL be used (CONF:1202-30739).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(testable)"/>
<axsl:otherwise>
<failed-assert role="" test="not(testable)" id="a-1202-30740-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the product specified in the containing Blood Product Usage Summary Observation is Red Blood Cells/Whole Blood Derived/Leukocyte Reduced, then valueSet NHSN Red Blood Cells/Whole Blood Derived/Leukocyte Reduced SHALL be used (CONF:1202-30740).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(testable)"/>
<axsl:otherwise>
<failed-assert role="" test="not(testable)" id="a-1202-30741-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the product specified in the containing Blood Product Usage Summary Observation is Red Blood Cells/Apheresis/Not Irradiated or Leukocyte Reduced, then valueSet NHSN Red Blood Cells/Apheresis/Not Irradiated or Leukocyte Reduced SHALL be used (CONF:1202-30741).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(testable)"/>
<axsl:otherwise>
<failed-assert role="" test="not(testable)" id="a-1202-30742-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the product specified in the containing Blood Product Usage Summary Observation is Red Blood Cells/Apheresis/Irradiated, then valueSet NHSN Red Blood Cells/Apheresis/Irradiated SHALL be used (CONF:1202-30742).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(testable)"/>
<axsl:otherwise>
<failed-assert role="" test="not(testable)" id="a-1202-30743-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the product specified in the containing Blood Product Usage Summary Observation is Red Blood Cells/Apheresis/Leukocyte Reduced, then valueSet NHSN Red Blood Cells/Apheresis/Leukocyte Reduced SHALL be used (CONF:1202-30743).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(testable)"/>
<axsl:otherwise>
<failed-assert role="" test="not(testable)" id="a-1202-30744-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the product specified in the containing Blood Product Usage Summary Observation is Plasma/Apheresis/Riboflavin-Treated, then valueSet NHSN Plasma/Apheresis/Riboflavin-Treated SHALL be used (CONF:1202-30744).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(testable)"/>
<axsl:otherwise>
<failed-assert role="" test="not(testable)" id="a-1202-30745-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the product specified in the containing Blood Product Usage Summary Observation is Plasma/Apheresis/Psoralen-Treated, then valueSet NHSN Plasma/Apheresis/Psoralen-Treated SHALL be used (CONF:1202-30745).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(testable)"/>
<axsl:otherwise>
<failed-assert role="" test="not(testable)" id="a-1202-30746-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the product specified in the containing Blood Product Usage Summary Observation is Plasma/Whole Blood Derived/Riboflavin-Treated, then valueSet NHSN Plasma/Whole Blood Derived/Riboflavin-Treated SHALL be used (CONF:1202-30746).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(testable)"/>
<axsl:otherwise>
<failed-assert role="" test="not(testable)" id="a-1202-30747-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the product specified in the containing Blood Product Usage Summary Observation is Plasma/Whole Blood Derived/Psoralen-Treated, then valueSet NHSN Plasma/Whole Blood Derived/Psoralen-Treated SHALL be used (CONF:1202-30747).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(testable)"/>
<axsl:otherwise>
<failed-assert role="" test="not(testable)" id="a-1202-30748-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the product specified in the containing Blood Product Usage Summary Observation is Platelets/Apheresis/Riboflavin-Treated, then valueSet NHSN Platelets/Apheresis/Riboflavin-Treated SHALL be used (CONF:1202-30748).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(testable)"/>
<axsl:otherwise>
<failed-assert role="" test="not(testable)" id="a-1202-30749-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the product specified in the containing Blood Product Usage Summary Observation is Platelets/Apheresis/Psoralen-Treated, then valueSet NHSN Platelets/Apheresis/Psoralen-Treated SHALL be used (CONF:1202-30749).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(testable)"/>
<axsl:otherwise>
<failed-assert role="" test="not(testable)" id="a-1202-30750-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the product specified in the containing Blood Product Usage Summary Observation is Platelets/Whole Blood Derived/Riboflavin-Treated, then valueSet NHSN Platelets/Whole Blood Derived/Riboflavin-Treated SHALL be used (CONF:1202-30750).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(testable)"/>
<axsl:otherwise>
<failed-assert role="" test="not(testable)" id="a-1202-30751-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the product specified in the containing Blood Product Usage Summary Observation is Platelets/Whole Blood Derived/Psoralen-Treated, then valueSet NHSN Platelets/Whole Blood Derived/Psoralen-Treated SHALL be used (CONF:1202-30751).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(testable)"/>
<axsl:otherwise>
<failed-assert role="" test="not(testable)" id="a-1202-30752-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the product specified in the containing Blood Product Usage Summary Observation is Cryoprecipitate, then valueSet NHSN Cryoprecipitate SHALL be used (CONF:1202-30752).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(testable)"/>
<axsl:otherwise>
<failed-assert role="" test="not(testable)" id="a-1202-30753-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the product specified in the containing Blood Product Usage Summary Observation is Plasma/Apheresis/Total, then valueSet NHSN Plasma/Apheresis/Total SHALL be used (CONF:1202-30753).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(testable)"/>
<axsl:otherwise>
<failed-assert role="" test="not(testable)" id="a-1202-30754-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the product specified in the containing Blood Product Usage Summary Observation is Plasma/Whole Blood Derived/Total, then valueSet NHSN Plasma/Whole Blood Derived/Total SHALL be used (CONF:1202-30754).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(testable)"/>
<axsl:otherwise>
<failed-assert role="" test="not(testable)" id="a-1202-30755-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the product specified in the containing Blood Product Usage Summary Observation is Platelets/Apheresis/Irradiated or Leukocyte Reduced, then valueSet NHSN Platelets/Apheresis/Irradiated or Leukocyte Reduced SHALL be used (CONF:1202-30755).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(testable)"/>
<axsl:otherwise>
<failed-assert role="" test="not(testable)" id="a-1202-30756-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the product specified in the containing Blood Product Usage Summary Observation is Platelets/Apheresis/Leukocyte Reduced, then valueSet NHSN Platelets/Apheresis/Leukocyte Reduced SHALL be used (CONF:1202-30756).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(testable)"/>
<axsl:otherwise>
<failed-assert role="" test="not(testable)" id="a-1202-30757-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the product specified in the containing Blood Product Usage Summary Observation is Platelets/Apheresis/Irradiated, then valueSet NHSN Platelets/Apheresis/Irradiated SHALL be used (CONF:1202-30757).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(testable)"/>
<axsl:otherwise>
<failed-assert role="" test="not(testable)" id="a-1202-30758-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the product specified in the containing Blood Product Usage Summary Observation is Platelets/Apheresis/Not Irradiated or Leukocyte Reduced, then valueSet NHSN Platelets/Apheresis/Not Irradiated or Leukocyte Reduced SHALL be used (CONF:1202-30758).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(testable)"/>
<axsl:otherwise>
<failed-assert role="" test="not(testable)" id="a-1202-30759-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the product specified in the containing Blood Product Usage Summary Observation is Platelets/Whole Blood Derived/Irradiated and Leukocyte Reduced, then valueSet NHSN Platelets/Whole Blood Derived/Irradiated and Leukocyte Reduced SHALL be used (CONF:1202-30759).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(testable)"/>
<axsl:otherwise>
<failed-assert role="" test="not(testable)" id="a-1202-30760-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the product specified in the containing Blood Product Usage Summary Observation is Platelets/Whole Blood Derived/Leukocyte Reduced, then valueSet NHSN Platelets/Whole Blood Derived/Leukocyte Reduced SHALL be used (CONF:1202-30760).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(testable)"/>
<axsl:otherwise>
<failed-assert role="" test="not(testable)" id="a-1202-30761-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the product specified in the containing Blood Product Usage Summary Observation is Platelets/Whole Blood Derived/Irradiated, then valueSet NHSN Platelets/Whole Blood Derived/Irradiated SHALL be used (CONF:1202-30761).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(testable)"/>
<axsl:otherwise>
<failed-assert role="" test="not(testable)" id="a-1202-30762-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the product specified in the containing Blood Product Usage Summary Observation is Platelets/Whole Blood Derived/Not Irradiated or Leukocyte Reduced, then valueSet NHSN Platelets/Whole Blood Derived/Not Irradiated or Leukocyte Reduced SHALL be used (CONF:1202-30762).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(testable)"/>
<axsl:otherwise>
<failed-assert role="" test="not(testable)" id="a-1202-30763-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the product specified in the containing Blood Product Usage Summary Observation is Red Blood Cells/Apheresis/Irradiated or Leukocyte Reduced, then valueSet NHSN Red Blood Cells/Apheresis/Irradiated or Leukocyte Reduced SHALL be used (CONF:1202-30763).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M341"/>
</axsl:template>
<axsl:template mode="M341" priority="-1" match="text()"/>
<axsl:template mode="M342" priority="3999" match="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.238' and @extension = '2015-10-01']]">
<fired-rule role="" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.238' and @extension = '2015-10-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.238-2015-10-01-errors-CL"/>
<axsl:apply-templates mode="M342"/>
</axsl:template>
<axsl:template mode="M342" priority="-1" match="text()"/>
<axsl:template mode="M343" priority="3999" match="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.45' and @extension = '2015-10-01']]">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.45' and @extension = '2015-10-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.45-2015-10-01-errors"/>
<axsl:choose>
<axsl:when test="count(cda:realmCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:realmCode)=1" id="a-86-18431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] realmCode (CONF:86-18431).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:realmCode[count(self::node()[@code='US'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:realmCode[count(self::node()[@code='US'])=1]" id="a-86-18432">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This realmCode SHALL contain exactly one [1..1] @code="US" (CONF:86-18432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-86-18433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:86-18433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51897-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51897-7']" id="a-86-18434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51897-7" Healthcare Associated Infection Report (CONF:86-18434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-86-18435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:86-18435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-86-18436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:86-18436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:confidentialityCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:confidentialityCode)=1" id="a-86-18437-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] confidentialityCode (CONF:86-18437).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:confidentialityCode[count(self::node()[@code='N'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:confidentialityCode[count(self::node()[@code='N'])=1]" id="a-86-18438">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This confidentialityCode SHALL contain exactly one [1..1] @code="N" Normal (CodeSystem: ConfidentialityCode urn:oid:2.16.840.1.113883.5.25 STATIC) (CONF:86-18438).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:languageCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:languageCode)=1" id="a-86-18439">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] languageCode (CONF:86-18439).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:languageCode[@code='en-US']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:languageCode[@code='en-US']" id="a-86-18440">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This languageCode SHALL contain exactly one [1..1] @code="en-US" (CONF:86-18440).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:setId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:setId)=1" id="a-86-18441">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] setId (CONF:86-18441).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:versionNumber)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:versionNumber)=1" id="a-86-18442">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] versionNumber (CONF:86-18442).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:custodian)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:custodian)=1" id="a-86-18443">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] custodian (CONF:86-18443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian[count(cda:assignedCustodian)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian[count(cda:assignedCustodian)=1]" id="a-86-18444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This custodian SHALL contain exactly one [1..1] assignedCustodian (CONF:86-18444).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]" id="a-86-18445">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedCustodian SHALL contain exactly one [1..1] representedCustodianOrganization (CONF:86-18445).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]" id="a-86-18446">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This representedCustodianOrganization SHALL contain exactly one [1..1] id (CONF:86-18446).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']" id="a-86-18447">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root="2.16.840.1.114222.4.3.2.11" (CONF:86-18447).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-86-18448">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:86-18448).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-86-18449">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:86-18449).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-18450-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The structuredBody element SHALL contain a component element for each section required by the particular report type. Additional sections may be present but their content will not be processed by NHSN (CONF:86-18450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1" id="a-86-18460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-18460) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.25" (CONF:86-18461).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:typeId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:typeId)=1" id="a-86-18463">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] typeId (CONF:86-18463).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@root='2.16.840.1.113883.1.3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@root='2.16.840.1.113883.1.3']" id="a-86-18464">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @root="2.16.840.1.113883.1.3" (CONF:86-18464).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@extension='POCD_HD000040']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@extension='POCD_HD000040']" id="a-86-18465">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @extension="POCD_HD000040" (CONF:86-18465).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-86-18466-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:86-18466).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']" id="a-86-18470">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] @typeCode="RPLC" replace (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-18470).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-18471-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If versionNumber/@value is greater than 1, a relatedDocument element SHALL be present (CONF:86-18471).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget) &gt; 0" id="a-86-18472-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] recordTarget (CONF:86-18472).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:author) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:author) &gt; 0" id="a-86-18473-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] author (CONF:86-18473).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-86-18475-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain at least one [1..*] component (CONF:86-18475).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem]" id="a-86-27413">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:86-27413).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[count(cda:parentDocument)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[count(cda:parentDocument)=1]" id="a-86-28401">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] parentDocument (CONF:86-28401).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument/cda:parentDocument) or cda:relatedDocument/cda:parentDocument[count(cda:id) &gt; 0]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument/cda:parentDocument) or cda:relatedDocument/cda:parentDocument[count(cda:id) &gt; 0]" id="a-86-28402">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This parentDocument SHALL contain at least one [1..*] id (CONF:86-28402).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-86-28403-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of id SHALL be populated with the ClinicalDocument/id of the document being replaced (CONF:86-28403).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.28'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.28'])=1" id="a-86-22431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:86-22431) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.28" (CONF:86-22432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget)=1" id="a-86-22433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] recordTarget (CONF:86-22433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget[count(cda:patientRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget[count(cda:patientRole)=1]" id="a-86-22434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This recordTarget SHALL contain exactly one [1..1] patientRole (CONF:86-22434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:id)=1]" id="a-86-22435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain exactly one [1..1] id (CONF:86-22435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@nullFlavor='NA']" id="a-86-22436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" not applicable (CONF:86-22436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='SBJ'][@contextControlCode='OP'][count(cda:associatedEntity[@classCode='PRS'][count(cda:code[@code='389109008'])=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='SBJ'][@contextControlCode='OP'][count(cda:associatedEntity[@classCode='PRS'][count(cda:code[@code='389109008'])=1])=1])=1" id="a-86-22437">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:86-22437) such that it SHALL contain exactly one [1..1] @typeCode="SBJ" Subject (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:86-22438). SHALL contain exactly one [1..1] @contextControlCode="OP" (CodeSystem: HL7 Context Control Code urn:oid:2.16.840.1.113883.5.1057 STATIC) (CONF:86-22439). SHALL contain exactly one [1..1] associatedEntity (CONF:86-22440). This associatedEntity SHALL contain exactly one [1..1] @classCode="PRS" Person (CodeSystem: EntityClass urn:oid:2.16.840.1.113883.5.41 STATIC) (CONF:86-22441). This associatedEntity SHALL contain exactly one [1..1] code (CONF:86-22442). This code SHALL contain exactly one [1..1] @code="389109008" Group (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96 STATIC) (CONF:86-22443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='LOC'][@contextControlCode='OP'][count(cda:associatedEntity[@classCode='SDLOC'][count(cda:id[@root])=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='LOC'][@contextControlCode='OP'][count(cda:associatedEntity[@classCode='SDLOC'][count(cda:id[@root])=1])=1])=1" id="a-86-22444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:86-22444) such that it SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:86-22445). SHALL contain exactly one [1..1] @contextControlCode="OP" (CodeSystem: HL7 Context Control Code urn:oid:2.16.840.1.113883.5.1057 STATIC) (CONF:86-22446). SHALL contain exactly one [1..1] associatedEntity (CONF:86-22447). This associatedEntity SHALL contain exactly one [1..1] @classCode="SDLOC" Service delivery location (CodeSystem: RoleClass urn:oid:2.16.840.1.113883.5.110 STATIC) (CONF:86-22448). This associatedEntity SHALL contain exactly one [1..1] id (CONF:86-22449). This id SHALL contain exactly one [1..1] @root (CONF:86-22450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:documentationOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:documentationOf)=1" id="a-86-22451">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] documentationOf (CONF:86-22451).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf[count(cda:serviceEvent)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf[count(cda:serviceEvent)=1]" id="a-86-22452">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:86-22452).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[@classCode='CASE']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[@classCode='CASE']" id="a-86-22453">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] @classCode="CASE" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-22453).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3595']/voc:code/@value or @nullFlavor])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3595']/voc:code/@value or @nullFlavor])=1]" id="a-86-22454">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNPopulationSummaryReportTypeCode urn:oid:2.16.840.1.114222.4.11.3595 STATIC (CONF:86-22454).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:effectiveTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:effectiveTime)=1]" id="a-86-22456">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] effectiveTime (CONF:86-22456).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:low)=1]" id="a-86-22457">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:86-22457).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:high)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:high)=1]" id="a-86-22458">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] high (CONF:86-22458).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-86-22459-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The author SHALL represent the software forming the message (CONF:86-22459).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.3.1'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.3.1'])=1" id="a-1202-28329">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1202-28329) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.7.3.1" (CONF:1202-28330).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:documentationOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:documentationOf)=1" id="a-1202-22924">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] documentationOf (CONF:1202-22924).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf[count(cda:serviceEvent)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf[count(cda:serviceEvent)=1]" id="a-1202-22925">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:1202-22925).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]" id="a-1202-22926">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] code (CONF:1202-22926).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-1202-22929">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:1202-22929).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-1202-22930">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:1202-22930).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component)=1]" id="a-1202-22931">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:1202-22931).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.45'][@extension='2015-10-01'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.45'][@extension='2015-10-01'])=1" id="a-1202-22921">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:1202-22921) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.45" (CONF:1202-22922). SHALL contain exactly one [1..1] @extension="2015-10-01" (CONF:1202-30765).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody/cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.50']])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody/cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.50']])=1]" id="a-1202-22932">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] Summary Data Section (VAT) (identifier: urn:oid:2.16.840.1.113883.10.20.5.5.50) (CONF:1202-22932).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title[translate(text(), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz')='maintenance hemodialysis patients stratified by vascular access type report'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title[translate(text(), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz')='maintenance hemodialysis patients stratified by vascular access type report'])=1" id="a-1202-22923">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title="Maintenance Hemodialysis Patients Stratified by Vascular Access Type Report" (CONF:1202-22923).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:code[@code='2316-8']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:code[@code='2316-8']" id="a-1202-22927">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="2316-8" Summary dialysis data reporting vascular access types in maintenance (chronic) hemodialysis patients (CONF:1202-22927).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:code[@codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:code[@codeSystem='2.16.840.1.113883.6.277']" id="a-1202-22928">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1202-22928).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M343"/>
</axsl:template>
<axsl:template mode="M343" priority="-1" match="text()"/>
<axsl:template mode="M344" priority="3999" match="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.45' and @extension = '2015-10-01']]">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.45' and @extension = '2015-10-01']]" id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.45-2015-10-01-errors-CL"/>
<axsl:apply-templates mode="M344"/>
</axsl:template>
<axsl:template mode="M344" priority="-1" match="text()"/>
<axsl:template priority="-1" match="text()"/>
</axsl:stylesheet>
