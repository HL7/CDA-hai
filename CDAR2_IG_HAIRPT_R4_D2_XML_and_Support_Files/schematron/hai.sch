<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<!--

THIS SOFTWARE IS PROVIDED "AS IS" AND ANY EXPRESSED OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL LANTANA CONSULTING GROUP LLC, OR ANY OF THEIR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
Schematron generated from Trifolia on 3/17/2022
-->
<sch:schema xmlns:voc="http://www.lantanagroup.com/voc" xmlns:svs="urn:ihe:iti:svs:2008" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:sdtc="urn:hl7-org:sdtc" xmlns="urn:hl7-org:v3" xmlns:cda="urn:hl7-org:v3" xmlns:sch="http://purl.oclc.org/dsdl/schematron">
  <sch:ns prefix="voc" uri="http://www.lantanagroup.com/voc" />
  <sch:ns prefix="svs" uri="urn:ihe:iti:svs:2008" />
  <sch:ns prefix="xsi" uri="http://www.w3.org/2001/XMLSchema-instance" />
  <sch:ns prefix="sdtc" uri="urn:hl7-org:sdtc" />
  <sch:ns prefix="cda" uri="urn:hl7-org:v3" />
  <sch:phase id="errors">
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.16-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.1-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.2-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.27-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.9-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.8-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.6-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.25-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.20-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.23-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.17-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.18-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.19-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.24-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.14-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.31-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.32-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.4-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.37-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.12-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.13-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.49-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.54-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.5-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.5-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.79-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.80-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.4.25-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.112-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.112-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.113-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.113-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.114-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.114-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.120-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.120-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.121-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.121-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.174-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.174-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.173-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.173-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.150-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.150-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.131-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.131-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.137-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.137-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.147-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.147-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.138-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.138-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.160-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.160-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.135-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.135-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.145-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.145-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.170-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.170-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.163-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.163-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.123-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.123-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.126-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.126-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.117-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.117-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.122-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.122-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.175-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.175-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.176-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.176-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.142-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.142-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.141-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.141-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.139-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.139-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.148-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.148-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.156-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.156-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.159-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.159-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.165-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.165-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.169-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.169-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.171-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.171-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.172-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.172-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.168-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.168-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.167-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.167-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.166-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.166-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.164-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.164-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.158-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.158-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.155-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.155-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.154-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.154-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.144-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.144-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.125-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.125-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.115-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.115-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.134-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.134-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.4.26-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.128-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.128-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.180-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.180-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.119-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.119-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.130-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.130-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.129-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.129-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.136-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.136-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.133-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.133-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.132-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.132-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.127-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.127-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.182-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.182-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.5.35-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.5.35-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.5.36-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.5.36-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.5.38-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.5.38-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.5.40-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.5.40-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.5.42-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.5.42-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.5.45-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.5.45-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.5.47-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.5.47-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.184-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.184-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.185-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.185-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.4.28-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.189-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.189-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.190-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.190-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.191-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.191-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.192-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.192-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.193-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.193-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.194-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.194-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.195-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.195-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.5.50-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.5.50-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.196-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.196-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.124-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.124-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.203-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.203-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.204-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.204-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.153.2-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.153.2-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.5.43.2-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.5.43.2-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.205-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.205-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.5.39.2-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.5.39.2-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.206-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.206-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.119-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.216-2014-12-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.216-2014-12-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.162-2014-12-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.162-2014-12-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.118-2014-12-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.118-2014-12-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.183-2014-12-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.183-2014-12-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.179-2014-12-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.179-2014-12-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.116-2014-12-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.116-2014-12-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.34-2014-12-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.34-2014-12-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.217-2014-12-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.217-2014-12-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.151-2014-12-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.151-2014-12-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.218-2014-12-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.218-2014-12-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.44-2014-12-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.44-2014-12-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.220-2014-12-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.220-2014-12-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.219-2014-12-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.219-2014-12-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.221-2014-12-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.221-2014-12-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.222-2014-12-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.222-2014-12-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.223-2014-12-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.223-2014-12-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.224-2014-12-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.224-2014-12-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.225-2014-12-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.225-2014-12-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.146-2014-12-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.146-2014-12-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.46-2014-12-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.46-2014-12-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.226-2014-12-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.226-2014-12-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.227-2014-12-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.227-2014-12-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.228-2014-12-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.228-2014-12-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.44-2015-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.44-2015-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.229-2015-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.229-2015-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.197-2015-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.197-2015-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.198-2015-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.198-2015-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.51-2015-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.51-2015-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.231-2015-10-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.231-2015-10-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.230-2015-10-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.230-2015-10-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.147-errors" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.147-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.22.4.38-2015-08-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.232-2015-10-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.232-2015-10-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.233-2015-10-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.233-2015-10-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.235-2015-10-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.235-2015-10-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.22.4.200-2016-06-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.239-2016-08-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.239-2016-08-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.186-2016-08-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.186-2016-08-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.200-2016-08-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.200-2016-08-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.177-2016-08-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.177-2016-08-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.236-2016-08-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.236-2016-08-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.234-2016-08-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.234-2016-08-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.57-2016-08-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.57-2016-08-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.49-2016-08-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.49-2016-08-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.237-2016-08-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.237-2016-08-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.238-2016-08-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.238-2016-08-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.240-2016-08-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.240-2016-08-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.50-2017-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.50-2017-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.58-2017-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.58-2017-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.241-2017-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.241-2017-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.242-2017-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.242-2017-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.243-2017-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.243-2017-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.59-2017-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.59-2017-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.60-2017-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.60-2017-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.61-2017-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.61-2017-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.245-2017-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.245-2017-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.246-2017-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.246-2017-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.247-2017-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.247-2017-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.244-2017-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.244-2017-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.248-2017-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.248-2017-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.249-2018-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.249-2018-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.41-2018-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.41-2018-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.48-2018-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.48-2018-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.62-2018-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.62-2018-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.250-2018-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.250-2018-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.251-2018-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.251-2018-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.252-2018-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.252-2018-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.33-2018-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.33-2018-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.253-2018-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.253-2018-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.64-2018-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.257-2018-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.40-2018-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.40-2018-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.42-2018-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.42-2018-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.45-2018-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.45-2018-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.55-2019-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.55-2019-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.46-2019-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.46-2019-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.66-2019-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.66-2019-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.212-2019-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.212-2019-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.208-2019-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.208-2019-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.259-2019-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.259-2019-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.67-2019-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.67-2019-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.68-2019-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.68-2019-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.140-2019-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.140-2019-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.181-2019-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.181-2019-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.41-2019-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.41-2019-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.149-2019-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.149-2019-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.157-2019-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.157-2019-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.69-2019-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.69-2019-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.70-2019-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.70-2019-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.261-2019-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.261-2019-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.71-2019-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.71-2019-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.262-2019-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.262-2019-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.263-2019-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.263-2019-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.72-2019-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.72-2019-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.199-2019-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.199-2019-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.52-2019-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.52-2019-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.265-2019-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.265-2019-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.255-2019-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.255-2019-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.65-2019-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.65-2019-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.266-2020-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.32-2020-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.32-2020-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.188-2020-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.188-2020-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.187-2020-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.187-2020-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.202-2020-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.202-2020-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.201-2020-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.201-2020-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.270-2021-01-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.270-2021-01-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.80-2021-01-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.80-2021-01-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.34.3.45-2022-06-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.81-2022-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.4.27-2022-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.31-2022-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.31-2022-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.56-2022-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.56-2022-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.32-2022-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.32-2022-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.36-2022-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.36-2022-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.37-2022-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.37-2022-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.38-2022-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.38-2022-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.33.2-2022-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.33.2-2022-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.34-2022-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.34-2022-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.53-2022-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.53-2022-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.54-2022-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.54-2022-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.57-2022-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.57-2022-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.51-2022-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.51-2022-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.37-2022-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.37-2022-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.58-2022-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.58-2022-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.271-2022-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.271-2022-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.272-2022-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.272-2022-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.49-2022-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.49-2022-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.43-2022-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.43-2022-04-01-CLOSEDTEMPLATE" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.35.2-2022-04-01-errors" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.35.2-2022-04-01-CLOSEDTEMPLATE" />
  </sch:phase>
  <sch:phase id="warnings">
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.16-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.1-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.2-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.27-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.9-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.8-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.6-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.25-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.20-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.23-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.17-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.18-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.19-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.24-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.14-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.31-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.32-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.4-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.37-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.12-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.13-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.49-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.54-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.5-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.79-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.80-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.4.25-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.112-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.113-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.114-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.120-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.121-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.174-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.173-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.150-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.131-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.137-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.147-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.138-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.160-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.135-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.145-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.170-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.163-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.123-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.126-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.117-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.122-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.175-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.176-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.142-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.141-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.139-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.148-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.156-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.159-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.165-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.169-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.171-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.172-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.168-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.167-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.166-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.164-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.158-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.155-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.154-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.144-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.125-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.115-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.134-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.4.26-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.128-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.180-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.119-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.130-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.129-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.136-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.133-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.132-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.127-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.182-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.5.35-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.5.36-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.5.38-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.5.40-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.5.42-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.5.45-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.5.47-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.184-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.185-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.4.28-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.189-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.190-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.191-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.192-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.193-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.194-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.195-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.5.50-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.196-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.124-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.203-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.204-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.153.2-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.5.43.2-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.205-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.5.39.2-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.5.6.206-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.119-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.216-2014-12-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.162-2014-12-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.118-2014-12-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.183-2014-12-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.179-2014-12-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.116-2014-12-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.34-2014-12-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.217-2014-12-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.151-2014-12-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.218-2014-12-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.44-2014-12-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.220-2014-12-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.219-2014-12-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.221-2014-12-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.222-2014-12-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.223-2014-12-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.224-2014-12-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.225-2014-12-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.146-2014-12-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.46-2014-12-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.226-2014-12-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.227-2014-12-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.228-2014-12-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.44-2015-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.229-2015-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.197-2015-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.198-2015-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.51-2015-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.231-2015-10-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.230-2015-10-01-warnings" />
    <sch:active pattern="p-urn-oid-2.16.840.1.113883.10.20.22.4.147-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.22.4.38-2015-08-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.232-2015-10-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.233-2015-10-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.235-2015-10-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.22.4.200-2016-06-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.239-2016-08-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.186-2016-08-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.200-2016-08-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.177-2016-08-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.236-2016-08-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.234-2016-08-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.57-2016-08-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.49-2016-08-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.237-2016-08-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.238-2016-08-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.240-2016-08-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.50-2017-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.58-2017-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.241-2017-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.242-2017-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.243-2017-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.59-2017-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.60-2017-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.61-2017-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.245-2017-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.246-2017-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.247-2017-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.244-2017-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.248-2017-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.249-2018-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.41-2018-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.48-2018-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.62-2018-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.250-2018-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.251-2018-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.252-2018-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.33-2018-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.253-2018-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.64-2018-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.257-2018-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.40-2018-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.42-2018-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.45-2018-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.55-2019-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.46-2019-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.66-2019-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.212-2019-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.208-2019-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.259-2019-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.67-2019-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.68-2019-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.140-2019-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.181-2019-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.41-2019-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.149-2019-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.157-2019-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.69-2019-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.70-2019-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.261-2019-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.71-2019-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.262-2019-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.263-2019-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.72-2019-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.199-2019-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.52-2019-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.265-2019-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.255-2019-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.65-2019-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.266-2020-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.32-2020-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.188-2020-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.187-2020-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.202-2020-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.201-2020-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.270-2021-01-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.80-2021-01-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.34.3.45-2022-06-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.81-2022-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.4.27-2022-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.31-2022-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.56-2022-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.32-2022-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.36-2022-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.37-2022-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.38-2022-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.33.2-2022-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.34-2022-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.53-2022-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.54-2022-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.57-2022-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.51-2022-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.37-2022-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.58-2022-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.271-2022-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.272-2022-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.49-2022-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.43-2022-04-01-warnings" />
    <sch:active pattern="p-urn-hl7ii-2.16.840.1.113883.10.20.5.35.2-2022-04-01-warnings" />
  </sch:phase>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.16-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.16-errors-abstract" abstract="true">
      <sch:assert id="a-81-7496" test="@classCode='SBADM'">SHALL contain exactly one [1..1] @classCode="SBADM" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:81-7496).</sch:assert>
      <sch:assert id="a-81-7497" test="@moodCode and @moodCode=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.11.20.9.18']/voc:code/@value">SHALL contain exactly one [1..1] @moodCode, which SHALL be selected from ValueSet MoodCodeEvnInt urn:oid:2.16.840.1.113883.11.20.9.18 STATIC 2011-04-03 (CONF:81-7497).</sch:assert>
      <sch:assert id="a-81-7500" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:81-7500).</sch:assert>
      <sch:assert id="a-81-7507" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:81-7507).</sch:assert>
      <sch:assert id="a-81-7508" test="count(cda:effectiveTime[count(cda:low)=1])=1">SHALL contain exactly one [1..1] effectiveTime (CONF:81-7508) such that it SHOULD contain zero or one [0..1] low (CONF:81-26526).</sch:assert>
      <sch:assert id="a-81-7520" test="count(cda:consumable)=1">SHALL contain exactly one [1..1] consumable (CONF:81-7520).</sch:assert>
      <sch:assert id="a-81-7525" test="not(cda:rateQuantity) or cda:rateQuantity[@unit]">The rateQuantity, if present, SHALL contain exactly one [1..1] @unit, which SHALL be selected from ValueSet UnitsOfMeasureCaseSensitive urn:oid:2.16.840.1.113883.1.11.12839 DYNAMIC (CONF:81-7525).</sch:assert>
      <sch:assert id="a-81-9105-c" test="not(tested-here)">SHALL contain exactly one [1..1] @xsi:type=”PIVL_TS” or “EIVL_TS” (CONF:81-9105).</sch:assert>
      <sch:assert id="a-81-15979-c" test="count(cda:text/cda:reference[@value])=0 or starts-with(cda:text/cda:reference/@value, '#')">This reference/@value SHALL begin with a '#' and SHALL point to its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1) (CONF:81-15979).</sch:assert>
      <sch:assert id="a-81-16085" test="cda:consumable[count(cda:manufacturedProduct[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.23']])=1]">This consumable SHALL contain exactly one [1..1] Medication Information (identifier: urn:oid:2.16.840.1.113883.10.20.22.4.23) (CONF:81-16085).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.16-errors" context="cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.16']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.16-errors-abstract" />
      <sch:assert id="a-81-7499" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.16'])=1">SHALL contain exactly one [1..1] templateId (CONF:81-7499) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.16" (CONF:81-10504).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.16-7508-branch-7508-errors-abstract" abstract="true">
      <sch:assert id="a-81-26528-branch-7508-c" test="(cda:low or @value) and not( cda:low and @value)">This effectiveTime *SHALL* contain either a low or a @value but not both (CONF:81-26528).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.16-7508-branch-7508-errors" context="cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.16']]/cda:effectiveTime[@xsi:type='IVL_TS'][cda:low]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.16-7508-branch-7508-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.1-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.1-errors-abstract" abstract="true">
      <sch:assert id="a-81-7121" test="@classCode">SHALL contain exactly one [1..1] @classCode (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:81-7121).</sch:assert>
      <sch:assert id="a-81-7122" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:81-7122).</sch:assert>
      <sch:assert id="a-81-7123" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:81-7123).</sch:assert>
      <sch:assert id="a-81-7124" test="count(cda:component[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.2']])=1]) &gt; 0">SHALL contain at least one [1..*] component (CONF:81-7124) such that it SHALL contain exactly one [1..1] Result Observation (identifier: urn:oid:2.16.840.1.113883.10.20.22.4.2) (CONF:81-14850).</sch:assert>
      <sch:assert id="a-81-7127" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:81-7127).</sch:assert>
      <sch:assert id="a-81-7128" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:81-7128).</sch:assert>
      <sch:assert id="a-81-14848" test="cda:statusCode[@code and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.11.20.9.39']/voc:code/@value]">This statusCode SHALL contain exactly one [1..1] @code, which SHALL be selected from ValueSet Result Status urn:oid:2.16.840.1.113883.11.20.9.39 STATIC (CONF:81-14848).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.1-errors" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.1']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.1-errors-abstract" />
      <sch:assert id="a-81-7126" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.1'])=1">SHALL contain exactly one [1..1] templateId (CONF:81-7126) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.1" (CONF:81-9134).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.2-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.2-errors-abstract" abstract="true">
      <sch:assert id="a-81-7130" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:81-7130).</sch:assert>
      <sch:assert id="a-81-7131" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:81-7131).</sch:assert>
      <sch:assert id="a-81-7133" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:81-7133).</sch:assert>
      <sch:assert id="a-81-7134" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:81-7134).</sch:assert>
      <sch:assert id="a-81-7137" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:81-7137).</sch:assert>
      <sch:assert id="a-81-7140" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:81-7140).</sch:assert>
      <sch:assert id="a-81-7143" test="count(cda:value)=1">SHALL contain exactly one [1..1] value (CONF:81-7143).</sch:assert>
      <sch:assert id="a-81-7151" test="not(cda:referenceRange) or cda:referenceRange[count(cda:observationRange)=1]">The referenceRange, if present, SHALL contain exactly one [1..1] observationRange (CONF:81-7151).</sch:assert>
      <sch:assert id="a-81-7152-c" test="not(cda:referenceRange/cda:observationRange/cda:code)">This observationRange SHALL NOT contain [0..0] code (CONF:81-7152).</sch:assert>
      <sch:assert id="a-81-14849" test="cda:statusCode[@code and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.11.20.9.39']/voc:code/@value]">This statusCode SHALL contain exactly one [1..1] @code, which SHALL be selected from ValueSet Result Status urn:oid:2.16.840.1.113883.11.20.9.39 STATIC (CONF:81-14849).</sch:assert>
      <sch:assert id="a-81-15926-c" test="count(cda:text/cda:reference[@value])=0 or starts-with(cda:text/cda:reference/@value, '#')">This reference/@value SHALL begin with a '#' and SHALL point to its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1) (CONF:81-15926).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.2-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.2']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.2-errors-abstract" />
      <sch:assert id="a-81-7136" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.2'])=1">SHALL contain exactly one [1..1] templateId (CONF:81-7136) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.2" (CONF:81-9138).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.27-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.27-errors-abstract" abstract="true">
      <sch:assert id="a-81-7297" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:81-7297).</sch:assert>
      <sch:assert id="a-81-7298" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:81-7298).</sch:assert>
      <sch:assert id="a-81-7300" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:81-7300).</sch:assert>
      <sch:assert id="a-81-7301" test="count(cda:code)=1">SHALL contain exactly one [1..1] code, which SHOULD be selected from ValueSet Vital Sign Result Type urn:oid:2.16.840.1.113883.3.88.12.80.62 DYNAMIC (CONF:81-7301).</sch:assert>
      <sch:assert id="a-81-7303" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:81-7303).</sch:assert>
      <sch:assert id="a-81-7304" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:81-7304).</sch:assert>
      <sch:assert id="a-81-7305" test="count(cda:value[@xsi:type='PQ'])=1">SHALL contain exactly one [1..1] value with @xsi:type="PQ" (CONF:81-7305).</sch:assert>
      <sch:assert id="a-81-15945-c" test="count(cda:text/cda:reference[@value])=0 or starts-with(cda:text/cda:reference/@value, '#')">This reference/@value SHALL begin with a '#' and SHALL point to its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1) (CONF:81-15945).</sch:assert>
      <sch:assert id="a-81-19119" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:81-19119).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.27-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.27']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.27-errors-abstract" />
      <sch:assert id="a-81-7299" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.27'])=1">SHALL contain exactly one [1..1] templateId (CONF:81-7299) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.27" (CONF:81-10527).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.9-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.9-errors-abstract" abstract="true">
      <sch:assert id="a-81-7325" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:81-7325).</sch:assert>
      <sch:assert id="a-81-7326" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:81-7326).</sch:assert>
      <sch:assert id="a-81-7328" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:81-7328).</sch:assert>
      <sch:assert id="a-81-7329" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:81-7329).</sch:assert>
      <sch:assert id="a-81-7335" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHALL be selected from ValueSet Problem urn:oid:2.16.840.1.113883.3.88.12.3221.7.4 DYNAMIC (CONF:81-7335).</sch:assert>
      <sch:assert id="a-81-15919-c" test="count(cda:text/cda:reference[@value])=0 or starts-with(cda:text/cda:reference/@value, '#')">This reference/@value SHALL begin with a '#' and SHALL point to its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1) (CONF:81-15919).</sch:assert>
      <sch:assert id="a-81-16851" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:81-16851).</sch:assert>
      <sch:assert id="a-81-19114" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:81-19114).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.9-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.9']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.9-errors-abstract" />
      <sch:assert id="a-81-7323" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.9'])=1">SHALL contain exactly one [1..1] templateId (CONF:81-7323) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.9" (CONF:81-10523).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.8-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.8-errors-abstract" abstract="true">
      <sch:assert id="a-81-7345" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:81-7345).</sch:assert>
      <sch:assert id="a-81-7346" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:81-7346).</sch:assert>
      <sch:assert id="a-81-7352" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:81-7352).</sch:assert>
      <sch:assert id="a-81-7356" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHALL be selected from ValueSet Severity urn:oid:2.16.840.1.113883.3.88.12.3221.6.8 DYNAMIC (CONF:81-7356).</sch:assert>
      <sch:assert id="a-81-15930-c" test="count(cda:text/cda:reference[@value])=0 or starts-with(cda:text/cda:reference/@value, '#')">This reference/@value SHALL begin with a '#' and SHALL point to its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1) (CONF:81-15930).</sch:assert>
      <sch:assert id="a-81-19115" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:81-19115).</sch:assert>
      <sch:assert id="a-81-19168" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:81-19168).</sch:assert>
      <sch:assert id="a-81-19169" test="cda:code[@code='SEV' and @codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @code="SEV" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4 STATIC) (CONF:81-19169).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.8-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.8']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.8-errors-abstract" />
      <sch:assert id="a-81-7347" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.8'])=1">SHALL contain exactly one [1..1] templateId (CONF:81-7347) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.8" (CONF:81-10525).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.6-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.6-errors-abstract" abstract="true">
      <sch:assert id="a-81-7357" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:81-7357).</sch:assert>
      <sch:assert id="a-81-7358" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:81-7358).</sch:assert>
      <sch:assert id="a-81-7364" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:81-7364).</sch:assert>
      <sch:assert id="a-81-7365" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHALL be selected from ValueSet Problem Status urn:oid:2.16.840.1.113883.3.88.12.80.68 DYNAMIC (CONF:81-7365).</sch:assert>
      <sch:assert id="a-81-15594" test="not(cda:text/cda:reference) or cda:text/cda:reference[@value]">The reference, if present, SHALL contain exactly one [1..1] @value (CONF:81-15594).</sch:assert>
      <sch:assert id="a-81-15595-c" test="count(cda:text/cda:reference[@value])=0 or starts-with(cda:text/cda:reference/@value, '#')">This reference/@value SHALL begin with a '#' and SHALL point to its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1) (CONF:81-15595).</sch:assert>
      <sch:assert id="a-81-19113" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:81-19113).</sch:assert>
      <sch:assert id="a-81-19162" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:81-19162).</sch:assert>
      <sch:assert id="a-81-19163" test="cda:code[@code='33999-4' and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code="33999-4" Status (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1 STATIC) (CONF:81-19163).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.6-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.6']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.6-errors-abstract" />
      <sch:assert id="a-81-7359" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.6'])=1">SHALL contain exactly one [1..1] templateId (CONF:81-7359) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.6" (CONF:81-10518).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.25-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.25-errors-abstract" abstract="true" />
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.25-errors" context="cda:criterion[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.25']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.25-errors-abstract" />
      <sch:assert id="a-81-7372" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.25'])=1">SHALL contain exactly one [1..1] templateId (CONF:81-7372) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.25" (CONF:81-10517).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.20-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.20-errors-abstract" abstract="true">
      <sch:assert id="a-81-7391" test="@classCode='ACT'">SHALL contain exactly one [1..1] @classCode="ACT" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:81-7391).</sch:assert>
      <sch:assert id="a-81-7392" test="@moodCode='INT'">SHALL contain exactly one [1..1] @moodCode="INT" (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:81-7392).</sch:assert>
      <sch:assert id="a-81-7396" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:81-7396).</sch:assert>
      <sch:assert id="a-81-15579-c" test="count(cda:text/cda:reference[@value])=0 or starts-with(cda:text/cda:reference/@value, '#')">This @value SHALL begin with a '#' and SHALL point to its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1) (CONF:81-15579).</sch:assert>
      <sch:assert id="a-81-16884" test="count(cda:code)=1">SHALL contain exactly one [1..1] code, which SHOULD be selected from ValueSet Patient Education urn:oid:2.16.840.1.113883.11.20.9.34 DYNAMIC (CONF:81-16884).</sch:assert>
      <sch:assert id="a-81-19106" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:81-19106).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.20-errors" context="cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.20']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.20-errors-abstract" />
      <sch:assert id="a-81-7393" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.20'])=1">SHALL contain exactly one [1..1] templateId (CONF:81-7393) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.20" (CONF:81-10503).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.23-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.23-errors-abstract" abstract="true">
      <sch:assert id="a-81-7408" test="@classCode='MANU'">SHALL contain exactly one [1..1] @classCode="MANU" (CodeSystem: HL7RoleClass urn:oid:2.16.840.1.113883.5.110 STATIC) (CONF:81-7408).</sch:assert>
      <sch:assert id="a-81-7411" test="count(cda:manufacturedMaterial)=1">SHALL contain exactly one [1..1] manufacturedMaterial (CONF:81-7411).</sch:assert>
      <sch:assert id="a-81-7412" test="cda:manufacturedMaterial[count(cda:code)=1]">This manufacturedMaterial SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet Medication Clinical Drug urn:oid:2.16.840.1.113762.1.4.1010.4 DYNAMIC (CONF:81-7412).</sch:assert>
      <sch:assert id="a-81-15988-c" test="count(cda:manufacturedMaterial/cda:code/cda:originalText/cda:reference[@value])=0 or starts-with(cda:manufacturedMaterial/cda:code/cda:originalText/cda:reference/@value, '#')">This reference/@value SHALL begin with a '#' and SHALL point to its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1) (CONF:81-15988).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.23-errors" context="cda:manufacturedProduct[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.23']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.23-errors-abstract" />
      <sch:assert id="a-81-7409" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.23'])=1">SHALL contain exactly one [1..1] templateId (CONF:81-7409) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.23" (CONF:81-10506).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.17-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.17-errors-abstract" abstract="true">
      <sch:assert id="a-81-7427" test="@classCode='SPLY'">SHALL contain exactly one [1..1] @classCode="SPLY" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:81-7427).</sch:assert>
      <sch:assert id="a-81-7428" test="@moodCode='INT'">SHALL contain exactly one [1..1] @moodCode="INT" (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:81-7428).</sch:assert>
      <sch:assert id="a-81-7430" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:81-7430).</sch:assert>
      <sch:assert id="a-81-7432" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:81-7432).</sch:assert>
      <sch:assert id="a-81-7444" test="not(cda:entryRelationship) or cda:entryRelationship[@typeCode='SUBJ']">The entryRelationship, if present, SHALL contain exactly one [1..1] @typeCode="SUBJ" (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:81-7444).</sch:assert>
      <sch:assert id="a-81-7445" test="not(cda:entryRelationship) or cda:entryRelationship[@inversionInd='true']">The entryRelationship, if present, SHALL contain exactly one [1..1] @inversionInd="true" True (CONF:81-7445).</sch:assert>
      <sch:assert id="a-81-16095" test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.20']])=1]">The entryRelationship, if present, SHALL contain exactly one [1..1] Instructions (identifier: urn:oid:2.16.840.1.113883.10.20.22.4.20) (CONF:81-16095).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.17-errors" context="cda:supply[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.17']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.17-errors-abstract" />
      <sch:assert id="a-81-7429" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.17'])=1">SHALL contain exactly one [1..1] templateId (CONF:81-7429) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.17" (CONF:81-10507).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.18-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.18-errors-abstract" abstract="true">
      <sch:assert id="a-81-7451" test="@classCode='SPLY'">SHALL contain exactly one [1..1] @classCode="SPLY" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:81-7451).</sch:assert>
      <sch:assert id="a-81-7452" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:81-7452).</sch:assert>
      <sch:assert id="a-81-7454" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:81-7454).</sch:assert>
      <sch:assert id="a-81-7455" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode, which SHALL be selected from ValueSet Medication Fill Status urn:oid:2.16.840.1.113883.3.88.12.80.64 DYNAMIC (CONF:81-7455).</sch:assert>
      <sch:assert id="a-81-7467" test="not(cda:performer) or cda:performer[count(cda:assignedEntity)=1]">The performer, if present, SHALL contain exactly one [1..1] assignedEntity (CONF:81-7467).</sch:assert>
      <sch:assert id="a-81-9333-c" test="cda:product/cda:manufacturedProduct[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.23' or cda:templateId/@root='2.16.840.1.113883.10.20.22.4.54']">A supply act SHALL contain one product/Medication Information or one product/Immunization Medication Information template (CONF:81-9333).</sch:assert>
      <sch:assert id="a-81-10565-c" test="not(cda:performer/cda:assignedEntity/cda:addr) or count(cda:performer/cda:assignedEntity/cda:addr[not(count(cda:city)=1 and count(cda:streetAddressLine)&gt;=1 and count(cda:streetAddressLine)&lt;=4 and (cda:country!='US' or (count(cda:state)=1 and count(cda:postalCode)=1)))])=0">The content of addr SHALL be a conformant US Realm Address (AD.US.FIELDED) (2.16.840.1.113883.10.20.22.5.2) (CONF:81-10565).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.18-errors" context="cda:supply[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.18']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.18-errors-abstract" />
      <sch:assert id="a-81-7453" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.18'])=1">SHALL contain exactly one [1..1] templateId (CONF:81-7453) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.18" (CONF:81-10505).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.19-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.19-errors-abstract" abstract="true">
      <sch:assert id="a-81-7480" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:81-7480).</sch:assert>
      <sch:assert id="a-81-7481" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:81-7481).</sch:assert>
      <sch:assert id="a-81-7483" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:81-7483).</sch:assert>
      <sch:assert id="a-81-7487" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:81-7487).</sch:assert>
      <sch:assert id="a-81-16886" test="count(cda:code)=1">SHALL contain exactly one [1..1] code, which SHOULD be selected from ValueSet Problem Type (SNOMEDCT) urn:oid:2.16.840.1.113883.3.88.12.3221.7.2 STATIC 2012-06-01 (CONF:81-16886).</sch:assert>
      <sch:assert id="a-81-19105" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:81-19105).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.19-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.19']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.19-errors-abstract" />
      <sch:assert id="a-81-7482" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.19'])=1">SHALL contain exactly one [1..1] templateId (CONF:81-7482) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.19" (CONF:81-10502).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.24-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.24-errors-abstract" abstract="true">
      <sch:assert id="a-81-7490" test="@classCode='MANU'">SHALL contain exactly one [1..1] @classCode="MANU" (CodeSystem: HL7RoleClass urn:oid:2.16.840.1.113883.5.110 STATIC) (CONF:81-7490).</sch:assert>
      <sch:assert id="a-81-7492" test="count(cda:playingEntity)=1">SHALL contain exactly one [1..1] playingEntity (CONF:81-7492).</sch:assert>
      <sch:assert id="a-81-7493" test="cda:playingEntity[count(cda:code)=1]">This playingEntity SHALL contain exactly one [1..1] code (CONF:81-7493).</sch:assert>
      <sch:assert id="a-81-19137" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:81-19137).</sch:assert>
      <sch:assert id="a-81-19138" test="cda:code[@code='412307009']">This code SHALL contain exactly one [1..1] @code="412307009" Drug Vehicle (CONF:81-19138).</sch:assert>
      <sch:assert id="a-81-26502" test="cda:code[@codeSystem='2.16.840.1.113883.6.96']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.96" (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96) (CONF:81-26502).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.24-errors" context="cda:participantRole[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.24']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.24-errors-abstract" />
      <sch:assert id="a-81-7495" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.24'])=1">SHALL contain exactly one [1..1] templateId (CONF:81-7495) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.24" (CONF:81-10493).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.14-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.14-errors-abstract" abstract="true">
      <sch:assert id="a-81-7652" test="@classCode='PROC'">SHALL contain exactly one [1..1] @classCode="PROC" Procedure (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:81-7652).</sch:assert>
      <sch:assert id="a-81-7653" test="@moodCode and @moodCode=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.11.20.9.18']/voc:code/@value">SHALL contain exactly one [1..1] @moodCode, which SHALL be selected from ValueSet MoodCodeEvnInt urn:oid:2.16.840.1.113883.11.20.9.18 STATIC 2011-04-03 (CONF:81-7653).</sch:assert>
      <sch:assert id="a-81-7655" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:81-7655).</sch:assert>
      <sch:assert id="a-81-7656" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:81-7656).</sch:assert>
      <sch:assert id="a-81-7661" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode, which SHALL be selected from ValueSet ProcedureAct statusCode urn:oid:2.16.840.1.113883.11.20.9.22 DYNAMIC (CONF:81-7661).</sch:assert>
      <sch:assert id="a-81-7704" test="not(cda:specimen) or cda:specimen[count(cda:specimenRole)=1]">The specimen, if present, SHALL contain exactly one [1..1] specimenRole (CONF:81-7704).</sch:assert>
      <sch:assert id="a-81-16082" test="not(cda:targetSiteCode) or cda:targetSiteCode[@code]">The targetSiteCode, if present, SHALL contain exactly one [1..1] @code, which SHALL be selected from ValueSet Body Site Value Set urn:oid:2.16.840.1.113883.3.88.12.3221.8.9 DYNAMIC (CONF:81-16082).</sch:assert>
      <sch:assert id="a-81-16842-c" test="not(tested)">This specimen is for representing specimens obtained from a procedure (CONF:81-16842).</sch:assert>
      <sch:assert id="a-81-19206-c" test="count(cda:code/cda:originalText/cda:reference[@value])=0 or starts-with(cda:code/cda:originalText/cda:reference/@value, '#')">This reference/@value SHALL begin with a '#' and SHALL point to its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1) (CONF:81-19206).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.14-errors" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.14']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.14-errors-abstract" />
      <sch:assert id="a-81-7654" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.14'])=1">SHALL contain exactly one [1..1] templateId (CONF:81-7654) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.14" (CONF:81-10521).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.14-7718-branch-7718-errors-abstract" abstract="true">
      <sch:assert id="a-81-7736-branch-7718" test="not(cda:assignedEntity/cda:representedOrganization) or cda:assignedEntity/cda:representedOrganization[count(cda:addr)=1]">The representedOrganization, if present, SHALL contain exactly one [1..1] addr (CONF:81-7736).</sch:assert>
      <sch:assert id="a-81-7737-branch-7718" test="not(cda:assignedEntity/cda:representedOrganization) or cda:assignedEntity/cda:representedOrganization[count(cda:telecom)=1]">The representedOrganization, if present, SHALL contain exactly one [1..1] telecom (CONF:81-7737).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.14-7718-branch-7718-errors" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.14']]/cda:performer[cda:assignedEntity[cda:id][cda:addr][cda:telecom]]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.14-7718-branch-7718-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.31-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.31-errors-abstract" abstract="true">
      <sch:assert id="a-81-7613" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:81-7613).</sch:assert>
      <sch:assert id="a-81-7614" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:81-7614).</sch:assert>
      <sch:assert id="a-81-7615" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:81-7615).</sch:assert>
      <sch:assert id="a-81-7617" test="count(cda:value[@xsi:type='PQ'])=1">SHALL contain exactly one [1..1] value with @xsi:type="PQ" (CONF:81-7617).</sch:assert>
      <sch:assert id="a-81-7618" test="cda:value[@xsi:type='PQ'][@unit]">This value SHALL contain exactly one [1..1] @unit, which SHALL be selected from ValueSet AgePQ_UCUM urn:oid:2.16.840.1.113883.11.20.9.21 DYNAMIC (CONF:81-7618).</sch:assert>
      <sch:assert id="a-81-15965" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:81-15965).</sch:assert>
      <sch:assert id="a-81-15966" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:81-15966).</sch:assert>
      <sch:assert id="a-81-16776" test="cda:code[@code='445518008']">This code SHALL contain exactly one [1..1] @code="445518008" Age At Onset (CONF:81-16776).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.31-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.31']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.31-errors-abstract" />
      <sch:assert id="a-81-7899" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.31'])=1">SHALL contain exactly one [1..1] templateId (CONF:81-7899) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.31" (CONF:81-10487).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.32-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.32-errors-abstract" abstract="true">
      <sch:assert id="a-81-7758" test="@classCode='SDLOC'">SHALL contain exactly one [1..1] @classCode="SDLOC" (CodeSystem: HL7RoleCode urn:oid:2.16.840.1.113883.5.111 STATIC) (CONF:81-7758).</sch:assert>
      <sch:assert id="a-81-7763" test="not(cda:playingEntity) or cda:playingEntity[@classCode='PLC']">The playingEntity, if present, SHALL contain exactly one [1..1] @classCode="PLC" (CodeSystem: HL7EntityClass urn:oid:2.16.840.1.113883.5.41 STATIC) (CONF:81-7763).</sch:assert>
      <sch:assert id="a-81-16850" test="count(cda:code)=1">SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet HealthcareServiceLocation urn:oid:2.16.840.1.113883.1.11.20275 DYNAMIC (CONF:81-16850).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.32-errors" context="cda:participantRole[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.32']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.32-errors-abstract" />
      <sch:assert id="a-81-7635" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.32'])=1">SHALL contain exactly one [1..1] templateId (CONF:81-7635) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.32" (CONF:81-10524).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.4-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-errors-abstract" abstract="true">
      <sch:assert id="a-81-9041" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:81-9041).</sch:assert>
      <sch:assert id="a-81-9042" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:81-9042).</sch:assert>
      <sch:assert id="a-81-9043" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:81-9043).</sch:assert>
      <sch:assert id="a-81-9045" test="count(cda:code)=1">SHALL contain exactly one [1..1] code, which SHOULD be selected from ValueSet Problem Type (SNOMEDCT) urn:oid:2.16.840.1.113883.3.88.12.3221.7.2 STATIC 2012-06-01 (CONF:81-9045).</sch:assert>
      <sch:assert id="a-81-9049" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:81-9049).</sch:assert>
      <sch:assert id="a-81-9058-c" test="count(cda:value[@xsi:type='CD' or @xsi:type='CE' or @xsi:type='CV' or @xsi:type='CS' or @xsi:type='CO' or @xsi:type='PQR' or @xsi:type='event' or @xsi:type='SXCM_CD' or @xsi:type='HXIT_CE' or @xsi:type='BXIT_CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHOULD be selected from ValueSet Problem urn:oid:2.16.840.1.113883.3.88.12.3221.7.4 DYNAMIC (CONF:81-9058).</sch:assert>
      <sch:assert id="a-81-15588" test="not(cda:text/cda:reference) or cda:text/cda:reference[@value]">The reference, if present, SHALL contain exactly one [1..1] @value (CONF:81-15588).</sch:assert>
      <sch:assert id="a-81-15589-c" test="count(cda:text/cda:reference[@value])=0 or starts-with(cda:text/cda:reference/@value, '#')">This reference/@value SHALL begin with a '#' and SHALL point to its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1) (CONF:81-15589).</sch:assert>
      <sch:assert id="a-81-15603" test="not(cda:effectiveTime) or cda:effectiveTime[count(cda:low)=1]">The effectiveTime, if present, SHALL contain exactly one [1..1] low (CONF:81-15603).</sch:assert>
      <sch:assert id="a-81-19112" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:81-19112).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-errors-abstract" />
      <sch:assert id="a-81-14926" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1">SHALL contain exactly one [1..1] templateId (CONF:81-14926) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:81-14927).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.37-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.37-errors-abstract" abstract="true">
      <sch:assert id="a-81-7900" test="@classCode='MANU'">SHALL contain exactly one [1..1] @classCode="MANU" Manufactured Product (CodeSystem: HL7RoleClass urn:oid:2.16.840.1.113883.5.110 STATIC) (CONF:81-7900).</sch:assert>
      <sch:assert id="a-81-7902" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:81-7902).</sch:assert>
      <sch:assert id="a-81-7903" test="count(cda:playingDevice)=1">SHALL contain exactly one [1..1] playingDevice (CONF:81-7903).</sch:assert>
      <sch:assert id="a-81-7905" test="count(cda:scopingEntity)=1">SHALL contain exactly one [1..1] scopingEntity (CONF:81-7905).</sch:assert>
      <sch:assert id="a-81-7908" test="cda:scopingEntity[count(cda:id) &gt; 0]">This scopingEntity SHALL contain at least one [1..*] id (CONF:81-7908).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.37-errors" context="cda:participantRole[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.37']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.37-errors-abstract" />
      <sch:assert id="a-81-7901" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.37'])=1">SHALL contain exactly one [1..1] templateId (CONF:81-7901) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.37" (CONF:81-10522).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.12-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.12-errors-abstract" abstract="true">
      <sch:assert id="a-81-8289" test="@classCode='ACT'">SHALL contain exactly one [1..1] @classCode="ACT" Act (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:81-8289).</sch:assert>
      <sch:assert id="a-81-8290" test="@moodCode and @moodCode=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.11.20.9.18']/voc:code/@value">SHALL contain exactly one [1..1] @moodCode, which SHALL be selected from ValueSet MoodCodeEvnInt urn:oid:2.16.840.1.113883.11.20.9.18 STATIC 2011-04-03 (CONF:81-8290).</sch:assert>
      <sch:assert id="a-81-8292" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:81-8292).</sch:assert>
      <sch:assert id="a-81-8293" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:81-8293).</sch:assert>
      <sch:assert id="a-81-8298" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode, which SHALL be selected from ValueSet ProcedureAct statusCode urn:oid:2.16.840.1.113883.11.20.9.22 DYNAMIC (CONF:81-8298).</sch:assert>
      <sch:assert id="a-81-8302" test="not(cda:performer) or cda:performer[count(cda:assignedEntity)=1]">The performer, if present, SHALL contain exactly one [1..1] assignedEntity (CONF:81-8302).</sch:assert>
      <sch:assert id="a-81-8303" test="not(cda:performer/cda:assignedEntity) or cda:performer/cda:assignedEntity[count(cda:id) &gt; 0]">This assignedEntity SHALL contain at least one [1..*] id (CONF:81-8303).</sch:assert>
      <sch:assert id="a-81-8304" test="not(cda:performer/cda:assignedEntity) or cda:performer/cda:assignedEntity[count(cda:addr) &gt; 0]">This assignedEntity SHALL contain at least one [1..*] addr (CONF:81-8304).</sch:assert>
      <sch:assert id="a-81-8305" test="not(cda:performer/cda:assignedEntity) or cda:performer/cda:assignedEntity[count(cda:telecom) &gt; 0]">This assignedEntity SHALL contain at least one [1..*] telecom (CONF:81-8305).</sch:assert>
      <sch:assert id="a-81-8309" test="not(cda:performer/cda:assignedEntity/cda:representedOrganization) or cda:performer/cda:assignedEntity/cda:representedOrganization[count(cda:addr) &gt; 0]">The representedOrganization, if present, SHALL contain at least one [1..*] addr (CONF:81-8309).</sch:assert>
      <sch:assert id="a-81-8310" test="not(cda:performer/cda:assignedEntity/cda:representedOrganization) or cda:performer/cda:assignedEntity/cda:representedOrganization[count(cda:telecom) &gt; 0]">The representedOrganization, if present, SHALL contain at least one [1..*] telecom (CONF:81-8310).</sch:assert>
      <sch:assert id="a-81-19189-c" test="count(cda:code/cda:originalText/cda:reference[@value])=0 or starts-with(cda:code/cda:originalText/cda:reference/@value, '#')">This reference/@value SHALL begin with a '#' and SHALL point to its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1) (CONF:81-19189).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.12-errors" context="cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.12']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.12-errors-abstract" />
      <sch:assert id="a-81-8291" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.12'])=1">SHALL contain exactly one [1..1] templateId (CONF:81-8291) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.12" (CONF:81-10519).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.13-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.13-errors-abstract" abstract="true">
      <sch:assert id="a-81-8237" test="@moodCode and @moodCode=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.11.20.9.18']/voc:code/@value">SHALL contain exactly one [1..1] @moodCode, which SHALL be selected from ValueSet MoodCodeEvnInt urn:oid:2.16.840.1.113883.11.20.9.18 STATIC 2011-04-03 (CONF:81-8237).</sch:assert>
      <sch:assert id="a-81-8239" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:81-8239).</sch:assert>
      <sch:assert id="a-81-8245" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode, which SHALL be selected from ValueSet ProcedureAct statusCode urn:oid:2.16.840.1.113883.11.20.9.22 DYNAMIC (CONF:81-8245).</sch:assert>
      <sch:assert id="a-81-8252" test="not(cda:performer) or cda:performer[count(cda:assignedEntity)=1]">The performer, if present, SHALL contain exactly one [1..1] assignedEntity (CONF:81-8252).</sch:assert>
      <sch:assert id="a-81-8253" test="not(cda:performer/cda:assignedEntity) or cda:performer/cda:assignedEntity[count(cda:id) &gt; 0]">This assignedEntity SHALL contain at least one [1..*] id (CONF:81-8253).</sch:assert>
      <sch:assert id="a-81-8254" test="not(cda:performer/cda:assignedEntity) or cda:performer/cda:assignedEntity[count(cda:addr) &gt; 0]">This assignedEntity SHALL contain at least one [1..*] addr (CONF:81-8254).</sch:assert>
      <sch:assert id="a-81-8255" test="not(cda:performer/cda:assignedEntity) or cda:performer/cda:assignedEntity[count(cda:telecom) &gt; 0]">This assignedEntity SHALL contain at least one [1..*] telecom (CONF:81-8255).</sch:assert>
      <sch:assert id="a-81-8259" test="not(cda:performer/cda:assignedEntity/cda:representedOrganization) or cda:performer/cda:assignedEntity/cda:representedOrganization[count(cda:addr)=1]">The representedOrganization, if present, SHALL contain exactly one [1..1] addr (CONF:81-8259).</sch:assert>
      <sch:assert id="a-81-8260" test="not(cda:performer/cda:assignedEntity/cda:representedOrganization) or cda:performer/cda:assignedEntity/cda:representedOrganization[count(cda:telecom)=1]">The representedOrganization, if present, SHALL contain exactly one [1..1] telecom (CONF:81-8260).</sch:assert>
      <sch:assert id="a-81-8262" test="not(cda:participant) or cda:participant[@typeCode='LOC']">The participant, if present, SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:81-8262).</sch:assert>
      <sch:assert id="a-81-8282" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:81-8282).</sch:assert>
      <sch:assert id="a-81-15904" test="not(cda:participant) or cda:participant[count(cda:participantRole[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.32']])=1]">The participant, if present, SHALL contain exactly one [1..1] Service Delivery Location (identifier: urn:oid:2.16.840.1.113883.10.20.22.4.32) (CONF:81-15904).</sch:assert>
      <sch:assert id="a-81-16071" test="not(cda:targetSiteCode) or cda:targetSiteCode[@code]">The targetSiteCode, if present, SHALL contain exactly one [1..1] @code, which SHALL be selected from ValueSet Body Site Value Set urn:oid:2.16.840.1.113883.3.88.12.3221.8.9 DYNAMIC (CONF:81-16071).</sch:assert>
      <sch:assert id="a-81-16846" test="count(cda:value)=1">SHALL contain exactly one [1..1] value (CONF:81-16846).</sch:assert>
      <sch:assert id="a-81-19197" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:81-19197).</sch:assert>
      <sch:assert id="a-81-19201-c" test="count(cda:code/cda:originalText/cda:reference[@value])=0 or starts-with(cda:code/cda:originalText/cda:reference/@value, '#')">This reference/@value SHALL begin with a '#' and SHALL point to its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1) (CONF:81-19201).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.13-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.13']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.13-errors-abstract" />
      <sch:assert id="a-81-8238" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.13'])=1">SHALL contain exactly one [1..1] templateId (CONF:81-8238) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.13" (CONF:81-10520).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.49-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.49-errors-abstract" abstract="true">
      <sch:assert id="a-81-8710" test="@classCode='ENC'">SHALL contain exactly one [1..1] @classCode="ENC" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:81-8710).</sch:assert>
      <sch:assert id="a-81-8711" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:81-8711).</sch:assert>
      <sch:assert id="a-81-8712" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.49'])=1">SHALL contain exactly one [1..1] templateId (CONF:81-8712) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.49" (CONF:81-26353).</sch:assert>
      <sch:assert id="a-81-8713" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:81-8713).</sch:assert>
      <sch:assert id="a-81-8715" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:81-8715).</sch:assert>
      <sch:assert id="a-81-8726" test="not(cda:performer) or cda:performer[count(cda:assignedEntity)=1]">The performer, if present, SHALL contain exactly one [1..1] assignedEntity (CONF:81-8726).</sch:assert>
      <sch:assert id="a-81-15972-c" test="count(cda:code/cda:originalText/cda:reference[@value])=0 or starts-with(cda:code/cda:originalText/cda:reference/@value, '#')">This reference/@value SHALL begin with a '#' and SHALL point to its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1) (CONF:81-15972).</sch:assert>
      <sch:assert id="a-81-26511-c" test="not(tested)">The prefix sdtc: *SHALL* be bound to the namespace “urn:hl7-org:sdtc”. The use of the namespace provides a necessary extension to CDA R2 for the use of the dischargeDispositionCode element (CONF:81-26511).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.49-errors" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.49']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.49-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.54-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.54-errors-abstract" abstract="true">
      <sch:assert id="a-81-9002" test="@classCode='MANU'">SHALL contain exactly one [1..1] @classCode="MANU" (CodeSystem: HL7RoleClass urn:oid:2.16.840.1.113883.5.110 STATIC) (CONF:81-9002).</sch:assert>
      <sch:assert id="a-81-9006" test="count(cda:manufacturedMaterial)=1">SHALL contain exactly one [1..1] manufacturedMaterial (CONF:81-9006).</sch:assert>
      <sch:assert id="a-81-9007" test="cda:manufacturedMaterial[count(cda:code)=1]">This manufacturedMaterial SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet Vaccine Administered Value Set urn:oid:2.16.840.1.113883.3.88.12.80.22 DYNAMIC (CONF:81-9007).</sch:assert>
      <sch:assert id="a-81-15557-c" test="count(cda:manufacturedMaterial/cda:code/cda:originalText/cda:reference[@value])=0 or starts-with(cda:manufacturedMaterial/cda:code/cda:originalText/cda:reference/@value, '#')">This reference/@value SHALL begin with a '#' and SHALL point to its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1) (CONF:81-15557).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.54-errors" context="cda:manufacturedProduct[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.54']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.54-errors-abstract" />
      <sch:assert id="a-81-9004" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.54'])=1">SHALL contain exactly one [1..1] templateId (CONF:81-9004) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.54" (CONF:81-10499).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.5-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.5-errors-abstract" abstract="true">
      <sch:assert id="a-81-9057" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:81-9057).</sch:assert>
      <sch:assert id="a-81-9072" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:81-9072).</sch:assert>
      <sch:assert id="a-81-9074" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:81-9074).</sch:assert>
      <sch:assert id="a-81-9075" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHALL be selected from ValueSet HealthStatus urn:oid:2.16.840.1.113883.1.11.20.12 DYNAMIC (CONF:81-9075).</sch:assert>
      <sch:assert id="a-81-15531-c" test="count(cda:text/cda:reference[@value])=0 or starts-with(cda:text/cda:reference/@value, '#')">SHALL begin with a '#' and SHALL point to its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1) (CONF:81-15531).</sch:assert>
      <sch:assert id="a-81-19103" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:81-19103).</sch:assert>
      <sch:assert id="a-81-19143" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:81-19143).</sch:assert>
      <sch:assert id="a-81-19144" test="cda:code[@code='11323-3' and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code="11323-3" Health status (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1 STATIC) (CONF:81-19144).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.5-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.5']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.5-errors-abstract" />
      <sch:assert id="a-81-16756" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.5'])=1">SHALL contain exactly one [1..1] templateId (CONF:81-16756) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.5" (CONF:81-16757).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.5-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.5-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-81-794-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.22.4.5'])=0">'urn:oid:2.16.840.1.113883.10.20.22.4.5' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.5-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.5']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.5-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.79-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.79-errors-abstract" abstract="true">
      <sch:assert id="a-81-14851" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:81-14851).</sch:assert>
      <sch:assert id="a-81-14852" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:81-14852).</sch:assert>
      <sch:assert id="a-81-14853" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:81-14853).</sch:assert>
      <sch:assert id="a-81-14854" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:81-14854).</sch:assert>
      <sch:assert id="a-81-14855" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:81-14855).</sch:assert>
      <sch:assert id="a-81-14857" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:81-14857).</sch:assert>
      <sch:assert id="a-81-14873" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:81-14873).</sch:assert>
      <sch:assert id="a-81-14874" test="cda:effectiveTime[count(cda:low)=1]">This effectiveTime SHALL contain exactly one [1..1] low (CONF:81-14874).</sch:assert>
      <sch:assert id="a-81-15142" test="cda:value[@xsi:type='CD'][@code='419099009']">This value SHALL contain exactly one [1..1] @code="419099009" Dead (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96 STATIC) (CONF:81-15142).</sch:assert>
      <sch:assert id="a-81-19095" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:81-19095).</sch:assert>
      <sch:assert id="a-81-19135" test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4 STATIC) (CONF:81-19135).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.79-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.79']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.79-errors-abstract" />
      <sch:assert id="a-81-14871" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.79'])=1">SHALL contain exactly one [1..1] templateId (CONF:81-14871) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.79" (CONF:81-14872).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.80-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.80-errors-abstract" abstract="true">
      <sch:assert id="a-81-14889" test="@classCode='ACT'">SHALL contain exactly one [1..1] @classCode="ACT" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:81-14889).</sch:assert>
      <sch:assert id="a-81-14890" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:81-14890).</sch:assert>
      <sch:assert id="a-81-14892" test="count(cda:entryRelationship[@typeCode='SUBJ'][count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4']])=1]) &gt; 0">SHALL contain at least one [1..*] entryRelationship (CONF:81-14892) such that it SHALL contain exactly one [1..1] @typeCode="SUBJ" (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:81-14893). SHALL contain exactly one [1..1] Problem Observation (identifier: urn:oid:2.16.840.1.113883.10.20.22.4.4) (CONF:81-14898).</sch:assert>
      <sch:assert id="a-81-19182" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:81-19182).</sch:assert>
      <sch:assert id="a-81-19183" test="cda:code[@code='29308-4' and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code="29308-4" Diagnosis (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1 STATIC) (CONF:81-19183).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.80-errors" context="cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.80']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.80-errors-abstract" />
      <sch:assert id="a-81-14895" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.80'])=1">SHALL contain exactly one [1..1] templateId (CONF:81-14895) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.80" (CONF:81-14896).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.4.25-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.4.25-errors-abstract" abstract="true">
      <sch:assert id="a-86-18431" test="count(cda:realmCode)=1">SHALL contain exactly one [1..1] realmCode (CONF:86-18431).</sch:assert>
      <sch:assert id="a-86-18432" test="cda:realmCode[count(self::node()[@code='US'])=1]">This realmCode SHALL contain exactly one [1..1] @code="US" (CONF:86-18432).</sch:assert>
      <sch:assert id="a-86-18433" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-18433).</sch:assert>
      <sch:assert id="a-86-18434" test="cda:code[@code='51897-7']">This code SHALL contain exactly one [1..1] @code="51897-7" Healthcare Associated Infection Report (CONF:86-18434).</sch:assert>
      <sch:assert id="a-86-18435" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:86-18435).</sch:assert>
      <sch:assert id="a-86-18436" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:86-18436).</sch:assert>
      <sch:assert id="a-86-18437-c" test="count(cda:confidentialityCode)=1">SHALL contain exactly one [1..1] confidentialityCode (CONF:86-18437).</sch:assert>
      <sch:assert id="a-86-18438" test="cda:confidentialityCode[count(self::node()[@code='N'])=1]">This confidentialityCode SHALL contain exactly one [1..1] @code="N" Normal (CodeSystem: HL7Confidentiality urn:oid:2.16.840.1.113883.5.25 STATIC) (CONF:86-18438).</sch:assert>
      <sch:assert id="a-86-18439" test="count(cda:languageCode)=1">SHALL contain exactly one [1..1] languageCode (CONF:86-18439).</sch:assert>
      <sch:assert id="a-86-18440" test="cda:languageCode[@code='en-US']">This languageCode SHALL contain exactly one [1..1] @code="en-US" (CONF:86-18440).</sch:assert>
      <sch:assert id="a-86-18441" test="count(cda:setId)=1">SHALL contain exactly one [1..1] setId (CONF:86-18441).</sch:assert>
      <sch:assert id="a-86-18442" test="count(cda:versionNumber)=1">SHALL contain exactly one [1..1] versionNumber (CONF:86-18442).</sch:assert>
      <sch:assert id="a-86-18443" test="count(cda:custodian)=1">SHALL contain exactly one [1..1] custodian (CONF:86-18443).</sch:assert>
      <sch:assert id="a-86-18444" test="cda:custodian[count(cda:assignedCustodian)=1]">This custodian SHALL contain exactly one [1..1] assignedCustodian (CONF:86-18444).</sch:assert>
      <sch:assert id="a-86-18445" test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]">This assignedCustodian SHALL contain exactly one [1..1] representedCustodianOrganization (CONF:86-18445).</sch:assert>
      <sch:assert id="a-86-18446" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]">This representedCustodianOrganization SHALL contain exactly one [1..1] id (CONF:86-18446).</sch:assert>
      <sch:assert id="a-86-18447" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']">This id SHALL contain exactly one [1..1] @root="2.16.840.1.114222.4.3.2.11" (CONF:86-18447).</sch:assert>
      <sch:assert id="a-86-18448" test="count(cda:component)=1">SHALL contain exactly one [1..1] component (CONF:86-18448).</sch:assert>
      <sch:assert id="a-86-18449" test="cda:component[count(cda:structuredBody)=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:86-18449).</sch:assert>
      <sch:assert id="a-86-18450-c" test="not(tested)">The structuredBody element SHALL contain a component element for each section required by the particular report type. Additional sections may be present, but their content will not be processed by NHSN (CONF:86-18450).</sch:assert>
      <sch:assert id="a-86-18460" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-18460) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.25" (CONF:86-18461).</sch:assert>
      <sch:assert id="a-86-18463" test="count(cda:typeId)=1">SHALL contain exactly one [1..1] typeId (CONF:86-18463).</sch:assert>
      <sch:assert id="a-86-18464" test="cda:typeId[@root='2.16.840.1.113883.1.3']">This typeId SHALL contain exactly one [1..1] @root="2.16.840.1.113883.1.3" (CONF:86-18464).</sch:assert>
      <sch:assert id="a-86-18465" test="cda:typeId[@extension='POCD_HD000040']">This typeId SHALL contain exactly one [1..1] @extension="POCD_HD000040" (CONF:86-18465).</sch:assert>
      <sch:assert id="a-86-18466-c" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-18466).</sch:assert>
      <sch:assert id="a-86-18470" test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']">The relatedDocument, if present, SHALL contain exactly one [1..1] @typeCode="RPLC" replace (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-18470).</sch:assert>
      <sch:assert id="a-86-18471-c" test="cda:versionNumber/@value=1 or (cda:versionNumber/@value &gt; 1 and cda:relatedDocument[@typeCode=&quot;RPLC&quot;])">If versionNumber/@value is greater than 1, a relatedDocument element SHALL be present (CONF:86-18471).</sch:assert>
      <sch:assert id="a-86-18472-c" test="count(cda:recordTarget) &gt; 0">SHALL contain at least one [1..*] recordTarget (CONF:86-18472).</sch:assert>
      <sch:assert id="a-86-18473-c" test="count(cda:author) &gt; 0">SHALL contain at least one [1..*] author (CONF:86-18473).</sch:assert>
      <sch:assert id="a-86-18475-c" test="count(cda:component) &gt; 0">This structuredBody SHALL contain at least one [1..*] component (CONF:86-18475).</sch:assert>
      <sch:assert id="a-86-27413" test="cda:code[@codeSystem]">This code SHALL contain exactly one [1..1] @codeSystem (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:86-27413).</sch:assert>
      <sch:assert id="a-86-28401" test="not(cda:relatedDocument) or cda:relatedDocument[count(cda:parentDocument)=1]">The relatedDocument, if present, SHALL contain exactly one [1..1] parentDocument (CONF:86-28401).</sch:assert>
      <sch:assert id="a-86-28402" test="not(cda:relatedDocument/cda:parentDocument) or cda:relatedDocument/cda:parentDocument[count(cda:id) &gt; 0]">This parentDocument SHALL contain at least one [1..*] id (CONF:86-28402).</sch:assert>
      <sch:assert id="a-86-28403-c" test="not(tested)">The value of id SHALL be populated with the ClinicalDocument/id of the document being replaced (CONF:86-28403).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.4.25-errors" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.25-errors-abstract" />
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.4.25-18460-branch-18460-errors-abstract" abstract="true">
      <sch:assert id="a-86-18462-branch-18460" test="not(@extension)">SHALL NOT contain [0..0] @extension (CONF:86-18462).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.4.25-18460-branch-18460-errors" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25']]/cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25']">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.25-18460-branch-18460-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.112-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.112-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.16-errors-abstract" />
      <sch:assert id="a-86-19560" test="@classCode='SBADM'">SHALL contain exactly one [1..1] @classCode="SBADM" Substance administration (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-19560).</sch:assert>
      <sch:assert id="a-86-19561" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-19561).</sch:assert>
      <sch:assert id="a-86-19562" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:86-19562).</sch:assert>
      <sch:assert id="a-86-19563" test="count(cda:consumable)=1">SHALL contain exactly one [1..1] consumable (CONF:86-19563).</sch:assert>
      <sch:assert id="a-86-19572" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-19572).</sch:assert>
      <sch:assert id="a-86-19573" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-19573).</sch:assert>
      <sch:assert id="a-86-19574" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:86-19574).</sch:assert>
      <sch:assert id="a-86-19578" test="cda:consumable[count(cda:manufacturedProduct)=1]">This consumable SHALL contain exactly one [1..1] manufacturedProduct (CONF:86-19578).</sch:assert>
      <sch:assert id="a-86-19579" test="cda:consumable/cda:manufacturedProduct[count(cda:manufacturedMaterial)=1]">This manufacturedProduct SHALL contain exactly one [1..1] manufacturedMaterial (CONF:86-19579).</sch:assert>
      <sch:assert id="a-86-19580" test="cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial[count(cda:code)=1]">This manufacturedMaterial SHALL contain exactly one [1..1] code (CONF:86-19580).</sch:assert>
      <sch:assert id="a-86-19581" test="cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial/cda:code[@code='84451006']">This code SHALL contain exactly one [1..1] @code="84451006" General Anesthesia (CONF:86-19581).</sch:assert>
      <sch:assert id="a-86-19582" test="cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial/cda:code[@codeSystem='2.16.840.1.113883.6.96']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.96" (CONF:86-19582).</sch:assert>
      <sch:assert id="a-86-22720" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22720).</sch:assert>
      <sch:assert id="a-86-28201" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.16'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-28201) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.16" (CONF:86-28202).</sch:assert>
      <sch:assert id="a-86-19570" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.112'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-19570) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.112" (CONF:86-19571).</sch:assert>
      <sch:assert id="a-86-28331" test="count(cda:effectiveTime[@xsi:type='IVL_TS'])=1">SHALL contain exactly one [1..1] effectiveTime (CONF:86-28331).</sch:assert>
      <sch:assert id="a-86-28332" test="cda:effectiveTime[@xsi:type='IVL_TS'][count(cda:low)=1]">This effectiveTime SHALL contain exactly one [1..1] low (CONF:86-28332).</sch:assert>
      <sch:assert id="a-86-28333" test="cda:effectiveTime[@xsi:type='IVL_TS'][count(cda:high)=1]">This effectiveTime SHALL contain exactly one [1..1] high (CONF:86-28333).</sch:assert>
      <sch:assert id="a-86-28334" test="cda:consumable/cda:manufacturedProduct[count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.23'])=1]">This manufacturedProduct SHALL contain exactly one [1..1] templateId (CONF:86-28334) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.23" (CONF:86-28337).</sch:assert>
      <sch:assert id="a-86-28335" test="cda:effectiveTime[@xsi:type='IVL_TS']/cda:low[@nullFlavor='NA']">This low SHALL contain exactly one [1..1] @nullFlavor="NA" (CodeSystem: HL7NullFlavor urn:oid:2.16.840.1.113883.5.1008) (CONF:86-28335).</sch:assert>
      <sch:assert id="a-86-28336" test="cda:effectiveTime[@xsi:type='IVL_TS']/cda:high[@nullFlavor='NA']">This high SHALL contain exactly one [1..1] @nullFlavor="NA" (CodeSystem: HL7NullFlavor urn:oid:2.16.840.1.113883.5.1008) (CONF:86-28336).</sch:assert>
      <sch:assert id="a-86-28349" test="cda:consumable/cda:manufacturedProduct[@classCode='MANU']">This manufacturedProduct SHALL contain exactly one [1..1] @classCode="MANU" (CodeSystem: HL7RoleClass urn:oid:2.16.840.1.113883.5.110) (CONF:86-28349).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.112-errors" context="cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.112']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.112-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.112-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.112-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-1234-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.112' and @root != '2.16.840.1.113883.10.20.22.4.16' and @root != '2.16.840.1.113883.10.20.22.4.16'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.112' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.112-errors-CL" context="cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.112']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.112-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.113-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.113-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-errors-abstract" />
      <sch:assert id="a-86-19583" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-19583).</sch:assert>
      <sch:assert id="a-86-19584" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-19584).</sch:assert>
      <sch:assert id="a-86-19585-c" test="@negationInd='false'        or /cda:ClinicalDocument/cda:componentOf/cda:encompassingEncounter/cda:code[@code='AMB']">SHALL contain exactly one [1..1] @negationInd="false" (CONF:86-19585).</sch:assert>
      <sch:assert id="a-86-19586" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-19586).</sch:assert>
      <sch:assert id="a-86-19587" test="cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-19587).</sch:assert>
      <sch:assert id="a-86-19588" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-19588).</sch:assert>
      <sch:assert id="a-86-19589" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-19589).</sch:assert>
      <sch:assert id="a-86-19590" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHALL be selected from ValueSet NHSNASAClassCode urn:oid:2.16.840.1.113883.13.10 DYNAMIC (CONF:86-19590).</sch:assert>
      <sch:assert id="a-86-28213" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-28213) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:86-28214).</sch:assert>
      <sch:assert id="a-86-19596" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-19596).</sch:assert>
      <sch:assert id="a-86-22724" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22724).</sch:assert>
      <sch:assert id="a-86-19594" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.113'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-19594) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.113" (CONF:86-19595).</sch:assert>
      <sch:assert id="a-86-28370" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28370).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.113-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.113']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.113-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.113-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.113-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-1235-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.113' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.22.4.4'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.113' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.113-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.113']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.113-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.114-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.114-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-errors-abstract" />
      <sch:assert id="a-86-19597" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-19597).</sch:assert>
      <sch:assert id="a-86-19598" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-19598).</sch:assert>
      <sch:assert id="a-86-19599" test="@negationInd='false'">SHALL contain exactly one [1..1] @negationInd="false" (CONF:86-19599).</sch:assert>
      <sch:assert id="a-86-19600" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-19600).</sch:assert>
      <sch:assert id="a-86-19601" test="cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-19601).</sch:assert>
      <sch:assert id="a-86-19602" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-19602).</sch:assert>
      <sch:assert id="a-86-19603" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-19603).</sch:assert>
      <sch:assert id="a-86-19604" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHALL be selected from ValueSet NHSNBloodStreamInfectionEvidenceTypeCode urn:oid:2.16.840.1.113883.13.7 DYNAMIC (CONF:86-19604).</sch:assert>
      <sch:assert id="a-86-28215" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-28215) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:86-28216).</sch:assert>
      <sch:assert id="a-86-19610" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-19610).</sch:assert>
      <sch:assert id="a-86-22725" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22725).</sch:assert>
      <sch:assert id="a-86-19608" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.114'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-19608) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.114" (CONF:86-19609).</sch:assert>
      <sch:assert id="a-86-28371" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28371).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.114-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.114']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.114-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.114-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.114-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-1236-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.114' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.22.4.4'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.114' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.114-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.114']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.114-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.120-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.120-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.79-errors-abstract" />
      <sch:assert id="a-86-19611" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-19611).</sch:assert>
      <sch:assert id="a-86-19612" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-19612).</sch:assert>
      <sch:assert id="a-86-19613" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:86-19613).</sch:assert>
      <sch:assert id="a-86-19614" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-19614).</sch:assert>
      <sch:assert id="a-86-19615" test="cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-19615).</sch:assert>
      <sch:assert id="a-86-19616" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-19616).</sch:assert>
      <sch:assert id="a-86-19617" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-19617).</sch:assert>
      <sch:assert id="a-86-19618" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:86-19618).</sch:assert>
      <sch:assert id="a-86-19619" test="cda:value[@xsi:type='CD'][@code='419099009']">This value SHALL contain exactly one [1..1] @code="419099009" Dead (CONF:86-19619).</sch:assert>
      <sch:assert id="a-86-28223" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.79'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-28223) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.79" (CONF:86-28224).</sch:assert>
      <sch:assert id="a-86-19625" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-19625).</sch:assert>
      <sch:assert id="a-86-19626" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:86-19626).</sch:assert>
      <sch:assert id="a-86-19627" test="cda:effectiveTime[count(cda:low)=1]">This effectiveTime SHALL contain exactly one [1..1] low (CONF:86-19627).</sch:assert>
      <sch:assert id="a-86-22739" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22739).</sch:assert>
      <sch:assert id="a-86-22740" test="cda:effectiveTime/cda:low[@nullFlavor='NA']">This low SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22740).</sch:assert>
      <sch:assert id="a-86-23064" test="not(cda:entryRelationship) or cda:entryRelationship[@typeCode='CAUS']">The entryRelationship, if present, SHALL contain exactly one [1..1] @typeCode="CAUS" is etiology for (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002) (CONF:86-23064).</sch:assert>
      <sch:assert id="a-86-23065" test="not(cda:entryRelationship) or cda:entryRelationship[@inversionInd='true']">The entryRelationship, if present, SHALL contain exactly one [1..1] @inversionInd="true" (CONF:86-23065).</sch:assert>
      <sch:assert id="a-86-23066" test="not(cda:entryRelationship) or cda:entryRelationship[@negationInd]">The entryRelationship, if present, SHALL contain exactly one [1..1] @negationInd (CONF:86-23066).</sch:assert>
      <sch:assert id="a-86-23067-c" test="not(testable)">If the infection contributed to death, set the value of @negationInd to false. If the infection did not contribute to the death, set the value of @negationInd to true (CONF:86-23067).</sch:assert>
      <sch:assert id="a-86-23068" test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.136']])=1]">The entryRelationship, if present, SHALL contain exactly one [1..1] Infection Contributed to Death Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.136) (CONF:86-23068).</sch:assert>
      <sch:assert id="a-86-23069-c" test="not(testable)">If the patient died, an entryRelationship element SHALL be present and SHALL contain an Infection Contributed to Death Observation (CONF:86-23069).</sch:assert>
      <sch:assert id="a-86-19623" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.120'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-19623) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.120" (CONF:86-19624).</sch:assert>
      <sch:assert id="a-86-28353" test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.96']">This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.96" (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96) (CONF:86-28353).</sch:assert>
      <sch:assert id="a-86-28374" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28374).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.120-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.120']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.120-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.120-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.120-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-1237-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.120' and @root != '2.16.840.1.113883.10.20.22.4.79' and @root != '2.16.840.1.113883.10.20.22.4.79' and @root != '2.16.840.1.113883.10.20.5.6.136'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.120' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.120-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.120']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.120-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.121-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.121-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.79-errors-abstract" />
      <sch:assert id="a-86-19628" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-19628).</sch:assert>
      <sch:assert id="a-86-19629" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-19629).</sch:assert>
      <sch:assert id="a-86-19630" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-19630).</sch:assert>
      <sch:assert id="a-86-19631" test="cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-19631).</sch:assert>
      <sch:assert id="a-86-19632" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-19632).</sch:assert>
      <sch:assert id="a-86-19633" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-19633).</sch:assert>
      <sch:assert id="a-86-19634" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:86-19634).</sch:assert>
      <sch:assert id="a-86-19635" test="cda:value[@xsi:type='CD'][@code='419099009']">This value SHALL contain exactly one [1..1] @code="419099009" Dead (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96 STATIC) (CONF:86-19635).</sch:assert>
      <sch:assert id="a-86-28225" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.79'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-28225) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.79" (CONF:86-28226).</sch:assert>
      <sch:assert id="a-86-19641" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-19641).</sch:assert>
      <sch:assert id="a-86-19642" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:86-19642).</sch:assert>
      <sch:assert id="a-86-19643" test="cda:effectiveTime[count(cda:low)=1]">This effectiveTime SHALL contain exactly one [1..1] low (CONF:86-19643).</sch:assert>
      <sch:assert id="a-86-19646-c" test="not(tested)">If @negationInd is present then @nullFlavor SHALL NOT contain a value (CONF:86-19646).</sch:assert>
      <sch:assert id="a-86-19647-c" test="not(tested)">If @nullFlavor is present then @negationInd SHALL NOT contain a value (CONF:86-19647).</sch:assert>
      <sch:assert id="a-86-19648-c" test="not(tested-here)">SHALL contain either @nullFlavor or @negationInd, but SHALL NOT contain both (CONF:86-19648).</sch:assert>
      <sch:assert id="a-86-22742" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22742).</sch:assert>
      <sch:assert id="a-86-22743" test="cda:effectiveTime/cda:low[@nullFlavor='NA']">This low SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22743).</sch:assert>
      <sch:assert id="a-86-19639" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.121'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-19639) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.121" (CONF:86-19640).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.121-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.121']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.121-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.121-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.121-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-1238-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.121' and @root != '2.16.840.1.113883.10.20.22.4.79' and @root != '2.16.840.1.113883.10.20.22.4.79'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.121' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.121-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.121']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.121-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.174-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.174-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-errors-abstract" />
      <sch:assert id="a-86-19679" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-19679).</sch:assert>
      <sch:assert id="a-86-19680" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-19680).</sch:assert>
      <sch:assert id="a-86-19681" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-19681).</sch:assert>
      <sch:assert id="a-86-19682" test="cda:code[@code='420089007' and @codeSystem='2.16.840.1.113883.6.96']">This code SHALL contain exactly one [1..1] @code="420089007" CDC Wound Classification Category (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96 STATIC) (CONF:86-19682).</sch:assert>
      <sch:assert id="a-86-19683" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-19683).</sch:assert>
      <sch:assert id="a-86-19684" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-19684).</sch:assert>
      <sch:assert id="a-86-19685" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHALL be selected from ValueSet NHSNWoundClassCode urn:oid:2.16.840.1.113883.13.9 DYNAMIC (CONF:86-19685).</sch:assert>
      <sch:assert id="a-86-28299" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-28299) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:86-28300).</sch:assert>
      <sch:assert id="a-86-19691" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-19691).</sch:assert>
      <sch:assert id="a-86-22717" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22717).</sch:assert>
      <sch:assert id="a-86-19689" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.174'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-19689) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.174" (CONF:86-19690).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.174-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.174']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.174-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.174-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.174-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-1239-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.174' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.22.4.4'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.174' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.174-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.174']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.174-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.173-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.173-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.27-errors-abstract" />
      <sch:assert id="a-86-19702" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-19702).</sch:assert>
      <sch:assert id="a-86-19703" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-19703).</sch:assert>
      <sch:assert id="a-86-19704" test="@negationInd='false'">SHALL contain exactly one [1..1] @negationInd="false" (CONF:86-19704).</sch:assert>
      <sch:assert id="a-86-19705" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-19705).</sch:assert>
      <sch:assert id="a-86-19706" test="cda:code[@code='27113001' and @codeSystem='2.16.840.1.113883.6.96']">This code SHALL contain exactly one [1..1] @code="27113001" Body weight (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96 STATIC) (CONF:86-19706).</sch:assert>
      <sch:assert id="a-86-19707" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-19707).</sch:assert>
      <sch:assert id="a-86-19708" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-19708).</sch:assert>
      <sch:assert id="a-86-19709-c" test="cda:value/@xsi:type='PQ' and (cda:value/@value &gt;= 0)">SHALL contain exactly one [1..1] value with @xsi:type="PQ" (CONF:86-19709).</sch:assert>
      <sch:assert id="a-86-28297" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.27'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-28297) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.27" (CONF:86-28298).</sch:assert>
      <sch:assert id="a-86-19897" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-19897).</sch:assert>
      <sch:assert id="a-86-19898" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:86-19898).</sch:assert>
      <sch:assert id="a-86-22718" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22718).</sch:assert>
      <sch:assert id="a-86-22719" test="cda:effectiveTime[@nullFlavor='NA']">This effectiveTime SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22719).</sch:assert>
      <sch:assert id="a-86-19712" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.173'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-19712) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.173" (CONF:86-19714).</sch:assert>
      <sch:assert id="a-86-19710" test="cda:value[@xsi:type='PQ'][@value]">This value SHALL contain exactly one [1..1] @value (CONF:86-19710).</sch:assert>
      <sch:assert id="a-86-28399" test="cda:value[@xsi:type='PQ'][@unit]">This value SHALL contain exactly one [1..1] @unit (CONF:86-28399).</sch:assert>
      <sch:assert id="a-86-28400-c" test="not(tested)">The value of @value SHALL be a non-negative real number representing the body weight in terms of the units specified in @unit (CONF:86-28400).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.173-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.173']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.173-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.173-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.173-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-1240-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.173' and @root != '2.16.840.1.113883.10.20.22.4.27' and @root != '2.16.840.1.113883.10.20.22.4.27'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.173' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.173-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.173']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.173-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.150-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.150-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-errors-abstract" />
      <sch:assert id="a-86-19715" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-19715).</sch:assert>
      <sch:assert id="a-86-19716" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-19716).</sch:assert>
      <sch:assert id="a-86-19717" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:86-19717).</sch:assert>
      <sch:assert id="a-86-19719" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-19719).</sch:assert>
      <sch:assert id="a-86-19720" test="cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-19720).</sch:assert>
      <sch:assert id="a-86-19721" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-19721).</sch:assert>
      <sch:assert id="a-86-19722" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-19722).</sch:assert>
      <sch:assert id="a-86-19726" test="not(cda:entryRelationship) or cda:entryRelationship[@typeCode='REFR']">The entryRelationship, if present, SHALL contain exactly one [1..1] @typeCode="REFR" (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-19726).</sch:assert>
      <sch:assert id="a-86-19727" test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.154']])=1]">The entryRelationship, if present, SHALL contain exactly one [1..1] Procedure Details Clinical Statement in an Infection-Type Report (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.154) (CONF:86-19727).</sch:assert>
      <sch:assert id="a-86-19728-c" test="@negationInd='true' or (@negationInd='false' and count(cda:entryRelationship)=1)">If the value of @negationInd is false this entryRelationship SHALL be present (CONF:86-19728).</sch:assert>
      <sch:assert id="a-86-28265" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-28265) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:86-28266).</sch:assert>
      <sch:assert id="a-86-19784" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:86-19784).</sch:assert>
      <sch:assert id="a-86-19785" test="cda:value[@xsi:type='CD'][@code='3188-0']">This value SHALL contain exactly one [1..1] @code="3188-0" Infection occurred post-procedure (CONF:86-19785).</sch:assert>
      <sch:assert id="a-86-19786" test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']">This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:86-19786).</sch:assert>
      <sch:assert id="a-86-19882" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-19882).</sch:assert>
      <sch:assert id="a-86-22782" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22782).</sch:assert>
      <sch:assert id="a-86-19742" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.150'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-19742) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.150" (CONF:86-19743).</sch:assert>
      <sch:assert id="a-86-28397" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28397).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.150-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.150']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.150-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.150-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.150-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-1241-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.150' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.5.6.154' and @root != '2.16.840.1.113883.10.20.22.4.14'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.150' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.150-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.150']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.150-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.131-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.131-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.27-errors-abstract" />
      <sch:assert id="a-86-19729" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-19729).</sch:assert>
      <sch:assert id="a-86-19730" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-19730).</sch:assert>
      <sch:assert id="a-86-19731" test="@negationInd='false'">SHALL contain exactly one [1..1] @negationInd="false" (CONF:86-19731).</sch:assert>
      <sch:assert id="a-86-19732" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-19732).</sch:assert>
      <sch:assert id="a-86-19733" test="cda:code[@code='50373000']">This code SHALL contain exactly one [1..1] @code="50373000" Body height (CONF:86-19733).</sch:assert>
      <sch:assert id="a-86-19734" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-19734).</sch:assert>
      <sch:assert id="a-86-19735" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-19735).</sch:assert>
      <sch:assert id="a-86-19736" test="count(cda:value[@xsi:type='PQ'])=1">SHALL contain exactly one [1..1] value with @xsi:type="PQ" (CONF:86-19736).</sch:assert>
      <sch:assert id="a-86-28241" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.27'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-28241) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.27" (CONF:86-28242).</sch:assert>
      <sch:assert id="a-86-19748" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-19748).</sch:assert>
      <sch:assert id="a-86-19749" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:86-19749).</sch:assert>
      <sch:assert id="a-86-19750" test="cda:value[@xsi:type='PQ'][@value]">This value SHALL contain exactly one [1..1] @value (CONF:86-19750).</sch:assert>
      <sch:assert id="a-86-19751-c" test="cda:value/@value &gt; 0">The value of @value SHALL be a non-negative real number representing the body height in terms of the units specified in @unit (CONF:86-19751).</sch:assert>
      <sch:assert id="a-86-19752" test="cda:value[@xsi:type='PQ'][@unit]">This value SHALL contain exactly one [1..1] @unit (CONF:86-19752).</sch:assert>
      <sch:assert id="a-86-22753" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22753).</sch:assert>
      <sch:assert id="a-86-22754" test="cda:effectiveTime[@nullFlavor='NA']">This effectiveTime SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22754).</sch:assert>
      <sch:assert id="a-86-19746" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.131'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-19746) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.131" (CONF:86-27434).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.131-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.131']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.131-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.131-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.131-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-1242-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.131' and @root != '2.16.840.1.113883.10.20.22.4.27' and @root != '2.16.840.1.113883.10.20.22.4.27'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.131' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.131-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.131']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.131-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.137-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.137-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.27-errors-abstract" />
      <sch:assert id="a-86-19769" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-19769).</sch:assert>
      <sch:assert id="a-86-19770" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-19770).</sch:assert>
      <sch:assert id="a-86-19771" test="@negationInd='false'">SHALL contain exactly one [1..1] @negationInd="false" (CONF:86-19771).</sch:assert>
      <sch:assert id="a-86-19772" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-19772).</sch:assert>
      <sch:assert id="a-86-19773" test="cda:code[@code='364589006']">This code SHALL contain exactly one [1..1] @code="364589006" Birth weight (CONF:86-19773).</sch:assert>
      <sch:assert id="a-86-19774" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-19774).</sch:assert>
      <sch:assert id="a-86-19775" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-19775).</sch:assert>
      <sch:assert id="a-86-19776" test="count(cda:value[@xsi:type='PQ'])=1">SHALL contain exactly one [1..1] value with @xsi:type="PQ" (CONF:86-19776).</sch:assert>
      <sch:assert id="a-86-28247" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.27'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-28247) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.27" (CONF:86-28248).</sch:assert>
      <sch:assert id="a-86-19782" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-19782).</sch:assert>
      <sch:assert id="a-86-19899" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:86-19899).</sch:assert>
      <sch:assert id="a-86-22759" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22759).</sch:assert>
      <sch:assert id="a-86-22760" test="cda:effectiveTime[@nullFlavor='NA']">This effectiveTime SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22760).</sch:assert>
      <sch:assert id="a-86-19780" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.137'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-19780) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.137" (CONF:86-19781).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.137-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.137']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.137-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.137-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.137-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-1244-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.137' and @root != '2.16.840.1.113883.10.20.22.4.27' and @root != '2.16.840.1.113883.10.20.22.4.27'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.137' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.137-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.137']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.137-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.147-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.147-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-errors-abstract" />
      <sch:assert id="a-86-19787" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-19787).</sch:assert>
      <sch:assert id="a-86-19788" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-19788).</sch:assert>
      <sch:assert id="a-86-19789" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-19789).</sch:assert>
      <sch:assert id="a-86-19790" test="cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-19790).</sch:assert>
      <sch:assert id="a-86-19791" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-19791).</sch:assert>
      <sch:assert id="a-86-19792" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-19792).</sch:assert>
      <sch:assert id="a-86-19793" test="count(cda:value[@xsi:type='CO'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CO" (CONF:86-19793).</sch:assert>
      <sch:assert id="a-86-28263" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-28263) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:86-28264).</sch:assert>
      <sch:assert id="a-86-19799" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-19799).</sch:assert>
      <sch:assert id="a-86-22780" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22780).</sch:assert>
      <sch:assert id="a-86-19797" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.147'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-19797) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.147" (CONF:86-19798).</sch:assert>
      <sch:assert id="a-86-28384" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28384).</sch:assert>
      <sch:assert id="a-86-28409" test="cda:value[@xsi:type='CO'][@code]">This value SHALL contain exactly one [1..1] @code (CONF:86-28409).</sch:assert>
      <sch:assert id="a-86-28410-c" test="cda:value/@code='1' or cda:value/@code='2' or cda:value/@code='3'">SHALL be the number 1 or 2 or 3, where 1 represents the highest-ranked pathogen of up to three pathogens recorded (CONF:86-28410).</sch:assert>
      <sch:assert id="a-86-28411" test="cda:value[@xsi:type='CO'][@codeSystem='2.16.840.1.113883.6.277']">This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:86-28411).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.147-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.147']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.147-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.147-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.147-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-1245-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.147' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.22.4.4'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.147' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.147-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.147']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.147-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.138-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.138-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-errors-abstract" />
      <sch:assert id="a-86-19800" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-19800).</sch:assert>
      <sch:assert id="a-86-19801" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-19801).</sch:assert>
      <sch:assert id="a-86-19802" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:86-19802).</sch:assert>
      <sch:assert id="a-86-19803" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-19803).</sch:assert>
      <sch:assert id="a-86-19804" test="cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-19804).</sch:assert>
      <sch:assert id="a-86-19805" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-19805).</sch:assert>
      <sch:assert id="a-86-19806" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-19806).</sch:assert>
      <sch:assert id="a-86-19807" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHALL be selected from ValueSet NHSNInfectionRiskFactorsCode urn:oid:2.16.840.1.113883.13.6 DYNAMIC (CONF:86-19807).</sch:assert>
      <sch:assert id="a-86-19810" test="not(cda:entryRelationship) or cda:entryRelationship[@typeCode='REFR']">The entryRelationship, if present, SHALL contain exactly one [1..1] @typeCode="REFR" (CONF:86-19810).</sch:assert>
      <sch:assert id="a-86-19811" test="not(cda:entryRelationship) or cda:entryRelationship[@inversionInd='true']">The entryRelationship, if present, SHALL contain exactly one [1..1] @inversionInd="true" (CONF:86-19811).</sch:assert>
      <sch:assert id="a-86-19812" test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.122']])=1]">The entryRelationship, if present, SHALL contain exactly one [1..1] Device Insertion Time and Location Procedure (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.122) (CONF:86-19812).</sch:assert>
      <sch:assert id="a-86-28249" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-28249) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:86-28250).</sch:assert>
      <sch:assert id="a-86-19817" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-19817).</sch:assert>
      <sch:assert id="a-86-22761" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22761).</sch:assert>
      <sch:assert id="a-86-19814" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.138'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-19814) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.138" (CONF:86-19816).</sch:assert>
      <sch:assert id="a-86-28381" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28381).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.138-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.138']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.138-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.138-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.138-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-1246-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.138' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.5.6.122' and @root != '2.16.840.1.113883.10.20.22.4.14'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.138' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.138-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.138']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.138-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.160-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.160-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-errors-abstract" />
      <sch:assert id="a-86-19840" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-19840).</sch:assert>
      <sch:assert id="a-86-19841" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-19841).</sch:assert>
      <sch:assert id="a-86-19842" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:86-19842).</sch:assert>
      <sch:assert id="a-86-19843" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-19843).</sch:assert>
      <sch:assert id="a-86-19844" test="cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-19844).</sch:assert>
      <sch:assert id="a-86-19845" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-19845).</sch:assert>
      <sch:assert id="a-86-19846" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-19846).</sch:assert>
      <sch:assert id="a-86-19847" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:86-19847).</sch:assert>
      <sch:assert id="a-86-19848" test="cda:value[@xsi:type='CD'][@code='3111-2']">This value SHALL contain exactly one [1..1] @code="3111-2" Secondary bloodstream infection (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277 STATIC) (CONF:86-19848).</sch:assert>
      <sch:assert id="a-86-28275" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-28275) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:86-28276).</sch:assert>
      <sch:assert id="a-86-23363" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-23363).</sch:assert>
      <sch:assert id="a-86-23364" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-23364).</sch:assert>
      <sch:assert id="a-86-19851" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.160'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-19851) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.160" (CONF:86-19852).</sch:assert>
      <sch:assert id="a-86-28388" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28388).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.160-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.160']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.160-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.160-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.160-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-1248-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.160' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.22.4.4'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.160' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.160-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.160']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.160-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.135-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.135-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-errors-abstract" />
      <sch:assert id="a-86-19883" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-19883).</sch:assert>
      <sch:assert id="a-86-19884" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-19884).</sch:assert>
      <sch:assert id="a-86-19885" test="@negationInd='false'">SHALL contain exactly one [1..1] @negationInd="false" (CONF:86-19885).</sch:assert>
      <sch:assert id="a-86-28245" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-28245) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:86-28246).</sch:assert>
      <sch:assert id="a-86-19890" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-19890).</sch:assert>
      <sch:assert id="a-86-19891" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-19891).</sch:assert>
      <sch:assert id="a-86-19892" test="cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-19892).</sch:assert>
      <sch:assert id="a-86-19893" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-19893).</sch:assert>
      <sch:assert id="a-86-19894" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-19894).</sch:assert>
      <sch:assert id="a-86-19895" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHALL be selected from ValueSet NHSNInfectionConditionCode urn:oid:2.16.840.1.114222.4.11.3196 DYNAMIC (CONF:86-19895).</sch:assert>
      <sch:assert id="a-86-22758" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22758).</sch:assert>
      <sch:assert id="a-86-19888" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.135'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-19888) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.135" (CONF:86-19889).</sch:assert>
      <sch:assert id="a-86-28379" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28379).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.135-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.135']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.135-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.135-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.135-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-1251-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.135' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.22.4.4'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.135' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.135-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.135']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.135-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.145-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.145-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.2-errors-abstract" />
      <sch:assert id="a-86-20909" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-20909).</sch:assert>
      <sch:assert id="a-86-20910" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-20910).</sch:assert>
      <sch:assert id="a-86-28261" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.2'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-28261) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.2" (CONF:86-28262).</sch:assert>
      <sch:assert id="a-86-20915" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-20915).</sch:assert>
      <sch:assert id="a-86-20916" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-20916).</sch:assert>
      <sch:assert id="a-86-20917" test="cda:code[@code='41852-5' and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code="41852-5" Microorganism identified (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1 STATIC) (CONF:86-20917).</sch:assert>
      <sch:assert id="a-86-20918" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-20918).</sch:assert>
      <sch:assert id="a-86-20919" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-20919).</sch:assert>
      <sch:assert id="a-86-20920" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHALL be selected from ValueSet NHSNPathogenCode urn:oid:2.16.840.1.113883.13.16 DYNAMIC (CONF:86-20920).</sch:assert>
      <sch:assert id="a-86-22716" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:86-22716).</sch:assert>
      <sch:assert id="a-86-22777" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22777).</sch:assert>
      <sch:assert id="a-86-22778" test="cda:effectiveTime[@nullFlavor='NA']">This effectiveTime SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22778).</sch:assert>
      <sch:assert id="a-86-20913" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.145'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-20913) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.145" (CONF:86-20914).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.145-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.145']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.145-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.145-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.145-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2253-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.145' and @root != '2.16.840.1.113883.10.20.22.4.2' and @root != '2.16.840.1.113883.10.20.22.4.2'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.145' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.145-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.145']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.145-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.170-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.170-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-errors-abstract" />
      <sch:assert id="a-86-20922" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-20922).</sch:assert>
      <sch:assert id="a-86-20923" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-20923).</sch:assert>
      <sch:assert id="a-86-20924" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:86-20924).</sch:assert>
      <sch:assert id="a-86-28291" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4']) &gt; 0">SHALL contain at least one [1..*] templateId (CONF:86-28291) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:86-28292).</sch:assert>
      <sch:assert id="a-86-20929" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-20929).</sch:assert>
      <sch:assert id="a-86-20930" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-20930).</sch:assert>
      <sch:assert id="a-86-20931" test="cda:code[count(self::node()[@code='ASSERTION'])=1]">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-20931).</sch:assert>
      <sch:assert id="a-86-20932" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-20932).</sch:assert>
      <sch:assert id="a-86-20933" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-20933).</sch:assert>
      <sch:assert id="a-86-20934" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:86-20934).</sch:assert>
      <sch:assert id="a-86-20936" test="cda:value[@xsi:type='CD'][@code='417746004']">This value SHALL contain exactly one [1..1] @code="417746004" Trauma (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96 STATIC) (CONF:86-20936).</sch:assert>
      <sch:assert id="a-86-22735" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22735).</sch:assert>
      <sch:assert id="a-86-20927" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.170']) &gt; 0">SHALL contain at least one [1..*] templateId (CONF:86-20927) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.170" (CONF:86-20928).</sch:assert>
      <sch:assert id="a-86-28392" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28392).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.170-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.170']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.170-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.170-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.170-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2254-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.170' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.22.4.4'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.170' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.170-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.170']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.170-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.163-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.163-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-errors-abstract" />
      <sch:assert id="a-86-20938" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-20938).</sch:assert>
      <sch:assert id="a-86-20939" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-20939).</sch:assert>
      <sch:assert id="a-86-20940" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:86-20940).</sch:assert>
      <sch:assert id="a-86-28277" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-28277) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:86-28278).</sch:assert>
      <sch:assert id="a-86-20945" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-20945).</sch:assert>
      <sch:assert id="a-86-20946" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-20946).</sch:assert>
      <sch:assert id="a-86-20947" test="cda:code[count(self::node()[@code='ASSERTION'])=1]">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-20947).</sch:assert>
      <sch:assert id="a-86-20948" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-20948).</sch:assert>
      <sch:assert id="a-86-20949" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-20949).</sch:assert>
      <sch:assert id="a-86-20950" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:86-20950).</sch:assert>
      <sch:assert id="a-86-20952" test="cda:value[@xsi:type='CD'][@code='3114-6']">This value SHALL contain exactly one [1..1] @code="3114-6"  Solution(s) had dried (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277 STATIC) (CONF:86-20952).</sch:assert>
      <sch:assert id="a-86-22783" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22783).</sch:assert>
      <sch:assert id="a-86-20943" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.163'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-20943) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.163" (CONF:86-20944).</sch:assert>
      <sch:assert id="a-86-28389" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28389).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.163-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.163']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.163-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.163-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.163-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2255-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.163' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.22.4.4'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.163' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.163-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.163']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.163-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.123-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.123-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-errors-abstract" />
      <sch:assert id="a-86-21000" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21000).</sch:assert>
      <sch:assert id="a-86-21001" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21001).</sch:assert>
      <sch:assert id="a-86-21002" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:86-21002).</sch:assert>
      <sch:assert id="a-86-28229" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-28229) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:86-28230).</sch:assert>
      <sch:assert id="a-86-21007" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-21007).</sch:assert>
      <sch:assert id="a-86-21008" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-21008).</sch:assert>
      <sch:assert id="a-86-21009" test="cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-21009).</sch:assert>
      <sch:assert id="a-86-21010" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-21010).</sch:assert>
      <sch:assert id="a-86-21011" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-21011).</sch:assert>
      <sch:assert id="a-86-21012" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:86-21012).</sch:assert>
      <sch:assert id="a-86-21013" test="cda:value[@xsi:type='CD'][count(self::node()[@code='73211009'])=1]">This value SHALL contain exactly one [1..1] @code="73211009" Diabetes mellitus (CONF:86-21013).</sch:assert>
      <sch:assert id="a-86-22745" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22745).</sch:assert>
      <sch:assert id="a-86-21005" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.123'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-21005) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.123" (CONF:86-21006).</sch:assert>
      <sch:assert id="a-86-28354" test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.96']">This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.96" (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96) (CONF:86-28354).</sch:assert>
      <sch:assert id="a-86-28376" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28376).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.123-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.123']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.123-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.123-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.123-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2259-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.123' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.22.4.4'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.123' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.123-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.123']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.123-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.126-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.126-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.2-errors-abstract" />
      <sch:assert id="a-86-21014" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21014).</sch:assert>
      <sch:assert id="a-86-21015" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21015).</sch:assert>
      <sch:assert id="a-86-28233" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.2'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-28233) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.2" (CONF:86-28234).</sch:assert>
      <sch:assert id="a-86-21020" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-21020).</sch:assert>
      <sch:assert id="a-86-21021" test="count(cda:code)=1">SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNDrugSusceptibilityTestsCode urn:oid:2.16.840.1.113883.13.15 DYNAMIC (CONF:86-21021).</sch:assert>
      <sch:assert id="a-86-21023" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-21023).</sch:assert>
      <sch:assert id="a-86-21024" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-21024).</sch:assert>
      <sch:assert id="a-86-21025" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:86-21025).</sch:assert>
      <sch:assert id="a-86-21026" test="count(cda:interpretationCode)=1">SHALL contain exactly one [1..1] interpretationCode (CONF:86-21026).</sch:assert>
      <sch:assert id="a-86-21027-c" test="cda:interpretationCode[@nullFlavor='NASK' or @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.13']/voc:code/@value]">If the interpretation result is known, the value of interpretationCode/@code SHALL be selected from Value Set 2.16.840.1.113883.13.13 NHSNDrugSusceptibilityFindingCode **DYNAMIC**. If the drug was not tested, the value of @nullFlavor SHALL be NASK (CONF:86-21027).</sch:assert>
      <sch:assert id="a-86-22748" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22748).</sch:assert>
      <sch:assert id="a-86-22749" test="cda:effectiveTime[@nullFlavor='NA']">This effectiveTime SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22749).</sch:assert>
      <sch:assert id="a-86-21018" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.126'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-21018) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.126" (CONF:86-21019).</sch:assert>
      <sch:assert id="a-86-28406" test="count(cda:value)=1">SHALL contain exactly one [1..1] value (CONF:86-28406).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.126-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.126']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.126-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.126-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.126-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2260-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.126' and @root != '2.16.840.1.113883.10.20.22.4.2' and @root != '2.16.840.1.113883.10.20.22.4.2'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.126' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.126-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.126']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.126-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.117-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.117-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.14-errors-abstract" />
      <sch:assert id="a-86-21028" test="@classCode='PROC'">SHALL contain exactly one [1..1] @classCode="PROC" (CONF:86-21028).</sch:assert>
      <sch:assert id="a-86-21029" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" (CONF:86-21029).</sch:assert>
      <sch:assert id="a-86-21032" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-21032).</sch:assert>
      <sch:assert id="a-86-21033" test="cda:code[@code='112695004']">This code SHALL contain exactly one [1..1] @code="112695004" Surgical Closure (CONF:86-21033).</sch:assert>
      <sch:assert id="a-86-21034" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-21034).</sch:assert>
      <sch:assert id="a-86-21035" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" (CONF:86-21035).</sch:assert>
      <sch:assert id="a-86-21036" test="count(cda:methodCode)=1">SHALL contain exactly one [1..1] methodCode, which SHALL be selected from ValueSet NHSNClosureTechniqueCode urn:oid:2.16.840.1.114222.4.11.6051 DYNAMIC (CONF:86-21036).</sch:assert>
      <sch:assert id="a-86-28219" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.14'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-28219) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.14" (CONF:86-28220).</sch:assert>
      <sch:assert id="a-86-21040" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-21040).</sch:assert>
      <sch:assert id="a-86-22734" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22734).</sch:assert>
      <sch:assert id="a-86-21038" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.117'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-21038) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.117" (CONF:86-21039).</sch:assert>
      <sch:assert id="a-86-28352" test="cda:code[@codeSystem='2.16.840.1.113883.6.96']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.96" (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96) (CONF:86-28352).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.117-errors" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.117']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.117-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.117-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.117-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2261-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.117' and @root != '2.16.840.1.113883.10.20.22.4.14' and @root != '2.16.840.1.113883.10.20.22.4.14'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.117' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.117-errors-CL" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.117']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.117-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.122-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.122-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.14-errors-abstract" />
      <sch:assert id="a-86-21041" test="@classCode='PROC'">SHALL contain exactly one [1..1] @classCode="PROC" (CONF:86-21041).</sch:assert>
      <sch:assert id="a-86-21042" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" (CONF:86-21042).</sch:assert>
      <sch:assert id="a-86-21044" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-21044).</sch:assert>
      <sch:assert id="a-86-21046" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-21046).</sch:assert>
      <sch:assert id="a-86-21047" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:86-21047).</sch:assert>
      <sch:assert id="a-86-21048" test="cda:effectiveTime[count(cda:low)=1]">This effectiveTime SHALL contain exactly one [1..1] low (CONF:86-21048).</sch:assert>
      <sch:assert id="a-86-21050" test="not(cda:participant) or cda:participant[@typeCode='LOC']">The participant, if present, SHALL contain exactly one [1..1] @typeCode="LOC" (CONF:86-21050).</sch:assert>
      <sch:assert id="a-86-21051" test="not(cda:participant) or cda:participant[count(cda:participantRole)=1]">The participant, if present, SHALL contain exactly one [1..1] participantRole (CONF:86-21051).</sch:assert>
      <sch:assert id="a-86-21052" test="not(cda:participant/cda:participantRole) or cda:participant/cda:participantRole[@classCode='SDLOC']">This participantRole SHALL contain exactly one [1..1] @classCode="SDLOC" (CONF:86-21052).</sch:assert>
      <sch:assert id="a-86-21053" test="not(cda:participant/cda:participantRole) or cda:participant/cda:participantRole[count(cda:id)=1]">This participantRole SHALL contain exactly one [1..1] id (CONF:86-21053).</sch:assert>
      <sch:assert id="a-86-21054" test="not(cda:participant/cda:participantRole/cda:id) or cda:participant/cda:participantRole/cda:id[@root]">This id SHALL contain exactly one [1..1] @root (CONF:86-21054).</sch:assert>
      <sch:assert id="a-86-21055-c" test="not(tested-here)">This id/@root SHALL contain the facility identifier (CONF:86-21055).</sch:assert>
      <sch:assert id="a-86-21056" test="not(cda:participant/cda:participantRole/cda:id) or cda:participant/cda:participantRole/cda:id[@extension]">This id SHALL contain exactly one [1..1] @extension (CONF:86-21056).</sch:assert>
      <sch:assert id="a-86-21057" test="not(cda:participant/cda:participantRole) or cda:participant/cda:participantRole[count(cda:playingEntity)=1]">This participantRole SHALL contain exactly one [1..1] playingEntity (CONF:86-21057).</sch:assert>
      <sch:assert id="a-86-21058" test="not(cda:participant/cda:participantRole/cda:playingEntity) or cda:participant/cda:participantRole/cda:playingEntity[@classCode='PLC']">This playingEntity SHALL contain exactly one [1..1] @classCode="PLC" (CodeSystem: HL7EntityClass urn:oid:2.16.840.1.113883.5.41 STATIC) (CONF:86-21058).</sch:assert>
      <sch:assert id="a-86-21059" test="not(cda:participant/cda:participantRole/cda:playingEntity) or cda:participant/cda:participantRole/cda:playingEntity[count(cda:code)=1]">This playingEntity SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNHealthcareServiceLocationCode urn:oid:2.16.840.1.113883.13.19 DYNAMIC (CONF:86-21059).</sch:assert>
      <sch:assert id="a-86-28227" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.14'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-28227) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.14" (CONF:86-28228).</sch:assert>
      <sch:assert id="a-86-21065" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-21065).</sch:assert>
      <sch:assert id="a-86-21066" test="cda:code[@code='71861002']">This code SHALL contain exactly one [1..1] @code="71861002" Insertion procedure (CONF:86-21066).</sch:assert>
      <sch:assert id="a-86-22744" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CodeSystem: HL7NullFlavor urn:oid:2.16.840.1.113883.5.1008) (CONF:86-22744).</sch:assert>
      <sch:assert id="a-86-28103" test="cda:code[@codeSystem='2.16.840.1.113883.6.96']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.96" (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96) (CONF:86-28103).</sch:assert>
      <sch:assert id="a-86-28106" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:86-28106).</sch:assert>
      <sch:assert id="a-86-21063" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.122'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-21063) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.122" (CONF:86-21064).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.122-errors" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.122']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.122-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.122-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.122-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2262-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.122' and @root != '2.16.840.1.113883.10.20.22.4.14' and @root != '2.16.840.1.113883.10.20.22.4.14'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.122' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.122-errors-CL" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.122']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.122-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.175-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.175-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.2-errors-abstract" />
      <sch:assert id="a-86-21067" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:86-21067).</sch:assert>
      <sch:assert id="a-86-21068" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:86-21068).</sch:assert>
      <sch:assert id="a-86-21069" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-21069).</sch:assert>
      <sch:assert id="a-86-21070" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-21070).</sch:assert>
      <sch:assert id="a-86-28203" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.2'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-28203) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.2" (CONF:86-28204).</sch:assert>
      <sch:assert id="a-86-21075" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-21075).</sch:assert>
      <sch:assert id="a-86-21076" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-21076).</sch:assert>
      <sch:assert id="a-86-21077" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:86-21077).</sch:assert>
      <sch:assert id="a-86-21078" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:86-21078).</sch:assert>
      <sch:assert id="a-86-21079" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHALL be selected from ValueSet NHSNDrugSusceptibilityFindingCode urn:oid:2.16.840.1.113883.13.13 DYNAMIC (CONF:86-21079).</sch:assert>
      <sch:assert id="a-86-22630" test="cda:effectiveTime[@nullFlavor='NA']">This effectiveTime SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22630).</sch:assert>
      <sch:assert id="a-86-28099" test="cda:code[@code='365705006']">This code SHALL contain exactly one [1..1] @code="365705006" Final Interpretation Result (CONF:86-28099).</sch:assert>
      <sch:assert id="a-86-28100" test="cda:code[@codeSystem='2.16.840.1.113883.6.96']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.96" (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96) (CONF:86-28100).</sch:assert>
      <sch:assert id="a-86-21071" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.175'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-21071) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.175" (CONF:86-21072).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.175-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.175']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.175-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.175-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.175-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2263-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.175' and @root != '2.16.840.1.113883.10.20.22.4.2' and @root != '2.16.840.1.113883.10.20.22.4.2'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.175' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.175-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.175']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.175-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.176-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.176-errors-abstract" abstract="true">
      <sch:assert id="a-86-21084" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.176'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-21084) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.176" (CONF:86-21085).</sch:assert>
      <sch:assert id="a-86-27113" test="@typeCode='SBJ'">SHALL contain exactly one [1..1] @typeCode="SBJ" (CONF:86-27113).</sch:assert>
      <sch:assert id="a-86-27114" test="count(cda:participantRole)=1">SHALL contain exactly one [1..1] participantRole (CONF:86-27114).</sch:assert>
      <sch:assert id="a-86-27116" test="cda:participantRole[count(cda:playingEntity)=1]">This participantRole SHALL contain exactly one [1..1] playingEntity (CONF:86-27116).</sch:assert>
      <sch:assert id="a-86-27117" test="cda:participantRole/cda:playingEntity[count(cda:code)=1]">This playingEntity SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNAntimicrobialAgentAURPCode urn:oid:2.16.840.1.114222.4.11.3360 DYNAMIC (CONF:86-27117).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.176-errors" context="cda:participant[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.176']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.176-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.176-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.176-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2264-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.176'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.176' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.176-errors-CL" context="cda:participant[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.176']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.176-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.142-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.142-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-errors-abstract" />
      <sch:assert id="a-86-21157" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21157).</sch:assert>
      <sch:assert id="a-86-21158" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21158).</sch:assert>
      <sch:assert id="a-86-21159" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:86-21159).</sch:assert>
      <sch:assert id="a-86-21160" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-21160).</sch:assert>
      <sch:assert id="a-86-21161" test="cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-21161).</sch:assert>
      <sch:assert id="a-86-21162" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-21162).</sch:assert>
      <sch:assert id="a-86-21163" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-21163).</sch:assert>
      <sch:assert id="a-86-21164" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:86-21164).</sch:assert>
      <sch:assert id="a-86-21165" test="cda:value[@xsi:type='CD'][@code='2318-4']">This value SHALL contain exactly one [1..1] @code="2318-4" MDRO Infection or C.difficile infection (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277 STATIC) (CONF:86-21165).</sch:assert>
      <sch:assert id="a-86-28257" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-28257) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:86-28258).</sch:assert>
      <sch:assert id="a-86-21236" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-21236).</sch:assert>
      <sch:assert id="a-86-22769" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22769).</sch:assert>
      <sch:assert id="a-86-21234" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.142'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-21234) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.142" (CONF:86-21235).</sch:assert>
      <sch:assert id="a-86-28382" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28382).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.142-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.142']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.142-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.142-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.142-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2269-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.142' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.22.4.4'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.142' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.142-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.142']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.142-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.141-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.141-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.16-errors-abstract" />
      <sch:assert id="a-86-21166" test="@classCode='SBADM'">SHALL contain exactly one [1..1] @classCode="SBADM" Substance Administration (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21166).</sch:assert>
      <sch:assert id="a-86-21167" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21167).</sch:assert>
      <sch:assert id="a-86-21168" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:86-21168).</sch:assert>
      <sch:assert id="a-86-21169" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-21169).</sch:assert>
      <sch:assert id="a-86-21170" test="cda:code[@code='2306-9']">This code SHALL contain exactly one [1..1] @code="2306-9" Intravenous injection of antifungal substance (CONF:86-21170).</sch:assert>
      <sch:assert id="a-86-28255" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.16'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-28255) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.16" (CONF:86-28256).</sch:assert>
      <sch:assert id="a-86-21503" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-21503).</sch:assert>
      <sch:assert id="a-86-21504" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-21504).</sch:assert>
      <sch:assert id="a-86-21505" test="count(cda:effectiveTime[@xsi:type='IVL_TS'])=1">SHALL contain exactly one [1..1] effectiveTime (CONF:86-21505).</sch:assert>
      <sch:assert id="a-86-21506" test="cda:effectiveTime[@xsi:type='IVL_TS'][count(cda:low)=1]">This effectiveTime SHALL contain exactly one [1..1] low (CONF:86-21506).</sch:assert>
      <sch:assert id="a-86-21507" test="cda:effectiveTime[@xsi:type='IVL_TS'][count(cda:high)=1]">This effectiveTime SHALL contain exactly one [1..1] high (CONF:86-21507).</sch:assert>
      <sch:assert id="a-86-22763" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22763).</sch:assert>
      <sch:assert id="a-86-28110" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:86-28110).</sch:assert>
      <sch:assert id="a-86-21501" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.141'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-21501) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.141" (CONF:86-21502).</sch:assert>
      <sch:assert id="a-86-28340" test="count(cda:consumable)=1">SHALL contain exactly one [1..1] consumable (CONF:86-28340).</sch:assert>
      <sch:assert id="a-86-28341" test="cda:consumable[count(cda:manufacturedProduct)=1]">This consumable SHALL contain exactly one [1..1] manufacturedProduct (CONF:86-28341).</sch:assert>
      <sch:assert id="a-86-28342" test="cda:consumable/cda:manufacturedProduct[count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.23'])=1]">This manufacturedProduct SHALL contain exactly one [1..1] templateId (CONF:86-28342) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.23" (CONF:86-28345).</sch:assert>
      <sch:assert id="a-86-28343" test="cda:consumable/cda:manufacturedProduct[count(cda:manufacturedMaterial)=1]">This manufacturedProduct SHALL contain exactly one [1..1] manufacturedMaterial (CONF:86-28343).</sch:assert>
      <sch:assert id="a-86-28344" test="cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial[count(cda:code)=1]">This manufacturedMaterial SHALL contain exactly one [1..1] code (CONF:86-28344).</sch:assert>
      <sch:assert id="a-86-28346" test="cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial/cda:code[@nullFlavor='NI']">This code SHALL contain exactly one [1..1] @nullFlavor="NI" (CodeSystem: HL7NullFlavor urn:oid:2.16.840.1.113883.5.1008) (CONF:86-28346).</sch:assert>
      <sch:assert id="a-86-28347" test="cda:consumable/cda:manufacturedProduct[@classCode='MANU']">This manufacturedProduct SHALL contain exactly one [1..1] @classCode="MANU" (CodeSystem: HL7RoleClass urn:oid:2.16.840.1.113883.5.110) (CONF:86-28347).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.141-errors" context="cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.141']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.141-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.141-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.141-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2270-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.141' and @root != '2.16.840.1.113883.10.20.22.4.16' and @root != '2.16.840.1.113883.10.20.22.4.16'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.141' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.141-errors-CL" context="cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.141']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.141-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.139-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.139-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-errors-abstract" />
      <sch:assert id="a-86-21181" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21181).</sch:assert>
      <sch:assert id="a-86-21182" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21182).</sch:assert>
      <sch:assert id="a-86-21183" test="@negationInd='false'">SHALL contain exactly one [1..1] @negationInd="false" (CONF:86-21183).</sch:assert>
      <sch:assert id="a-86-21184" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-21184).</sch:assert>
      <sch:assert id="a-86-21185" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-21185).</sch:assert>
      <sch:assert id="a-86-21186" test="cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-21186).</sch:assert>
      <sch:assert id="a-86-21187" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-21187).</sch:assert>
      <sch:assert id="a-86-21188" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-21188).</sch:assert>
      <sch:assert id="a-86-21189" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:86-21189).</sch:assert>
      <sch:assert id="a-86-21190" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHALL be selected from ValueSet NHSNInfectionTypeCode urn:oid:2.16.840.1.113883.13.20 DYNAMIC (CONF:86-21190).</sch:assert>
      <sch:assert id="a-86-21192" test="count(cda:entryRelationship[@typeCode='SPRT'][count(cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.180']])=1])=1">SHALL contain exactly one [1..1] entryRelationship (CONF:86-21192) such that it SHALL contain exactly one [1..1] @typeCode="SPRT" Supports (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-21193). SHALL contain exactly one [1..1] Criteria of Diagnosis Organizer (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.180) (CONF:86-21194).</sch:assert>
      <sch:assert id="a-86-28251" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-28251) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:86-28252).</sch:assert>
      <sch:assert id="a-86-23220-c" test="//cda:templateId[@root='2.16.840.1.113883.10.20.5.32'] or (cda:entryRelationship[@typeCode='REFR']/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.135'])">If the report is a Ventilator Associated Event (VAE) Report, an HAI Surgical Site Infection Report (SSI), an HAI Urinary Tract Infection Numerator Report (UTI) or a Late Onset Sepsis/Meningitis Event (LOS) Report then an entryRelationship element SHALL be present containing an Infection Condition Observation (CONF:86-23220).</sch:assert>
      <sch:assert id="a-86-23224-c" test="(//cda:templateId[@root='2.16.840.1.113883.10.20.5.32'] or //cda:templateId[@root='2.16.840.1.113883.10.20.5.53'] or //cda:templateId[@root='2.16.840.1.113883.10.20.5.57']) or cda:entryRelationship[@typeCode='REFR']/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.160']">If the report is a Ventilator Associated Event (VAE) Report, an HAI Surgical Site Infection Report (SSI) or an HAI Urinary Tract Infection Numerator Report (UTI) then, an entryRelationship element SHALL be present containing a Secondary Bloodstream Infection Observation (CONF:86-23224).</sch:assert>
      <sch:assert id="a-86-23228-c" test="not(/*/cda:templateId[@root='2.16.840.1.113883.10.20.5.32']) or (cda:entryRelationship[@typeCode='COMP']/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.114'] )">If the report is a BSI Report, an entryRelationship element SHALL be present containing a Bloodstream Infection Evidence Type Observation (CONF:86-23228).</sch:assert>
      <sch:assert id="a-86-23232-c" test="not(/*/cda:templateId[@root='2.16.840.1.113883.10.20.5.33']) or (cda:entryRelationship[@typeCode='COMP']/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.144'])">If the report is an SSI Report, an entryRelationship element SHALL be present containing an Occasion of HAI Detection Observation (CONF:86-23232).</sch:assert>
      <sch:assert id="a-86-28186" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28186).</sch:assert>
      <sch:assert id="a-86-28190" test="cda:effectiveTime[count(cda:low)=1]">This effectiveTime SHALL contain exactly one [1..1] low (CONF:86-28190).</sch:assert>
      <sch:assert id="a-86-21239" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.139'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-21239) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.139" (CONF:86-21240).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.139-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.139']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.139-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.139-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.139-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2272-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.139' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.5.6.180' and @root != '2.16.840.1.113883.10.20.5.6.119' and @root != '2.16.840.1.113883.10.20.22.4.19' and @root != '2.16.840.1.113883.10.20.5.6.135' and @root != '2.16.840.1.113883.10.20.5.6.160' and @root != '2.16.840.1.113883.10.20.5.6.114' and @root != '2.16.840.1.113883.10.20.5.6.144'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.139' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.139-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.139']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.139-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.148-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.148-errors-abstract" abstract="true">
      <sch:assert id="a-86-21214" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21214).</sch:assert>
      <sch:assert id="a-86-21215" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21215).</sch:assert>
      <sch:assert id="a-86-21216" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:86-21216).</sch:assert>
      <sch:assert id="a-86-21217" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-21217).</sch:assert>
      <sch:assert id="a-86-21218" test="cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-21218).</sch:assert>
      <sch:assert id="a-86-21219" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-21219).</sch:assert>
      <sch:assert id="a-86-21220" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" COMPLETED (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4 STATIC) (CONF:86-21220).</sch:assert>
      <sch:assert id="a-86-21221" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:86-21221).</sch:assert>
      <sch:assert id="a-86-21222" test="cda:value[@xsi:type='CD'][@code='2213-7']">This value SHALL contain exactly one [1..1] @code="2213-7" Performer was a member of PICC/IV Team (CONF:86-21222).</sch:assert>
      <sch:assert id="a-86-22002" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.148'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-22002) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.148" (CONF:86-22003).</sch:assert>
      <sch:assert id="a-86-22004" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-22004).</sch:assert>
      <sch:assert id="a-86-22779" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22779).</sch:assert>
      <sch:assert id="a-86-28385" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28385).</sch:assert>
      <sch:assert id="a-86-28404" test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']">This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:86-28404).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.148-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.148']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.148-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.148-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.148-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2275-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.148'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.148' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.148-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.148']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.148-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.156-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.156-errors-abstract" abstract="true">
      <sch:assert id="a-86-21319" test="@classCode='PROC'">SHALL contain exactly one [1..1] @classCode="PROC" Procedure (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21319).</sch:assert>
      <sch:assert id="a-86-21320" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21320).</sch:assert>
      <sch:assert id="a-86-21321" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-21321).</sch:assert>
      <sch:assert id="a-86-21322-c" test="not(tested-here)">The value of the id element SHALL be the same as  the value of the corresponding procedure/id element in the Details Section of the report (CONF:86-21322).</sch:assert>
      <sch:assert id="a-86-21323" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.174']])=1])=1">SHALL contain exactly one [1..1] entryRelationship (CONF:86-21323) such that it SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-21324). SHALL contain exactly one [1..1] Wound Class Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.174) (CONF:86-21325).</sch:assert>
      <sch:assert id="a-86-21327" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.128']])=1])=1">SHALL contain exactly one [1..1] entryRelationship (CONF:86-21327) such that it SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-21328). SHALL contain exactly one [1..1] Endoscope Used Clinical Statement (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.128) (CONF:86-21329).</sch:assert>
      <sch:assert id="a-86-21990" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.156'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-21990) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.156" (CONF:86-21991).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.156-errors" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.156']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.156-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.156-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.156-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2280-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.156' and @root != '2.16.840.1.113883.10.20.5.6.174' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.5.6.128' and @root != '2.16.840.1.113883.10.20.22.4.14'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.156' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.156-errors-CL" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.156']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.156-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.159-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.159-errors-abstract" abstract="true">
      <sch:assert id="a-86-21342" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21342).</sch:assert>
      <sch:assert id="a-86-21343" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21343).</sch:assert>
      <sch:assert id="a-86-21344" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:86-21344).</sch:assert>
      <sch:assert id="a-86-21345" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-21345).</sch:assert>
      <sch:assert id="a-86-21346" test="cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-21346).</sch:assert>
      <sch:assert id="a-86-21347" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-21347).</sch:assert>
      <sch:assert id="a-86-21348" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-21348).</sch:assert>
      <sch:assert id="a-86-21349" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:86-21349).</sch:assert>
      <sch:assert id="a-86-21350" test="cda:value[@xsi:type='CD'][@code='3104-7']">This value SHALL contain exactly one [1..1] @code="3104-7" Recorder was performer (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277 STATIC) (CONF:86-21350).</sch:assert>
      <sch:assert id="a-86-21987" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.159'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-21987) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.159" (CONF:86-21988).</sch:assert>
      <sch:assert id="a-86-21989" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-21989).</sch:assert>
      <sch:assert id="a-86-22790" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22790).</sch:assert>
      <sch:assert id="a-86-28387" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28387).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.159-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.159']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.159-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.159-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.159-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2282-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.159'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.159' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.159-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.159']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.159-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.165-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.165-errors-abstract" abstract="true">
      <sch:assert id="a-86-21389" test="@classCode='PROC'">SHALL contain exactly one [1..1] @classCode="PROC" Procedure (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21389).</sch:assert>
      <sch:assert id="a-86-21390" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21390).</sch:assert>
      <sch:assert id="a-86-21391" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:86-21391).</sch:assert>
      <sch:assert id="a-86-21392" test="cda:effectiveTime[@value]">This effectiveTime SHALL contain exactly one [1..1] @value (CONF:86-21392).</sch:assert>
      <sch:assert id="a-86-21393" test="count(cda:participant)=1">SHALL contain exactly one [1..1] participant (CONF:86-21393).</sch:assert>
      <sch:assert id="a-86-21394" test="cda:participant[@typeCode='PRD']">This participant SHALL contain exactly one [1..1] @typeCode="PRD" Product (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:86-21394).</sch:assert>
      <sch:assert id="a-86-21395" test="cda:participant[count(cda:participantRole)=1]">This participant SHALL contain exactly one [1..1] participantRole (CONF:86-21395).</sch:assert>
      <sch:assert id="a-86-21396" test="cda:participant/cda:participantRole[@classCode='SPEC']">This participantRole SHALL contain exactly one [1..1] @classCode="SPEC" Specimen (CodeSystem: HL7RoleClass urn:oid:2.16.840.1.113883.5.110 STATIC) (CONF:86-21396).</sch:assert>
      <sch:assert id="a-86-21397" test="cda:participant/cda:participantRole[count(cda:playingEntity)=1]">This participantRole SHALL contain exactly one [1..1] playingEntity (CONF:86-21397).</sch:assert>
      <sch:assert id="a-86-21398" test="cda:participant/cda:participantRole/cda:playingEntity[count(cda:code)=1]">This playingEntity SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNSpecimenTypeCode urn:oid:2.16.840.1.114222.4.11.3249 DYNAMIC (CONF:86-21398).</sch:assert>
      <sch:assert id="a-86-21400" test="count(cda:entryRelationship)=1">SHALL contain exactly one [1..1] entryRelationship (CONF:86-21400).</sch:assert>
      <sch:assert id="a-86-21401" test="cda:entryRelationship[@typeCode='COMP']">This entryRelationship SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-21401).</sch:assert>
      <sch:assert id="a-86-21402" test="cda:entryRelationship[@inversionInd='true']">This entryRelationship SHALL contain exactly one [1..1] @inversionInd="true" (CONF:86-21402).</sch:assert>
      <sch:assert id="a-86-21403" test="cda:entryRelationship[count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.164']])=1]">This entryRelationship SHALL contain exactly one [1..1] Specimen Collection Encounter (LIO) (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.164) (CONF:86-21403).</sch:assert>
      <sch:assert id="a-86-21982" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.165'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-21982) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.165" (CONF:86-21983).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.165-errors" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.165']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.165-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.165-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.165-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2286-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.165' and @root != '2.16.840.1.113883.10.20.5.6.164' and @root != '2.16.840.1.113883.10.20.22.4.49'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.165' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.165-errors-CL" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.165']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.165-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.169-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.169-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-errors-abstract" />
      <sch:assert id="a-86-21451" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21451).</sch:assert>
      <sch:assert id="a-86-21452" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21452).</sch:assert>
      <sch:assert id="a-86-21453" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:86-21453).</sch:assert>
      <sch:assert id="a-86-21454" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-21454).</sch:assert>
      <sch:assert id="a-86-21455" test="cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-21455).</sch:assert>
      <sch:assert id="a-86-21456" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-21456).</sch:assert>
      <sch:assert id="a-86-21457" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-21457).</sch:assert>
      <sch:assert id="a-86-21458" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:86-21458).</sch:assert>
      <sch:assert id="a-86-21459" test="cda:value[@xsi:type='CD'][@code='2304-4']">This value SHALL contain exactly one [1..1] @code="2304-4" Transient Patient (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277 STATIC) (CONF:86-21459).</sch:assert>
      <sch:assert id="a-86-28289" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-28289) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:86-28290).</sch:assert>
      <sch:assert id="a-86-22737" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-22737).</sch:assert>
      <sch:assert id="a-86-22738" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22738).</sch:assert>
      <sch:assert id="a-86-22035" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.169'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-22035) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.169" (CONF:86-22036).</sch:assert>
      <sch:assert id="a-86-28391" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28391).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.169-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.169']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.169-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.169-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.169-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2290-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.169' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.22.4.4'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.169' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.169-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.169']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.169-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.171-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.171-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-errors-abstract" />
      <sch:assert id="a-86-21460" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21460).</sch:assert>
      <sch:assert id="a-86-21461" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21461).</sch:assert>
      <sch:assert id="a-86-21462" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:86-21462).</sch:assert>
      <sch:assert id="a-86-21463" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-21463).</sch:assert>
      <sch:assert id="a-86-21465" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-21465).</sch:assert>
      <sch:assert id="a-86-21466" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-21466).</sch:assert>
      <sch:assert id="a-86-21467" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:86-21467).</sch:assert>
      <sch:assert id="a-86-21468" test="cda:value[@xsi:type='CD'][@code='3191-4']">This value SHALL contain exactly one [1..1] @code="3191-4" Urinary catheter present (CONF:86-21468).</sch:assert>
      <sch:assert id="a-86-28293" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-28293) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:86-28294).</sch:assert>
      <sch:assert id="a-86-22115" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-22115).</sch:assert>
      <sch:assert id="a-86-22116" test="cda:code[count(self::node()[@code='ASSERTION'])=1]">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-22116).</sch:assert>
      <sch:assert id="a-86-22727" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22727).</sch:assert>
      <sch:assert id="a-86-22731-c" test="@negationInd != 'true' or (cda:entryRelationship[@typeCode='COMP']/cda:observation/cda:templateId[@root='2.16.840.1.113883.10.20.5.6.132'])">If a urinary catheter is not present (@negationInd="true"), this entryRelationship SHALL be present (CONF:86-22731).</sch:assert>
      <sch:assert id="a-86-22114" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.171'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-22114) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.171" (CONF:86-22117).</sch:assert>
      <sch:assert id="a-86-28393" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28393).</sch:assert>
      <sch:assert id="a-86-28394" test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']">This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:86-28394).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.171-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.171']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.171-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.171-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.171-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2291-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.171' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.5.6.122' and @root != '2.16.840.1.113883.10.20.22.4.14' and @root != '2.16.840.1.113883.10.20.5.6.132'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.171' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.171-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.171']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.171-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.172-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.172-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-errors-abstract" />
      <sch:assert id="a-86-21474" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21474).</sch:assert>
      <sch:assert id="a-86-21475" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21475).</sch:assert>
      <sch:assert id="a-86-21476" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:86-21476).</sch:assert>
      <sch:assert id="a-86-21477" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-21477).</sch:assert>
      <sch:assert id="a-86-21478" test="cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-21478).</sch:assert>
      <sch:assert id="a-86-21480-c" test="not(tested-here)">The text element is to be used for additional information commenting on the vascular access type (CONF:86-21480).</sch:assert>
      <sch:assert id="a-86-21481" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-21481).</sch:assert>
      <sch:assert id="a-86-21482" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-21482).</sch:assert>
      <sch:assert id="a-86-21483" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:86-21483).</sch:assert>
      <sch:assert id="a-86-21484" test="cda:effectiveTime[count(cda:low)=1]">This effectiveTime SHALL contain exactly one [1..1] low (CONF:86-21484).</sch:assert>
      <sch:assert id="a-86-21485-c" test="cda:effectiveTime/cda:low[@value or @nullFlavor='NI']">When the access placement date is not known, the value of @nullFlavor SHALL be NI (no information) (CONF:86-21485).</sch:assert>
      <sch:assert id="a-86-21486-c" test="cda:effectiveTime/cda:low[@nullFlavor or string-length(@value) = 6]">When the access placement date is known, it SHALL be recorded as year and month (yyyymm) (CONF:86-21486).</sch:assert>
      <sch:assert id="a-86-21487" test="count(cda:value)=1">SHALL contain exactly one [1..1] value (CONF:86-21487).</sch:assert>
      <sch:assert id="a-86-21488-c" test="cda:value[@code] or cda:value[@nullFlavor='OTH']">To record the presence or absence of a vascular access type that is listed in the NHSN Vascular Access Type value set, the value of @code SHALL be selected from ValueSet 2.16.840.1.114222.4.11.6007 NHSNVascularAccessTypeCode **DYNAMIC** (CONF:86-21488).</sch:assert>
      <sch:assert id="a-86-21489-c" test="not(tested-here)">To record that another type of vascular access is present, set the value of @nullFlavor to OTH (other) (CONF:86-21489).</sch:assert>
      <sch:assert id="a-86-28295" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-28295) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:86-28296).</sch:assert>
      <sch:assert id="a-86-22721" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-22721).</sch:assert>
      <sch:assert id="a-86-22722" test="cda:id[@nullFlavor]">This id SHALL contain exactly one [1..1] @nullFlavor (CONF:86-22722).</sch:assert>
      <sch:assert id="a-86-22037" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.172'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-22037) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.172" (CONF:86-22038).</sch:assert>
      <sch:assert id="a-86-28395" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28395).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.172-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.172']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.172-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.172-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.172-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2292-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.172' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.5.6.115' and @root != '2.16.840.1.113883.10.20.22.4.13'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.172' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.172-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.172']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.172-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.168-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.168-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-errors-abstract" />
      <sch:assert id="a-86-21508" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21508).</sch:assert>
      <sch:assert id="a-86-21509" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21509).</sch:assert>
      <sch:assert id="a-86-21510" test="@negationInd='false'">SHALL contain exactly one [1..1] @negationInd="false" (CONF:86-21510).</sch:assert>
      <sch:assert id="a-86-21511" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-21511).</sch:assert>
      <sch:assert id="a-86-21512" test="cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-21512).</sch:assert>
      <sch:assert id="a-86-21513" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-21513).</sch:assert>
      <sch:assert id="a-86-21514" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-21514).</sch:assert>
      <sch:assert id="a-86-21515" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:86-21515).</sch:assert>
      <sch:assert id="a-86-21516-c" test="not(cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37']) or (cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37'] and cda:value[@code = document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.6008']/voc:code/@value  or (@nullFlavor='NI')])">In an Evidence of Infection (Dialysis) report, to represent the suspected source as a code, the value of @code SHALL be selected from ValueSet NHSNSuspectedSourceTypeCode 2.16.840.1.114222.4.11.6008 **DYNAMIC** (CONF:86-21516).</sch:assert>
      <sch:assert id="a-86-21517-c" test="not(tested-here)">If the suspected source is not listed in Value Set 2.16.840.1.114222.4.11.6008 NHSNSuspectedSourceTypeCode, set the value of @nullFlavor to ‘OTH’ (CONF:86-21517).</sch:assert>
      <sch:assert id="a-86-21518-c" test="not(tested-here)">If the suspected source is uncertain, set the value of @nullFlavor to “NI” (CONF:86-21518).</sch:assert>
      <sch:assert id="a-86-21519" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.134']][count(cda:code[@code='2307-7'])=1][count(cda:value[@code='60022001'])=1])=1])=1">SHALL contain exactly one [1..1] entryRelationship (CONF:86-21519) such that it SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-21520). SHALL contain exactly one [1..1] Imputability Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.134) (CONF:86-21521). This observation SHALL contain exactly one [1..1] code (CONF:86-21522). This code SHALL contain exactly one [1..1] @code="2307-7" Imputability of positive blood culture to the suspected source (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277 STATIC) (CONF:86-21523). This observation SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:86-21524). This value SHALL contain exactly one [1..1] @code="60022001" Possible (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96 STATIC) (CONF:86-21525).</sch:assert>
      <sch:assert id="a-86-28287" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-28287) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:86-28288).</sch:assert>
      <sch:assert id="a-86-21530" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-21530).</sch:assert>
      <sch:assert id="a-86-22741" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22741).</sch:assert>
      <sch:assert id="a-86-21528" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.168'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-21528) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.168" (CONF:86-21529).</sch:assert>
      <sch:assert id="a-86-28356" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28356).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.168-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.168']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.168-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.168-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.168-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2293-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.168' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.5.6.134'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.168' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.168-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.168']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.168-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.167-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.167-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.14-errors-abstract" />
      <sch:assert id="a-86-21531" test="@classCode='PROC'">SHALL contain exactly one [1..1] @classCode="PROC" Procedure (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21531).</sch:assert>
      <sch:assert id="a-86-21532" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21532).</sch:assert>
      <sch:assert id="a-86-21533" test="@negationInd='false'">SHALL contain exactly one [1..1] @negationInd="false" (CONF:86-21533).</sch:assert>
      <sch:assert id="a-86-21534" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-21534).</sch:assert>
      <sch:assert id="a-86-21535" test="cda:code[@code='370822003' and @codeSystem='2.16.840.1.113883.6.96']">This code SHALL contain exactly one [1..1] @code="370822003" Use of sterile technique (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96 STATIC) (CONF:86-21535).</sch:assert>
      <sch:assert id="a-86-21537" test="not(cda:participant) or cda:participant[@typeCode='DEV']">The participant, if present, SHALL contain exactly one [1..1] @typeCode="DEV" Device (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:86-21537).</sch:assert>
      <sch:assert id="a-86-21538" test="not(cda:participant) or cda:participant[count(cda:participantRole)=1]">The participant, if present, SHALL contain exactly one [1..1] participantRole (CONF:86-21538).</sch:assert>
      <sch:assert id="a-86-21539" test="not(cda:participant/cda:participantRole) or cda:participant/cda:participantRole[@classCode='MANU']">This participantRole SHALL contain exactly one [1..1] @classCode="MANU" (CodeSystem: HL7RoleClass urn:oid:2.16.840.1.113883.5.110 STATIC) (CONF:86-21539).</sch:assert>
      <sch:assert id="a-86-21540" test="not(cda:participant/cda:participantRole) or cda:participant/cda:participantRole[count(cda:playingDevice)=1]">This participantRole SHALL contain exactly one [1..1] playingDevice (CONF:86-21540).</sch:assert>
      <sch:assert id="a-86-21541" test="not(cda:participant/cda:participantRole/cda:playingDevice) or cda:participant/cda:participantRole/cda:playingDevice[count(cda:code)=1]">This playingDevice SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNSterileBarrierCode urn:oid:2.16.840.1.114222.4.11.3184 DYNAMIC (CONF:86-21541).</sch:assert>
      <sch:assert id="a-86-28285" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.14'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-28285) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.14" (CONF:86-28286).</sch:assert>
      <sch:assert id="a-86-21560" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-21560).</sch:assert>
      <sch:assert id="a-86-21561" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-21561).</sch:assert>
      <sch:assert id="a-86-21562" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:86-21562).</sch:assert>
      <sch:assert id="a-86-22772" test="cda:id[@nullFlavor]">This id SHALL contain exactly one [1..1] @nullFlavor (CONF:86-22772).</sch:assert>
      <sch:assert id="a-86-21558" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.167'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-21558) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.167" (CONF:86-21559).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.167-errors" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.167']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.167-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.167-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.167-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2294-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.167' and @root != '2.16.840.1.113883.10.20.22.4.14' and @root != '2.16.840.1.113883.10.20.22.4.14'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.167' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.167-errors-CL" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.167']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.167-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.166-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.166-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-errors-abstract" />
      <sch:assert id="a-86-21543" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21543).</sch:assert>
      <sch:assert id="a-86-21544" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21544).</sch:assert>
      <sch:assert id="a-86-21545" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-21545).</sch:assert>
      <sch:assert id="a-86-21546" test="cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-21546).</sch:assert>
      <sch:assert id="a-86-21547" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-21547).</sch:assert>
      <sch:assert id="a-86-21548" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-21548).</sch:assert>
      <sch:assert id="a-86-21549" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHALL be selected from ValueSet NHSNSpinalFusionLevelCode urn:oid:2.16.840.1.113883.13.11 DYNAMIC (CONF:86-21549).</sch:assert>
      <sch:assert id="a-86-28283" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-28283) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:86-28284).</sch:assert>
      <sch:assert id="a-86-21555" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-21555).</sch:assert>
      <sch:assert id="a-86-22775" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22775).</sch:assert>
      <sch:assert id="a-86-21553" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.166'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-21553) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.166" (CONF:86-21554).</sch:assert>
      <sch:assert id="a-86-28390" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28390).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.166-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.166']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.166-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.166-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.166-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2295-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.166' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.22.4.4'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.166' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.166-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.166']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.166-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.164-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.164-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.49-errors-abstract" />
      <sch:assert id="a-86-21563" test="@classCode='ENC'">SHALL contain exactly one [1..1] @classCode="ENC" Encounter (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21563).</sch:assert>
      <sch:assert id="a-86-21564" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21564).</sch:assert>
      <sch:assert id="a-86-28281" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.49'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-28281) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.49" (CONF:86-28282).</sch:assert>
      <sch:assert id="a-86-21569" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-21569).</sch:assert>
      <sch:assert id="a-86-21571" test="count(cda:participant)=1">SHALL contain exactly one [1..1] participant (CONF:86-21571).</sch:assert>
      <sch:assert id="a-86-21572" test="cda:participant[@typeCode='LOC']">This participant SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:86-21572).</sch:assert>
      <sch:assert id="a-86-21573" test="cda:participant[count(cda:participantRole)=1]">This participant SHALL contain exactly one [1..1] participantRole (CONF:86-21573).</sch:assert>
      <sch:assert id="a-86-21574" test="cda:participant/cda:participantRole[@classCode='SDLOC']">This participantRole SHALL contain exactly one [1..1] @classCode="SDLOC" Service delivery location (CodeSystem: HL7RoleClass urn:oid:2.16.840.1.113883.5.110 STATIC) (CONF:86-21574).</sch:assert>
      <sch:assert id="a-86-21575" test="cda:participant/cda:participantRole[count(cda:id)=1]">This participantRole SHALL contain exactly one [1..1] id (CONF:86-21575).</sch:assert>
      <sch:assert id="a-86-21576" test="cda:participant/cda:participantRole/cda:id[@root]">This id SHALL contain exactly one [1..1] @root (CONF:86-21576).</sch:assert>
      <sch:assert id="a-86-21577" test="cda:participant/cda:participantRole/cda:id[@extension]">This id SHALL contain exactly one [1..1] @extension (CONF:86-21577).</sch:assert>
      <sch:assert id="a-86-21578" test="cda:participant/cda:participantRole[count(cda:playingEntity)=1]">This participantRole SHALL contain exactly one [1..1] playingEntity (CONF:86-21578).</sch:assert>
      <sch:assert id="a-86-21579" test="cda:participant/cda:participantRole/cda:playingEntity[@classCode='PLC']">This playingEntity SHALL contain exactly one [1..1] @classCode="PLC" Place (CodeSystem: HL7EntityClass urn:oid:2.16.840.1.113883.5.41 STATIC) (CONF:86-21579).</sch:assert>
      <sch:assert id="a-86-21580" test="cda:participant/cda:participantRole/cda:playingEntity[count(cda:code)=1]">This playingEntity SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNHealthcareServiceLocationCode urn:oid:2.16.840.1.113883.13.19 DYNAMIC (CONF:86-21580).</sch:assert>
      <sch:assert id="a-86-21583" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-21583).</sch:assert>
      <sch:assert id="a-86-21584" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:86-21584).</sch:assert>
      <sch:assert id="a-86-21585-c" test="not(tested-here)">If the patient was an inpatient, an effectiveTime/low element SHALL be present representing the date the patient was admitted or transferred to that location (CONF:86-21585).</sch:assert>
      <sch:assert id="a-86-21567" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.164'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-21567) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.164" (CONF:86-21568).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.164-errors" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.164']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.164-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.164-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.164-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2296-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.164' and @root != '2.16.840.1.113883.10.20.22.4.49' and @root != '2.16.840.1.113883.10.20.22.4.49'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.164' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.164-errors-CL" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.164']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.164-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.158-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.158-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.19-errors-abstract" />
      <sch:assert id="a-86-21589" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21589).</sch:assert>
      <sch:assert id="a-86-21590" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21590).</sch:assert>
      <sch:assert id="a-86-21591" test="@negationInd='false'">SHALL contain exactly one [1..1] @negationInd="false" (CONF:86-21591).</sch:assert>
      <sch:assert id="a-86-28273" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.19'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-28273) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.19" (CONF:86-28274).</sch:assert>
      <sch:assert id="a-86-21594" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-21594).</sch:assert>
      <sch:assert id="a-86-21595" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-21595).</sch:assert>
      <sch:assert id="a-86-21596" test="cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-21596).</sch:assert>
      <sch:assert id="a-86-21597" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-21597).</sch:assert>
      <sch:assert id="a-86-21598" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-21598).</sch:assert>
      <sch:assert id="a-86-21599" test="count(cda:value)=1">SHALL contain exactly one [1..1] value (CONF:86-21599).</sch:assert>
      <sch:assert id="a-86-21600-c" test="not(tested-here)">In a CLIP Report, to record the reason as a code, the value of @xsi:type SHALL be CD and the value of @code SHALL be selected from ValueSet 2.16.840.1.114222.4.11.3182 NHSNReasonForInsertionCode **DYNAMIC**. Or, to record the reason as text, the value of @xsi:type SHALL be ST and a text value SHALL be present (CONF:86-21600).</sch:assert>
      <sch:assert id="a-86-22789" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22789).</sch:assert>
      <sch:assert id="a-86-23287" test="not(cda:entryRelationship) or cda:entryRelationship[@typeCode='RSON']">The entryRelationship, if present, SHALL contain exactly one [1..1] @typeCode="RSON" (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002) (CONF:86-23287).</sch:assert>
      <sch:assert id="a-86-23288" test="not(cda:entryRelationship) or cda:entryRelationship[@inversionInd='true']">The entryRelationship, if present, SHALL contain exactly one [1..1] @inversionInd="true" (CONF:86-23288).</sch:assert>
      <sch:assert id="a-86-23289" test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.129']])=1]">The entryRelationship, if present, SHALL contain exactly one [1..1] Guidewire Used Clinical Statement (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.129) (CONF:86-23289).</sch:assert>
      <sch:assert id="a-86-23290-c" test="not(cda:value[@code = '5107-8']) or (cda:entryRelationship[@typeCode='RSON' and @inversionInd='true']/cda:procedure/cda:templateId[@root='2.16.840.1.113883.10.20.5.6.129'])">In a CLIP Report, if the coded reason is [To replace] An existing central line where infection was suspected (5107-8), an entryRelationship element SHALL be present containing Guidewire Used Clinical Statement (CONF:86-23290).</sch:assert>
      <sch:assert id="a-86-21593" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.158'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-21593) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.158" (CONF:86-21603).</sch:assert>
      <sch:assert id="a-86-28386" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28386).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.158-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.158']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.158-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.158-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.158-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2297-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.158' and @root != '2.16.840.1.113883.10.20.22.4.19' and @root != '2.16.840.1.113883.10.20.22.4.19' and @root != '2.16.840.1.113883.10.20.5.6.129' and @root != '2.16.840.1.113883.10.20.22.4.14'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.158' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.158-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.158']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.158-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.155-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.155-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.14-errors-abstract" />
      <sch:assert id="a-86-21605" test="@classCode='PROC'">SHALL contain exactly one [1..1] @classCode="PROC" Procedure (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21605).</sch:assert>
      <sch:assert id="a-86-21606" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21606).</sch:assert>
      <sch:assert id="a-86-21607" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-21607).</sch:assert>
      <sch:assert id="a-86-21608" test="cda:code[@code='233527006' and @codeSystem='2.16.840.1.113883.6.96']">This code SHALL contain exactly one [1..1] @code="233527006" Central-line insertion (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96 STATIC) (CONF:86-21608).</sch:assert>
      <sch:assert id="a-86-21609" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode, which SHALL be selected from ValueSet ProcedureAct statusCode urn:oid:2.16.840.1.113883.11.20.9.22 DYNAMIC (CONF:86-21609).</sch:assert>
      <sch:assert id="a-86-21610" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:86-21610).</sch:assert>
      <sch:assert id="a-86-21611" test="count(cda:targetSiteCode)=1">SHALL contain exactly one [1..1] targetSiteCode, which SHALL be selected from ValueSet NHSNInsertionSiteCode urn:oid:2.16.840.1.114222.4.11.3180 DYNAMIC (CONF:86-21611).</sch:assert>
      <sch:assert id="a-86-21613" test="count(cda:performer)=1">SHALL contain exactly one [1..1] performer (CONF:86-21613).</sch:assert>
      <sch:assert id="a-86-21614" test="cda:performer[count(cda:assignedEntity)=1]">This performer SHALL contain exactly one [1..1] assignedEntity (CONF:86-21614).</sch:assert>
      <sch:assert id="a-86-21615" test="cda:performer/cda:assignedEntity[count(cda:id)=1]">This assignedEntity SHALL contain exactly one [1..1] id (CONF:86-21615).</sch:assert>
      <sch:assert id="a-86-21616-c" test="cda:performer/cda:assignedEntity/cda:id[@root or @nullFlavor='UNK']">If the performer ID is not known, the value of performer/assignedEntity/id/@nullFlavor SHALL be UNK (CONF:86-21616).</sch:assert>
      <sch:assert id="a-86-21617" test="cda:performer/cda:assignedEntity[count(cda:code)=1]">This assignedEntity SHALL contain exactly one [1..1] code (CONF:86-21617).</sch:assert>
      <sch:assert id="a-86-21618-c" test="cda:performer/cda:assignedEntity/cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3181']/voc:code/@value or (@nullFlavor='OTH' and cda:originalText)]">If the occupation is recorded as a code, the value of @code SHALL be selected from ValueSet 2.16.840.1.114222.4.11.3181 NHSNRoleOfPerformerCode **DYNAMIC**. If the occupation is recorded as text, the value of @nullFlavor SHALL be OTH and the code element SHALL contain an originalText element recording the occupation of the performer (CONF:86-21618).</sch:assert>
      <sch:assert id="a-86-21619" test="count(cda:participant)=1">SHALL contain exactly one [1..1] participant (CONF:86-21619).</sch:assert>
      <sch:assert id="a-86-21620" test="cda:participant[@typeCode='DEV']">This participant SHALL contain exactly one [1..1] @typeCode="DEV" Device (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:86-21620).</sch:assert>
      <sch:assert id="a-86-21621" test="cda:participant[count(cda:participantRole)=1]">This participant SHALL contain exactly one [1..1] participantRole (CONF:86-21621).</sch:assert>
      <sch:assert id="a-86-21622" test="cda:participant/cda:participantRole[@classCode='MANU']">This participantRole SHALL contain exactly one [1..1] @classCode="MANU" Manufactured product (CodeSystem: HL7RoleClass urn:oid:2.16.840.1.113883.5.110 STATIC) (CONF:86-21622).</sch:assert>
      <sch:assert id="a-86-21623" test="cda:participant/cda:participantRole[count(cda:playingDevice)=1]">This participantRole SHALL contain exactly one [1..1] playingDevice (CONF:86-21623).</sch:assert>
      <sch:assert id="a-86-21624" test="cda:participant/cda:participantRole/cda:playingDevice[count(cda:code)=1]">This playingDevice SHALL contain exactly one [1..1] code (CONF:86-21624).</sch:assert>
      <sch:assert id="a-86-21625-c" test="cda:participant/cda:participantRole/cda:playingDevice/cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3185']/voc:code/@value or (@nullFlavor='OTH' and cda:originalText)]">To record the catheter type as a code, the value of @code SHALL be selected from ValueSet 2.16.840.1.114222.4.11.3185 NHSNCatheterTypeCode **DYNAMIC**. Or, to record the catheter type as text, the value of @nullFlavor SHALL be OTH and an originalText element SHALL be present (CONF:86-21625).</sch:assert>
      <sch:assert id="a-86-21626" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.159']])=1])=1">SHALL contain exactly one [1..1] entryRelationship (CONF:86-21626) such that it SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-21627). SHALL contain exactly one [1..1] Recorder Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.159) (CONF:86-21628).</sch:assert>
      <sch:assert id="a-86-21629" test="count(cda:entryRelationship[@typeCode='RSON'][count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.158']])=1])=1">SHALL contain exactly one [1..1] entryRelationship (CONF:86-21629) such that it SHALL contain exactly one [1..1] @typeCode="RSON" Has reason (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-21630). SHALL contain exactly one [1..1] Reason for Procedure Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.158) (CONF:86-21631).</sch:assert>
      <sch:assert id="a-86-21632" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.148']])=1])=1">SHALL contain exactly one [1..1] entryRelationship (CONF:86-21632) such that it SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-21633). SHALL contain exactly one [1..1] PICC/IV Team (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.148) (CONF:86-21634).</sch:assert>
      <sch:assert id="a-86-28267" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.14'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-28267) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.14" (CONF:86-28268).</sch:assert>
      <sch:assert id="a-86-21639" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-21639).</sch:assert>
      <sch:assert id="a-86-22784" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22784).</sch:assert>
      <sch:assert id="a-86-21637" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.155'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-21637) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.155" (CONF:86-21638).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.155-errors" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.155']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.155-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.155-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.155-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2298-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.155' and @root != '2.16.840.1.113883.10.20.22.4.14' and @root != '2.16.840.1.113883.10.20.22.4.14' and @root != '2.16.840.1.113883.10.20.5.6.159' and @root != '2.16.840.1.113883.10.20.5.6.158' and @root != '2.16.840.1.113883.10.20.22.4.19' and @root != '2.16.840.1.113883.10.20.5.6.129' and @root != '2.16.840.1.113883.10.20.5.6.148'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.155' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.155-errors-CL" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.155']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.155-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.154-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.154-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.14-errors-abstract" />
      <sch:assert id="a-86-21640" test="@classCode='PROC'">SHALL contain exactly one [1..1] @classCode="PROC" Procedure (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21640).</sch:assert>
      <sch:assert id="a-86-21641" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21641).</sch:assert>
      <sch:assert id="a-86-21642" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-21642).</sch:assert>
      <sch:assert id="a-86-21643" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (ValueSet: NHSNProcedureCategoryCode urn:oid:2.16.840.1.113883.13.17 DYNAMIC) (CONF:86-21643).</sch:assert>
      <sch:assert id="a-86-21647" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:86-21647).</sch:assert>
      <sch:assert id="a-86-21648" test="cda:effectiveTime[count(cda:low)=1]">This effectiveTime SHALL contain exactly one [1..1] low (CONF:86-21648).</sch:assert>
      <sch:assert id="a-86-28269" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.14'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-28269) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.14" (CONF:86-28270).</sch:assert>
      <sch:assert id="a-86-21653" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (ValueSet: ProcedureAct statusCode urn:oid:2.16.840.1.113883.11.20.9.22 DYNAMIC) (CONF:86-21653).</sch:assert>
      <sch:assert id="a-86-21651" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.154'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-21651) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.154" (CONF:86-21652).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.154-errors" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.154']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.154-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.154-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.154-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2299-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.154' and @root != '2.16.840.1.113883.10.20.22.4.14' and @root != '2.16.840.1.113883.10.20.22.4.14'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.154' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.154-errors-CL" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.154']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.154-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.144-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.144-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-errors-abstract" />
      <sch:assert id="a-86-21716" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21716).</sch:assert>
      <sch:assert id="a-86-21717" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21717).</sch:assert>
      <sch:assert id="a-86-21718" test="@negationInd='false'">SHALL contain exactly one [1..1] @negationInd="false" (CONF:86-21718).</sch:assert>
      <sch:assert id="a-86-28259" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-28259) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:86-28260).</sch:assert>
      <sch:assert id="a-86-21723" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-21723).</sch:assert>
      <sch:assert id="a-86-21724" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-21724).</sch:assert>
      <sch:assert id="a-86-21725" test="cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-21725).</sch:assert>
      <sch:assert id="a-86-21726" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-21726).</sch:assert>
      <sch:assert id="a-86-21727" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-21727).</sch:assert>
      <sch:assert id="a-86-21728" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHALL be selected from ValueSet NHSNOccasionOfDetectionCode urn:oid:2.16.840.1.113883.13.12 DYNAMIC (CONF:86-21728).</sch:assert>
      <sch:assert id="a-86-22773" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22773).</sch:assert>
      <sch:assert id="a-86-21721" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.144'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-21721) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.144" (CONF:86-21722).</sch:assert>
      <sch:assert id="a-86-28383" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28383).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.144-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.144']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.144-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.144-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.144-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2302-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.144' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.22.4.4'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.144' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.144-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.144']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.144-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.125-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.125-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-errors-abstract" />
      <sch:assert id="a-86-21747" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21747).</sch:assert>
      <sch:assert id="a-86-21748" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21748).</sch:assert>
      <sch:assert id="a-86-21749" test="@negationInd='false'">SHALL contain exactly one [1..1] @negationInd="false" (CONF:86-21749).</sch:assert>
      <sch:assert id="a-86-28231" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-28231) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:86-28232).</sch:assert>
      <sch:assert id="a-86-21754" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-21754).</sch:assert>
      <sch:assert id="a-86-21755" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-21755).</sch:assert>
      <sch:assert id="a-86-21756" test="cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-21756).</sch:assert>
      <sch:assert id="a-86-21757" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-21757).</sch:assert>
      <sch:assert id="a-86-21758" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-21758).</sch:assert>
      <sch:assert id="a-86-21759" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:86-21759).</sch:assert>
      <sch:assert id="a-86-21760" test="cda:value[@xsi:type='CD'][@code='236435004']">This value SHALL contain exactly one [1..1] @code="236435004" End-stage renal failure, on dialysis (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96 STATIC) (CONF:86-21760).</sch:assert>
      <sch:assert id="a-86-21761" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.169']])=1])=1">SHALL contain exactly one [1..1] entryRelationship (CONF:86-21761) such that it SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-21762). SHALL contain exactly one [1..1] Transient Patient Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.169) (CONF:86-21763).</sch:assert>
      <sch:assert id="a-86-22747" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22747).</sch:assert>
      <sch:assert id="a-86-21752" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.125'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-21752) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.125" (CONF:86-21753).</sch:assert>
      <sch:assert id="a-86-28377" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28377).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.125-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.125']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.125-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.125-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.125-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2304-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.125' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.5.6.169'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.125' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.125-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.125']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.125-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.115-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.115-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.13-errors-abstract" />
      <sch:assert id="a-86-21764" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21764).</sch:assert>
      <sch:assert id="a-86-21765" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21765).</sch:assert>
      <sch:assert id="a-86-21766" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:86-21766).</sch:assert>
      <sch:assert id="a-86-21767" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-21767).</sch:assert>
      <sch:assert id="a-86-21768" test="cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-21768).</sch:assert>
      <sch:assert id="a-86-21769" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-21769).</sch:assert>
      <sch:assert id="a-86-21770" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-21770).</sch:assert>
      <sch:assert id="a-86-21771" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:86-21771).</sch:assert>
      <sch:assert id="a-86-21772" test="cda:value[@xsi:type='CD'][@code='2308-5']">This value SHALL contain exactly one [1..1] @code="2308-5" Buttonhole cannulation (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277 STATIC) (CONF:86-21772).</sch:assert>
      <sch:assert id="a-86-28217" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.13'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-28217) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.13" (CONF:86-28218).</sch:assert>
      <sch:assert id="a-86-21777" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-21777).</sch:assert>
      <sch:assert id="a-86-22726" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22726).</sch:assert>
      <sch:assert id="a-86-21775" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.115'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-21775) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.115" (CONF:86-21776).</sch:assert>
      <sch:assert id="a-86-28372" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28372).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.115-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.115']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.115-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.115-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.115-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2305-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.115' and @root != '2.16.840.1.113883.10.20.22.4.13' and @root != '2.16.840.1.113883.10.20.22.4.13'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.115' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.115-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.115']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.115-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.134-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.134-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-errors-abstract" />
      <sch:assert id="a-86-21796" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21796).</sch:assert>
      <sch:assert id="a-86-21797" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21797).</sch:assert>
      <sch:assert id="a-86-21798" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:86-21798).</sch:assert>
      <sch:assert id="a-86-28243" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-28243) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:86-28244).</sch:assert>
      <sch:assert id="a-86-21803" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-21803).</sch:assert>
      <sch:assert id="a-86-21804" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-21804).</sch:assert>
      <sch:assert id="a-86-21805-c" test="cda:code[@code='2307-7'][@codeSystem='2.16.840.1.113883.6.277']">To record imputability of a positive blood culture to the suspected source of contamination, the value of @code SHALL be 2307-7 Imputability of positive blood culture to the suspected source 2.16.840.1.113883.6.277 cdcNHSN (CONF:86-21805).</sch:assert>
      <sch:assert id="a-86-21806" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-21806).</sch:assert>
      <sch:assert id="a-86-21807" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-21807).</sch:assert>
      <sch:assert id="a-86-21808" test="count(cda:value)=1">SHALL contain exactly one [1..1] value (CONF:86-21808).</sch:assert>
      <sch:assert id="a-86-21809-c" test="not(tested-here)">In an Evidence of Infection (Dialysis) Report, (CONF:86-21809).</sch:assert>
      <sch:assert id="a-86-21810-c" test="not(/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37']) or (/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37'] and @negationInd='false')">The value of the observation's @negationInd SHALL be 'false' (CONF:86-21810).</sch:assert>
      <sch:assert id="a-86-21811-c" test="not(/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37']) or (/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37'] and cda:value[@code='60022001'] [@codeSystem='2.16.840.1.113883.6.96'])">The value of @code SHALL be 60022001 Possible 2.16.840.1.113883.6.96 SNOMED CT (CONF:86-21811).</sch:assert>
      <sch:assert id="a-86-22757" test="cda:id[@nullFlavor]">This id SHALL contain exactly one [1..1] @nullFlavor (CONF:86-22757).</sch:assert>
      <sch:assert id="a-86-21801" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.134'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-21801) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.134" (CONF:86-21802).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.134-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.134']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.134-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.134-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.134-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2307-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.134' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.22.4.4'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.134' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.134-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.134']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.134-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors-abstract" abstract="true">
      <sch:assert id="a-86-21953" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-21953).</sch:assert>
      <sch:assert id="a-86-21954" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1 STATIC) (CONF:86-21954).</sch:assert>
      <sch:assert id="a-86-21955" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:86-21955).</sch:assert>
      <sch:assert id="a-86-21956" test="count(cda:text)=1">SHALL contain exactly one [1..1] text (CONF:86-21956).</sch:assert>
      <sch:assert id="a-86-21957" test="count(cda:entry) &gt; 0">SHALL contain at least one [1..*] entry (CONF:86-21957).</sch:assert>
      <sch:assert id="a-86-21958" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:86-21959).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.4.26-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2312-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.4.26'])=0">'urn:oid:2.16.840.1.113883.10.20.5.4.26' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors-CL" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.128-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.128-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.14-errors-abstract" />
      <sch:assert id="a-86-28235" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.14'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-28235) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.14" (CONF:86-28236).</sch:assert>
      <sch:assert id="a-86-22162" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-22162).</sch:assert>
      <sch:assert id="a-86-22163" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-22163).</sch:assert>
      <sch:assert id="a-86-28107" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:86-28107).</sch:assert>
      <sch:assert id="a-86-28184" test="cda:code[@codeSystem='2.16.840.1.113883.6.96']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.96" (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96) (CONF:86-28184).</sch:assert>
      <sch:assert id="a-86-22160" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.128'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-22160) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.128" (CONF:86-22161).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.128-errors" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.128']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.128-errors-abstract" />
      <sch:assert id="a-86-21992" test="@classCode='PROC'">SHALL contain exactly one [1..1] @classCode="PROC" Procedure (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-21992).</sch:assert>
      <sch:assert id="a-86-21993" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-21993).</sch:assert>
      <sch:assert id="a-86-21994" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:86-21994).</sch:assert>
      <sch:assert id="a-86-21995" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-21995).</sch:assert>
      <sch:assert id="a-86-21996" test="cda:code[@code='423827005']">This code SHALL contain exactly one [1..1] @code="423827005" Endoscopy (CONF:86-21996).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.128-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.128-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2314-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.128' and @root != '2.16.840.1.113883.10.20.22.4.14' and @root != '2.16.840.1.113883.10.20.22.4.14'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.128' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.128-errors-CL" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.128']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.128-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.180-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.180-errors-abstract" abstract="true">
      <sch:assert id="a-86-22101" test="@classCode='CLUSTER'">SHALL contain exactly one [1..1] @classCode="CLUSTER" Cluster (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-22101).</sch:assert>
      <sch:assert id="a-86-22102" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-22102).</sch:assert>
      <sch:assert id="a-86-22103" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.180'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-22103) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.180" (CONF:86-22104).</sch:assert>
      <sch:assert id="a-86-22106" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-22106).</sch:assert>
      <sch:assert id="a-86-22107" test="count(cda:component) &gt; 0">SHALL contain at least one [1..*] component (CONF:86-22107).</sch:assert>
      <sch:assert id="a-86-23061" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:86-23061).</sch:assert>
      <sch:assert id="a-86-23062" test="cda:component[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.119']])=1]">Such components SHALL contain exactly one [1..1] Criterion of Diagnosis Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.119) (CONF:86-23062).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.180-errors" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.180']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.180-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.180-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.180-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2322-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.180' and @root != '2.16.840.1.113883.10.20.5.6.119' and @root != '2.16.840.1.113883.10.20.22.4.19'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.180' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.180-errors-CL" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.180']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.180-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.119-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.119-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.19-errors-abstract" />
      <sch:assert id="a-86-22126" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-22126).</sch:assert>
      <sch:assert id="a-86-22127" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-22127).</sch:assert>
      <sch:assert id="a-86-22128" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:86-22128).</sch:assert>
      <sch:assert id="a-86-28221" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.19'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-28221) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.19" (CONF:86-28222).</sch:assert>
      <sch:assert id="a-86-22130" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-22130).</sch:assert>
      <sch:assert id="a-86-22131" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-22131).</sch:assert>
      <sch:assert id="a-86-22132" test="cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-22132).</sch:assert>
      <sch:assert id="a-86-22133" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-22133).</sch:assert>
      <sch:assert id="a-86-22134" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-22134).</sch:assert>
      <sch:assert id="a-86-22135" test="count(cda:value)=1">SHALL contain exactly one [1..1] value (CONF:86-22135).</sch:assert>
      <sch:assert id="a-86-22136-c" test="not(/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.32' or                                                  @root='2.16.840.1.113883.10.20.5.33' or                                                  @root='2.16.840.1.113883.10.20.5.34'] ) or (/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.32' or                                                  @root='2.16.840.1.113883.10.20.5.33' or                                                  @root='2.16.840.1.113883.10.20.5.34'] and             cda:value[@xsi:type='CD' and  @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3195']/voc:code/@value           ] )">In an infection-type report, a criterion is reported as a code. The value of @xsi:type SHALL be CD and the value of @code SHALL be selected from Value Set 2.16.840.1.114222.4.11.3195 NHSNCriterionOfDiagnosisCode **DYNAMIC** (CONF:86-22136).</sch:assert>
      <sch:assert id="a-86-22137-c" test="not(tested-here)">In an Evidence of Infection (Dialysis) Report, (CONF:86-22137).</sch:assert>
      <sch:assert id="a-86-22138-c" test="not(/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37']) or      (/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37'] and              (cda:value[@xsi:type='CD'] and      cda:value[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3195']/voc:code/@value])  or (cda:value[@xsi:type='ST'] and cda:value   )) ">To record a criterion of diagnosis as a code, the value of @xsi:type SHALL be CD and the value of @code SHALL be selected from Value Set 2.16.840.1.114222.4.11.3195 NHSNCriterionOfDiagnosisCode **DYNAMIC** (CONF:86-22138).</sch:assert>
      <sch:assert id="a-86-22139-c" test="not(tested-here)">To record a criterion not included in the NHSNCriterionOfDiagnosisCode value set, the value of @xsi:type SHALL be ST and a text value SHALL be present (CONF:86-22139).</sch:assert>
      <sch:assert id="a-86-22736" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22736).</sch:assert>
      <sch:assert id="a-86-22129" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.119'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-22129) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.119" (CONF:86-22140).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.119-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.119']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.119-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.119-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.119-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2324-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.119' and @root != '2.16.840.1.113883.10.20.22.4.19' and @root != '2.16.840.1.113883.10.20.22.4.19'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.119' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.119-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.119']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.119-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.130-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.130-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.14-errors-abstract" />
      <sch:assert id="a-86-22141" test="@classCode='PROC'">SHALL contain exactly one [1..1] @classCode="PROC" Procedure (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-22141).</sch:assert>
      <sch:assert id="a-86-22142" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-22142).</sch:assert>
      <sch:assert id="a-86-22143" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:86-22143).</sch:assert>
      <sch:assert id="a-86-28239" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.14'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-28239) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.14" (CONF:86-28240).</sch:assert>
      <sch:assert id="a-86-22146" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-22146).</sch:assert>
      <sch:assert id="a-86-22147" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-22147).</sch:assert>
      <sch:assert id="a-86-22148" test="cda:code[@code='3109-6' and @codeSystem='2.16.840.1.113883.6.277']">This code SHALL contain exactly one [1..1] @code="3109-6" Hand hygiene (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277 STATIC) (CONF:86-22148).</sch:assert>
      <sch:assert id="a-86-22149" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-22149).</sch:assert>
      <sch:assert id="a-86-22150" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-22150).</sch:assert>
      <sch:assert id="a-86-22752" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22752).</sch:assert>
      <sch:assert id="a-86-22144" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.130'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-22144) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.130" (CONF:86-22145).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.130-errors" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.130']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.130-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.130-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.130-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2325-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.130' and @root != '2.16.840.1.113883.10.20.22.4.14' and @root != '2.16.840.1.113883.10.20.22.4.14'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.130' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.130-errors-CL" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.130']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.130-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.129-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.129-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.14-errors-abstract" />
      <sch:assert id="a-86-22151" test="@classCode='PROC'">SHALL contain exactly one [1..1] @classCode="PROC" Procedure (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-22151).</sch:assert>
      <sch:assert id="a-86-22152" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-22152).</sch:assert>
      <sch:assert id="a-86-22153" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:86-22153).</sch:assert>
      <sch:assert id="a-86-28237" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.14'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-28237) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.14" (CONF:86-28238).</sch:assert>
      <sch:assert id="a-86-22156" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-22156).</sch:assert>
      <sch:assert id="a-86-22157" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-22157).</sch:assert>
      <sch:assert id="a-86-22158" test="cda:code[@code='3121-1']">This code SHALL contain exactly one [1..1] @code="3121-1" Central line exchanged over guidewire (CONF:86-22158).</sch:assert>
      <sch:assert id="a-86-22159" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-22159).</sch:assert>
      <sch:assert id="a-86-22751" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22751).</sch:assert>
      <sch:assert id="a-86-28108" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:86-28108).</sch:assert>
      <sch:assert id="a-86-28185" test="cda:code[@codeSystem='2.16.840.1.113883.6.277']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:86-28185).</sch:assert>
      <sch:assert id="a-86-22154" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.129'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-22154) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.129" (CONF:86-22155).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.129-errors" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.129']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.129-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.129-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.129-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2326-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.129' and @root != '2.16.840.1.113883.10.20.22.4.14' and @root != '2.16.840.1.113883.10.20.22.4.14'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.129' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.129-errors-CL" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.129']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.129-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.136-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.136-errors-abstract" abstract="true">
      <sch:assert id="a-86-22164" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-22164).</sch:assert>
      <sch:assert id="a-86-22165" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-22165).</sch:assert>
      <sch:assert id="a-86-22166" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.136'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-22166) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.136" (CONF:86-22167).</sch:assert>
      <sch:assert id="a-86-22168" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-22168).</sch:assert>
      <sch:assert id="a-86-22169-c" test="(   (cda:id[@root=//cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.139']/cda:id/@root]) and    (cda:id[@extension=//cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.139']/cda:id/@extension]) ) or (   not(cda:id/@extension) and    not(//cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.139']/cda:id/@extension) and   (cda:id[@root=//cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.139']/cda:id/@root]) )">The value of the id SHALL be the same as the value of the id element in the Infection-type Observation (templateId 2.16.840.1.113883.10.20.5.6.139) (CONF:86-22169).</sch:assert>
      <sch:assert id="a-86-22170" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-22170).</sch:assert>
      <sch:assert id="a-86-22172" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-22172).</sch:assert>
      <sch:assert id="a-86-22173" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-22173).</sch:assert>
      <sch:assert id="a-86-22174" test="cda:code[count(self::node()[@code='ASSERTION'])=1]">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-22174).</sch:assert>
      <sch:assert id="a-86-28380" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28380).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.136-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.136']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.136-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.136-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.136-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2327-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.136'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.136' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.136-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.136']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.136-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.133-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.133-errors-abstract" abstract="true">
      <sch:assert id="a-86-22186-c" test="@negationInd or @nullFlavor='UNK'">If it is not known whether the outpatient was hospitalized, the value of act/@nullFlavor SHALL be UNK (CONF:86-22186).</sch:assert>
      <sch:assert id="a-86-22187" test="@classCode='ACT'">SHALL contain exactly one [1..1] @classCode="ACT" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-22187).</sch:assert>
      <sch:assert id="a-86-22188" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-22188).</sch:assert>
      <sch:assert id="a-86-22190-c" test="not(tested-here)">If the outpatient was hospitalized, the value of act/@negationInd SHALL be false. If the outpatient was not hospitalized, the value of act/@negationInd SHALL be true (CONF:86-22190).</sch:assert>
      <sch:assert id="a-86-22191" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.133'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-22191) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.133" (CONF:86-22192).</sch:assert>
      <sch:assert id="a-86-22193" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-22193).</sch:assert>
      <sch:assert id="a-86-22194" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-22194).</sch:assert>
      <sch:assert id="a-86-22195" test="cda:code[@code='32485007' and @codeSystem='2.16.840.1.113883.6.96']">This code SHALL contain exactly one [1..1] @code="32485007" Hospital Admission (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96 STATIC) (CONF:86-22195).</sch:assert>
      <sch:assert id="a-86-22756" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22756).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.133-errors" context="cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.133']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.133-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.133-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.133-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2330-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.133'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.133' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.133-errors-CL" context="cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.133']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.133-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.132-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.132-errors-abstract" abstract="true">
      <sch:assert id="a-86-22196" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-22196).</sch:assert>
      <sch:assert id="a-86-22197" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-22197).</sch:assert>
      <sch:assert id="a-86-22198" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:86-22198).</sch:assert>
      <sch:assert id="a-86-22199" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.132'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-22199) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.132" (CONF:86-22200).</sch:assert>
      <sch:assert id="a-86-22201" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-22201).</sch:assert>
      <sch:assert id="a-86-22202" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-22202).</sch:assert>
      <sch:assert id="a-86-22203" test="cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:86-22203).</sch:assert>
      <sch:assert id="a-86-22204" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-22204).</sch:assert>
      <sch:assert id="a-86-22205" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-22205).</sch:assert>
      <sch:assert id="a-86-22206" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:86-22206).</sch:assert>
      <sch:assert id="a-86-22207" test="cda:value[@xsi:type='CD'][count(self::node()[@code='2404-2'])=1]">This value SHALL contain exactly one [1..1] @code="2404-2" Removed within 48 hours prior (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277 STATIC) (CONF:86-22207).</sch:assert>
      <sch:assert id="a-86-22755" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22755).</sch:assert>
      <sch:assert id="a-86-28378" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-28378).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.132-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.132']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.132-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.132-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.132-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2331-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.132'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.132' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.132-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.132']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.132-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.127-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.127-errors-abstract" abstract="true">
      <sch:assert id="a-86-22208" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-22208).</sch:assert>
      <sch:assert id="a-86-22209" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-22209).</sch:assert>
      <sch:assert id="a-86-22210" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.127'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-22210) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.127" (CONF:86-22211).</sch:assert>
      <sch:assert id="a-86-22212" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-22212).</sch:assert>
      <sch:assert id="a-86-22213" test="cda:code[@code='289248003']">This code SHALL contain exactly one [1..1] @code="289248003" Duration of labor (CONF:86-22213).</sch:assert>
      <sch:assert id="a-86-22214" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-22214).</sch:assert>
      <sch:assert id="a-86-22215" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-22215).</sch:assert>
      <sch:assert id="a-86-22216" test="count(cda:value[@xsi:type='IVL_TS'])=1">SHALL contain exactly one [1..1] value with @xsi:type="IVL_TS" (CONF:86-22216).</sch:assert>
      <sch:assert id="a-86-22217" test="cda:value[@xsi:type='IVL_TS'][count(cda:width)=1]">This value SHALL contain exactly one [1..1] width (CONF:86-22217).</sch:assert>
      <sch:assert id="a-86-22218" test="cda:value[@xsi:type='IVL_TS']/cda:width[@value]">This width SHALL contain exactly one [1..1] @value (CONF:86-22218).</sch:assert>
      <sch:assert id="a-86-22219" test="cda:value[@xsi:type='IVL_TS']/cda:width[@unit]">This width SHALL contain exactly one [1..1] @unit (CONF:86-22219).</sch:assert>
      <sch:assert id="a-86-22221-c" test="cda:value/cda:width/@value &gt;= 0">The value of width/@value SHALL be a non-negative integer representing the duration of labor in terms of the units specified in @unit (CONF:86-22221).</sch:assert>
      <sch:assert id="a-86-28355" test="cda:code[@codeSystem='2.16.840.1.113883.6.96']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.96" (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96) (CONF:86-28355).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.127-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.127']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.127-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.127-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.127-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2332-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.127'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.127' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.127-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.127']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.127-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.182-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.182-errors-abstract" abstract="true">
      <sch:assert id="a-86-22239" test="@classCode='CLUSTER'">SHALL contain exactly one [1..1] @classCode="CLUSTER" Cluster (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-22239).</sch:assert>
      <sch:assert id="a-86-22240" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-22240).</sch:assert>
      <sch:assert id="a-86-22241" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.182'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-22241) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.182" (CONF:86-22242).</sch:assert>
      <sch:assert id="a-86-22243" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-22243).</sch:assert>
      <sch:assert id="a-86-22244" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-22244).</sch:assert>
      <sch:assert id="a-86-22245" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-22245).</sch:assert>
      <sch:assert id="a-86-22246" test="count(cda:component[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.145']])=1])=1">SHALL contain exactly one [1..1] component (CONF:86-22246) such that it SHALL contain exactly one [1..1] Pathogen Identified Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.145) (CONF:86-22247).</sch:assert>
      <sch:assert id="a-86-22248" test="count(cda:component[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.147']])=1])=1">SHALL contain exactly one [1..1] component (CONF:86-22248) such that it SHALL contain exactly one [1..1] Pathogen Ranking Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.147) (CONF:86-22249).</sch:assert>
      <sch:assert id="a-86-22770" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22770).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.182-errors" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.182']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.182-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.182-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.182-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2334-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.182' and @root != '2.16.840.1.113883.10.20.5.6.145' and @root != '2.16.840.1.113883.10.20.22.4.2' and @root != '2.16.840.1.113883.10.20.5.6.147' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.5.6.126'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.182' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.182-errors-CL" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.182']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.182-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.5.35-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.35-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors-abstract" />
      <sch:assert id="a-86-22279" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.35'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-22279) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.35" (CONF:86-22280).</sch:assert>
      <sch:assert id="a-86-22281" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-22281).</sch:assert>
      <sch:assert id="a-86-22282" test="cda:code[@code='51898-5']">This code SHALL contain exactly one [1..1] @code="51898-5" Risk Factors Section (CONF:86-22282).</sch:assert>
      <sch:assert id="a-86-22283" test="count(cda:entry[count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.156']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:86-22283) such that it SHALL contain exactly one [1..1] Procedure Risk Factors Clinical Statement in a Procedure Report (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.156) (CONF:86-22284).</sch:assert>
      <sch:assert id="a-86-22285" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.170']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:86-22285) such that it SHALL contain exactly one [1..1] Trauma Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.170) (CONF:86-22286).</sch:assert>
      <sch:assert id="a-86-22287" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.123']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:86-22287) such that it SHALL contain exactly one [1..1] Diabetes Mellitus Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.123) (CONF:86-22288).</sch:assert>
      <sch:assert id="a-86-22289" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.131']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:86-22289) such that it SHALL contain exactly one [1..1] Height Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.131) (CONF:86-22290).</sch:assert>
      <sch:assert id="a-86-22291" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.173']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:86-22291) such that it SHALL contain exactly one [1..1] Weight Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.173) (CONF:86-22292).</sch:assert>
      <sch:assert id="a-86-23213-c" test="not(/cda:ClinicalDocument/cda:componentOf/cda:encompassingEncounter/cda:code[@code='IMP']) or (/cda:ClinicalDocument/cda:componentOf/cda:encompassingEncounter/cda:code[@code='IMP'] and cda:entry/cda:observation/cda:templateId[@root='2.16.840.1.113883.10.20.5.6.113'])">If the patient is an inpatient (componentOf/encompassingEncounter/code/@code="IMP"), an entry element SHALL be present containing an ASA Class Observation (CONF:86-23213).</sch:assert>
      <sch:assert id="a-86-23216-c" test="not(//*[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.43']][cda:entry/cda:procedure/cda:code[@code='2115-4']]) or (//*[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.43']][cda:entry/cda:procedure/cda:code[@code='2115-4']] and cda:entry/cda:observation/cda:templateId[@root='2.16.840.1.113883.10.20.5.6.127'])">If the procedure, recorded in the Details Section of the report, was a Cesarean (code/@code is 2115-4), an entry element SHALL be present containing a Duration of Labor Observation (CONF:86-23216).</sch:assert>
      <sch:assert id="a-86-28361" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:86-28361).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.35-errors" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.35']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.5.35-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.5.35-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.35-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2338-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.5.35' and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.6.156' and @root != '2.16.840.1.113883.10.20.5.6.174' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.5.6.128' and @root != '2.16.840.1.113883.10.20.22.4.14' and @root != '2.16.840.1.113883.10.20.5.6.170' and @root != '2.16.840.1.113883.10.20.5.6.123' and @root != '2.16.840.1.113883.10.20.5.6.131' and @root != '2.16.840.1.113883.10.20.22.4.27' and @root != '2.16.840.1.113883.10.20.5.6.173' and @root != '2.16.840.1.113883.10.20.5.6.113' and @root != '2.16.840.1.113883.10.20.5.6.127'])=0">'urn:oid:2.16.840.1.113883.10.20.5.5.35' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.35-errors-CL" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.35']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.5.35-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.5.36-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.36-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors-abstract" />
      <sch:assert id="a-86-22296" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-22296).</sch:assert>
      <sch:assert id="a-86-22297" test="cda:code[@code='51898-5']">This code SHALL contain exactly one [1..1] @code="51898-5" Risk Factors Section (CONF:86-22297).</sch:assert>
      <sch:assert id="a-86-22298" test="count(cda:entry)=1">SHALL contain exactly one [1..1] entry (CONF:86-22298).</sch:assert>
      <sch:assert id="a-86-22299" test="cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.171']])=1]">This entry SHALL contain exactly one [1..1] Urinary Catheter Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.171) (CONF:86-22299).</sch:assert>
      <sch:assert id="a-86-22300" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.36'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-22300) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.36" (CONF:86-22301).</sch:assert>
      <sch:assert id="a-86-28362" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:86-28362).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.36-errors" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.36']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.5.36-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.5.36-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.36-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2339-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.5.36' and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.6.171' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.5.6.122' and @root != '2.16.840.1.113883.10.20.22.4.14' and @root != '2.16.840.1.113883.10.20.5.6.132'])=0">'urn:oid:2.16.840.1.113883.10.20.5.5.36' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.36-errors-CL" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.36']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.5.36-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.5.38-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.38-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors-abstract" />
      <sch:assert id="a-86-22310" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.38'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-22310) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.38" (CONF:86-22311).</sch:assert>
      <sch:assert id="a-86-22312" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-22312).</sch:assert>
      <sch:assert id="a-86-22313" test="cda:code[@code='51899-3']">This code SHALL contain exactly one [1..1] @code="51899-3" Details Section (CONF:86-22313).</sch:assert>
      <sch:assert id="a-86-22314" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.139']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:86-22314) such that it SHALL contain exactly one [1..1] Infection-Type Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.139) (CONF:86-22315).</sch:assert>
      <sch:assert id="a-86-28358" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:86-28358).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.38-errors" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.38']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.5.38-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.5.38-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.38-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2341-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.5.38' and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.6.139' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.5.6.180' and @root != '2.16.840.1.113883.10.20.5.6.119' and @root != '2.16.840.1.113883.10.20.22.4.19' and @root != '2.16.840.1.113883.10.20.5.6.135' and @root != '2.16.840.1.113883.10.20.5.6.160' and @root != '2.16.840.1.113883.10.20.5.6.114' and @root != '2.16.840.1.113883.10.20.5.6.144' and @root != '2.16.840.1.113883.10.20.5.6.120' and @root != '2.16.840.1.113883.10.20.22.4.79' and @root != '2.16.840.1.113883.10.20.5.6.136' and @root != '2.16.840.1.113883.10.20.5.6.150' and @root != '2.16.840.1.113883.10.20.5.6.154' and @root != '2.16.840.1.113883.10.20.22.4.14'])=0">'urn:oid:2.16.840.1.113883.10.20.5.5.38' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.38-errors-CL" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.38']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.5.38-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.5.40-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.40-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors-abstract" />
      <sch:assert id="a-86-22328" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.40'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-22328) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.40" (CONF:86-22329).</sch:assert>
      <sch:assert id="a-86-22330" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-22330).</sch:assert>
      <sch:assert id="a-86-22331" test="cda:code[@code='51899-3']">This code SHALL contain exactly one [1..1] @code="51899-3" Details Section (CONF:86-22331).</sch:assert>
      <sch:assert id="a-86-22332" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.139']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:86-22332) such that it SHALL contain exactly one [1..1] Infection-Type Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.139) (CONF:86-22333).</sch:assert>
      <sch:assert id="a-86-28359" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:86-28359).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.40-errors" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.40']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.5.40-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.5.40-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.40-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2343-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.5.40' and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.6.139' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.5.6.180' and @root != '2.16.840.1.113883.10.20.5.6.119' and @root != '2.16.840.1.113883.10.20.22.4.19' and @root != '2.16.840.1.113883.10.20.5.6.135' and @root != '2.16.840.1.113883.10.20.5.6.160' and @root != '2.16.840.1.113883.10.20.5.6.114' and @root != '2.16.840.1.113883.10.20.5.6.144' and @root != '2.16.840.1.113883.10.20.5.6.150' and @root != '2.16.840.1.113883.10.20.5.6.154' and @root != '2.16.840.1.113883.10.20.22.4.14' and @root != '2.16.840.1.113883.10.20.5.6.120' and @root != '2.16.840.1.113883.10.20.22.4.79' and @root != '2.16.840.1.113883.10.20.5.6.136'])=0">'urn:oid:2.16.840.1.113883.10.20.5.5.40' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.40-errors-CL" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.40']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.5.40-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.5.42-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.42-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors-abstract" />
      <sch:assert id="a-86-22352" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.42'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-22352) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.42" (CONF:86-22353).</sch:assert>
      <sch:assert id="a-86-22354" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-22354).</sch:assert>
      <sch:assert id="a-86-22355" test="cda:code[@code='51899-3']">This code SHALL contain exactly one [1..1] @code="51899-3" Details Section (CONF:86-22355).</sch:assert>
      <sch:assert id="a-86-22356" test="count(cda:entry)=1">SHALL contain exactly one [1..1] entry (CONF:86-22356).</sch:assert>
      <sch:assert id="a-86-22357" test="cda:entry[count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.155']])=1]">This entry SHALL contain exactly one [1..1] Procedure Details Clinical Statement in a CLIP Report (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.155) (CONF:86-22357).</sch:assert>
      <sch:assert id="a-86-28363" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:86-28363).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.42-errors" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.42']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.5.42-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.5.42-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.42-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2345-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.5.42' and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.6.155' and @root != '2.16.840.1.113883.10.20.22.4.14' and @root != '2.16.840.1.113883.10.20.5.6.159' and @root != '2.16.840.1.113883.10.20.5.6.158' and @root != '2.16.840.1.113883.10.20.22.4.19' and @root != '2.16.840.1.113883.10.20.5.6.129' and @root != '2.16.840.1.113883.10.20.5.6.148'])=0">'urn:oid:2.16.840.1.113883.10.20.5.5.42' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.42-errors-CL" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.42']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.5.42-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.5.45-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.45-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors-abstract" />
      <sch:assert id="a-86-22371" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.45'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-22371) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.45" (CONF:86-22372).</sch:assert>
      <sch:assert id="a-86-22373" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-22373).</sch:assert>
      <sch:assert id="a-86-22374" test="cda:code[@code='18769-0']">This code SHALL contain exactly one [1..1] @code="18769-0" Findings Section (CONF:86-22374).</sch:assert>
      <sch:assert id="a-86-23050-c" test="not(not(cda:entry/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.145'])) or (cda:entry/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.182'])">If pathogens were identified, the Findings Section SHALL contain at least one and no more than three entry elements containing a Findings Organizer reporting pathogens identified (CONF:86-23050).</sch:assert>
      <sch:assert id="a-86-23053-c" test="not(not(cda:entry/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.182'])) or (cda:entry/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.145'])">If no pathogens were identified, the Findings Section SHALL contain a single entry element containing a Pathogen Identified Observation reporting that no pathogens were identified (CONF:86-23053).</sch:assert>
      <sch:assert id="a-86-23056-c" test="not(tested-here)">If pathogens were identified, and the report is a UTI, SSI, VAE, or BSI Report, an entry element SHALL be present, containing an MDRO/CDI Observation (CONF:86-23056).</sch:assert>
      <sch:assert id="a-86-28357" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:86-28357).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.45-errors" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.45']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.5.45-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.5.45-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.45-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2348-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.5.45' and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.6.182' and @root != '2.16.840.1.113883.10.20.5.6.145' and @root != '2.16.840.1.113883.10.20.22.4.2' and @root != '2.16.840.1.113883.10.20.5.6.147' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.5.6.126' and @root != '2.16.840.1.113883.10.20.5.6.142'])=0">'urn:oid:2.16.840.1.113883.10.20.5.5.45' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.45-errors-CL" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.45']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.5.45-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.5.47-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.47-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors-abstract" />
      <sch:assert id="a-86-22386" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.47'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-22386) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.47" (CONF:86-22387).</sch:assert>
      <sch:assert id="a-86-22388" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-22388).</sch:assert>
      <sch:assert id="a-86-22389" test="cda:code[@code='51900-9']">This code SHALL contain exactly one [1..1] @code="51900-9" Summary Data Section (CONF:86-22389).</sch:assert>
      <sch:assert id="a-86-22390" test="count(cda:entry) &gt; 0">SHALL contain at least one [1..*] entry (CONF:86-22390).</sch:assert>
      <sch:assert id="a-86-22391" test="cda:entry[count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.184']])=1]">Such entries SHALL contain exactly one [1..1] Summary Encounter (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.184) (CONF:86-22391).</sch:assert>
      <sch:assert id="a-86-28365" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:86-28365).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.47-errors" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.47']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.5.47-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.5.47-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.47-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2350-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.5.47' and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.6.184' and @root != '2.16.840.1.113883.10.20.5.6.185'])=0">'urn:oid:2.16.840.1.113883.10.20.5.5.47' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.47-errors-CL" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.47']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.5.47-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.184-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.184-errors-abstract" abstract="true">
      <sch:assert id="a-86-22392" test="@classCode='ENC'">SHALL contain exactly one [1..1] @classCode="ENC" Encounter (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-22392).</sch:assert>
      <sch:assert id="a-86-22393" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-22393).</sch:assert>
      <sch:assert id="a-86-22394" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.184'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-22394) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.184" (CONF:86-22395).</sch:assert>
      <sch:assert id="a-86-22397" test="count(cda:participant[@typeCode='LOC'][count(cda:participantRole[@classCode='SDLOC'])=1])=1">SHALL contain exactly one [1..1] participant (CONF:86-22397) such that it SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:86-22398). SHALL contain exactly one [1..1] participantRole (CONF:86-22399). This participantRole SHALL contain exactly one [1..1] @classCode="SDLOC" Service Delivery Location (CodeSystem: HL7EntityClass urn:oid:2.16.840.1.113883.5.41 STATIC) (CONF:86-22400).</sch:assert>
      <sch:assert id="a-86-22401-c" test="(cda:participant/cda:participantRole[cda:id[@root and @extension] and cda:code])  or cda:participant/cda:participantRole/cda:id[@root and not(@extension)] or (cda:participant/cda:participantRole/cda:code and cda:participant/cda:participantRole/cda:scopingEntity[@classCode='PLC'][cda:id[@root]])">If recording data from an in-facility location, the participantRole element **SHALL** contain an id element with both @root and @extension, and a code element where the value is selected from ValueSet NHSNHealthcareServiceLocationCode 2.16.840.1.113883.13.19 **DYNAMIC**, recording the type of location (CONF:86-22401).</sch:assert>
      <sch:assert id="a-86-22402-c" test="not(tested-here)">Or, if recording data from the whole facility, the participantRole element **SHALL** contain an id element with @root (CONF:86-22402).</sch:assert>
      <sch:assert id="a-86-22403-c" test="not(tested-here)">Or, if recording data from a specialized subset of a facility, the participantRole element **SHALL** contain a code element where the value is selected from ValueSet NHSNHealthcareServiceLocationCode 2.16.840.1.113883.13.19 **DYNAMIC**, recording the type of location, and a scopingEntity element where the value of @classCode is “PLC” and id/@root is present (CONF:86-22403).</sch:assert>
      <sch:assert id="a-86-22404" test="count(cda:entryRelationship) &gt; 0">SHALL contain at least one [1..*] entryRelationship (CONF:86-22404).</sch:assert>
      <sch:assert id="a-86-22405" test="cda:entryRelationship[@typeCode='COMP']">Such entryRelationships SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-22405).</sch:assert>
      <sch:assert id="a-86-22406" test="cda:entryRelationship[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.185']])=1]">Such entryRelationships SHALL contain exactly one [1..1] Summary Data Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.185) (CONF:86-22406).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.184-errors" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.184']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.184-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.184-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.184-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2351-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.184' and @root != '2.16.840.1.113883.10.20.5.6.185'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.184' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.184-errors-CL" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.184']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.184-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.185-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.185-errors-abstract" abstract="true">
      <sch:assert id="a-86-22407" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:86-22407).</sch:assert>
      <sch:assert id="a-86-22408" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:86-22408).</sch:assert>
      <sch:assert id="a-86-22409" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.185'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-22409) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.185" (CONF:86-22410).</sch:assert>
      <sch:assert id="a-86-22411" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-22411).</sch:assert>
      <sch:assert id="a-86-22412" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-22412).</sch:assert>
      <sch:assert id="a-86-22413" test="count(cda:value)=1">SHALL contain exactly one [1..1] value (CONF:86-22413).</sch:assert>
      <sch:assert id="a-86-26183-c" test="(cda:value/@xsi:type='PQ' and cda:value/@unit='d') or (cda:value/@xsi:type='INT') or (cda:value/@xsi:type='CD')">If the observation reports a number of days, the value of value/xsi:type SHALL be PQ and the value of value/@unit SHALL be d. If the observation reports a number of patients, episodes or events the value of value/@xsi:type SHALL be INT. If the value is a code, the value of value/@xsi:type SHALL be CD (CONF:86-26183).</sch:assert>
      <sch:assert id="a-86-28189" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:86-28189).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.185-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.185']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.185-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.185-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.185-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2352-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.185'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.185' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.185-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.185']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.185-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.4.28-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.4.28-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.25-errors-abstract" />
      <sch:assert id="a-86-22431" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.28'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-22431) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.28" (CONF:86-22432).</sch:assert>
      <sch:assert id="a-86-22433" test="count(cda:recordTarget)=1">SHALL contain exactly one [1..1] recordTarget (CONF:86-22433).</sch:assert>
      <sch:assert id="a-86-22434" test="cda:recordTarget[count(cda:patientRole)=1]">This recordTarget SHALL contain exactly one [1..1] patientRole (CONF:86-22434).</sch:assert>
      <sch:assert id="a-86-22435" test="cda:recordTarget/cda:patientRole[count(cda:id)=1]">This patientRole SHALL contain exactly one [1..1] id (CONF:86-22435).</sch:assert>
      <sch:assert id="a-86-22436" test="cda:recordTarget/cda:patientRole/cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" not applicable (CONF:86-22436).</sch:assert>
      <sch:assert id="a-86-22437" test="count(cda:participant[@typeCode='SBJ'][@contextControlCode='OP'][count(cda:associatedEntity[@classCode='PRS'][count(cda:code[@code='389109008'])=1])=1])=1">SHALL contain exactly one [1..1] participant (CONF:86-22437) such that it SHALL contain exactly one [1..1] @typeCode="SBJ" Subject (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:86-22438). SHALL contain exactly one [1..1] @contextControlCode="OP" (CodeSystem: HL7ContextControl urn:oid:2.16.840.1.113883.5.1057 STATIC) (CONF:86-22439). SHALL contain exactly one [1..1] associatedEntity (CONF:86-22440). This associatedEntity SHALL contain exactly one [1..1] @classCode="PRS" Person (CodeSystem: HL7EntityClass urn:oid:2.16.840.1.113883.5.41 STATIC) (CONF:86-22441). This associatedEntity SHALL contain exactly one [1..1] code (CONF:86-22442). This code SHALL contain exactly one [1..1] @code="389109008" Group (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96 STATIC) (CONF:86-22443).</sch:assert>
      <sch:assert id="a-86-22444" test="count(cda:participant[@typeCode='LOC'][count(cda:associatedEntity[@classCode='SDLOC'][count(cda:id[@root])=1])=1])=1">SHALL contain exactly one [1..1] participant (CONF:86-22444) such that it SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:86-22445). SHALL contain exactly one [1..1] associatedEntity (CONF:86-22447). This associatedEntity SHALL contain exactly one [1..1] @classCode="SDLOC" Service delivery location (CodeSystem: HL7RoleClass urn:oid:2.16.840.1.113883.5.110 STATIC) (CONF:86-22448). This associatedEntity SHALL contain exactly one [1..1] id (CONF:86-22449). This id SHALL contain exactly one [1..1] @root (CONF:86-22450).</sch:assert>
      <sch:assert id="a-86-22451" test="count(cda:documentationOf)=1">SHALL contain exactly one [1..1] documentationOf (CONF:86-22451).</sch:assert>
      <sch:assert id="a-86-22452" test="cda:documentationOf[count(cda:serviceEvent)=1]">This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:86-22452).</sch:assert>
      <sch:assert id="a-86-22453" test="cda:documentationOf/cda:serviceEvent[@classCode='CASE']">This serviceEvent SHALL contain exactly one [1..1] @classCode="CASE" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-22453).</sch:assert>
      <sch:assert id="a-86-22454" test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]">This serviceEvent SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNPopulationSummaryReportTypeCode urn:oid:2.16.840.1.114222.4.11.3595 DYNAMIC (CONF:86-22454).</sch:assert>
      <sch:assert id="a-86-22456" test="cda:documentationOf/cda:serviceEvent[count(cda:effectiveTime)=1]">This serviceEvent SHALL contain exactly one [1..1] effectiveTime (CONF:86-22456).</sch:assert>
      <sch:assert id="a-86-22457" test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:low)=1]">This effectiveTime SHALL contain exactly one [1..1] low (CONF:86-22457).</sch:assert>
      <sch:assert id="a-86-22458" test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:high)=1]">This effectiveTime SHALL contain exactly one [1..1] high (CONF:86-22458).</sch:assert>
      <sch:assert id="a-86-22459-c" test="not(tested-here)">The author SHALL represent the software forming the message (CONF:86-22459).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.4.28-errors" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.4.28']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.28-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.189-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.189-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.2-errors-abstract" />
      <sch:assert id="a-86-22687" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:86-22687).</sch:assert>
      <sch:assert id="a-86-22688" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:86-22688).</sch:assert>
      <sch:assert id="a-86-28211" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.2'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-28211) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.2" (CONF:86-28212).</sch:assert>
      <sch:assert id="a-86-22691" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-22691).</sch:assert>
      <sch:assert id="a-86-22692" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22692).</sch:assert>
      <sch:assert id="a-86-22693" test="count(cda:code)=1">SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNStaphAureusSpecificTest urn:oid:2.16.840.1.114222.4.11.7160 DYNAMIC (CONF:86-22693).</sch:assert>
      <sch:assert id="a-86-22694" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-22694).</sch:assert>
      <sch:assert id="a-86-22695" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" (CONF:86-22695).</sch:assert>
      <sch:assert id="a-86-22696" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:86-22696).</sch:assert>
      <sch:assert id="a-86-22697" test="cda:effectiveTime[@nullFlavor='NA']">This effectiveTime SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-22697).</sch:assert>
      <sch:assert id="a-86-22698" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHALL be selected from ValueSet NHSNStaphAureusTestResults urn:oid:2.16.840.1.114222.4.11.6074 DYNAMIC (CONF:86-22698).</sch:assert>
      <sch:assert id="a-86-22689" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.189'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-22689) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.189" (CONF:86-22690).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.189-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.189']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.189-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.189-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.189-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2366-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.189' and @root != '2.16.840.1.113883.10.20.22.4.2' and @root != '2.16.840.1.113883.10.20.22.4.2'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.189' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.189-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.189']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.189-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.190-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.190-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.1-errors-abstract" />
      <sch:assert id="a-86-22700" test="@classCode='CLUSTER'">SHALL contain exactly one [1..1] @classCode="CLUSTER" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:86-22700).</sch:assert>
      <sch:assert id="a-86-22701" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:86-22701).</sch:assert>
      <sch:assert id="a-86-28209" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.1'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-28209) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.1" (CONF:86-28210).</sch:assert>
      <sch:assert id="a-86-22704" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-22704).</sch:assert>
      <sch:assert id="a-86-22705" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-22705).</sch:assert>
      <sch:assert id="a-86-22706" test="cda:code[@code='18725-2' and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code="18725-2" Microbiology studies (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:86-22706).</sch:assert>
      <sch:assert id="a-86-22707" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-22707).</sch:assert>
      <sch:assert id="a-86-22708" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:86-22708).</sch:assert>
      <sch:assert id="a-86-22709" test="count(cda:component[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.189']])=1]) &gt; 0">SHALL contain at least one [1..*] component (CONF:86-22709) such that it SHALL contain exactly one [1..1] ARO Staph Aureus Specific Tests Result Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.189) (CONF:86-22710).</sch:assert>
      <sch:assert id="a-86-23365" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:86-23365).</sch:assert>
      <sch:assert id="a-86-22702" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.190'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-22702) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.190" (CONF:86-22703).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.190-errors" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.190']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.190-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.190-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.190-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2367-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.190' and @root != '2.16.840.1.113883.10.20.22.4.1' and @root != '2.16.840.1.113883.10.20.22.4.1' and @root != '2.16.840.1.113883.10.20.5.6.189' and @root != '2.16.840.1.113883.10.20.22.4.2'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.190' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.190-errors-CL" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.190']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.190-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.191-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.191-errors-abstract" abstract="true">
      <sch:assert id="a-86-22817" test="@classCode='ENC'">SHALL contain exactly one [1..1] @classCode="ENC" Encounter (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-22817).</sch:assert>
      <sch:assert id="a-86-22818" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-22818).</sch:assert>
      <sch:assert id="a-86-22819" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.191'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-22819) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.191" (CONF:86-22820).</sch:assert>
      <sch:assert id="a-86-22821" test="count(cda:participant[@typeCode='LOC'][count(cda:participantRole[@classCode='SDLOC'])=1])=1">SHALL contain exactly one [1..1] participant (CONF:86-22821) such that it SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:86-22822). SHALL contain exactly one [1..1] participantRole (CONF:86-22823). This participantRole SHALL contain exactly one [1..1] @classCode="SDLOC" Service Delivery Location (CodeSystem: HL7EntityClass urn:oid:2.16.840.1.113883.5.41 STATIC) (CONF:86-22824).</sch:assert>
      <sch:assert id="a-86-22825-c" test="(cda:participant/cda:participantRole[cda:id[@root and @extension] and cda:code])  or cda:participant/cda:participantRole/cda:id[@root and not(@extension)] or (cda:participant/cda:participantRole/cda:code and cda:participant/cda:participantRole/cda:scopingEntity[@classCode='PLC'][cda:id[@root]])">If recording data from an in-facility location, the participantRole element **SHALL** contain an id element with both @root and @extension, and a code element where the value is selected from ValueSet NHSNHealthcareServiceLocationCode 2.16.840.1.113883.13.19 **DYNAMIC**, recording the type of location (CONF:86-22825).</sch:assert>
      <sch:assert id="a-86-22826-c" test="not(tested-here)">Or, if recording data from the whole facility, the participantRole element **SHALL** contain an id element with @root (CONF:86-22826).</sch:assert>
      <sch:assert id="a-86-22827-c" test="not(tested-here)">Or, if recording data from a specialized subset of a facility, the participantRole element **SHALL** contain a code element where the value is selected from ValueSet NHSNHealthcareServiceLocationCode 2.16.840.1.113883.13.19 **DYNAMIC**, recording the type of location, and a scopingEntity element where the value of @classCode is “PLC” and id/@root is present (CONF:86-22827).</sch:assert>
      <sch:assert id="a-86-22828" test="count(cda:participant[@typeCode='SBJ'][count(cda:participantRole[@classCode='PRS'][count(cda:code)=1])=1])=1">SHALL contain exactly one [1..1] participant (CONF:86-22828) such that it SHALL contain exactly one [1..1] @typeCode="SBJ" (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90) (CONF:86-22829). SHALL contain exactly one [1..1] participantRole (CONF:86-22830). This participantRole SHALL contain exactly one [1..1] @classCode="PRS" (CodeSystem: HL7EntityClass urn:oid:2.16.840.1.113883.5.41) (CONF:86-22831). This participantRole SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNPopulationCategoryCode urn:oid:2.16.840.1.114222.4.11.3234 DYNAMIC (CONF:86-22832).</sch:assert>
      <sch:assert id="a-86-22834" test="count(cda:entryRelationship) &gt; 0">SHALL contain at least one [1..*] entryRelationship (CONF:86-22834).</sch:assert>
      <sch:assert id="a-86-22835" test="cda:entryRelationship[@typeCode='COMP']">Such entryRelationships SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-22835).</sch:assert>
      <sch:assert id="a-86-22836" test="cda:entryRelationship[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.185']])=1]">Such entryRelationships SHALL contain exactly one [1..1] Summary Data Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.185) (CONF:86-22836).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.191-errors" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.191']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.191-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.191-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.191-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2370-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.191' and @root != '2.16.840.1.113883.10.20.5.6.185'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.191' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.191-errors-CL" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.191']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.191-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.192-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.192-errors-abstract" abstract="true">
      <sch:assert id="a-86-22855" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-22855).</sch:assert>
      <sch:assert id="a-86-22856" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-22856).</sch:assert>
      <sch:assert id="a-86-22857" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.192'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-22857) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.192" (CONF:86-22858).</sch:assert>
      <sch:assert id="a-86-22859" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-22859).</sch:assert>
      <sch:assert id="a-86-22860" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-22860).</sch:assert>
      <sch:assert id="a-86-22861" test="count(cda:value)=1">SHALL contain exactly one [1..1] value (CONF:86-22861).</sch:assert>
      <sch:assert id="a-86-22862-c" test="not(tested-here)">To record which organism was monitored (code/@code 3193-0 AST Organism Monitored), the value of value/@code SHALL be selected from ValueSet NHSNOrganismASTCode 2.16.840.1.114222.4.11.3283 **DYNAMIC** (CONF:86-22862).</sch:assert>
      <sch:assert id="a-86-22863-c" test="not(tested-here)">To record the timing of monitoring (code/@code 1870-5 Timing), the value of value/@code SHALL be selected from ValueSet 2.16.840.1.114222.4.11.3247 NHSNTimingCode **DYNAMIC** (CONF:86-22863).</sch:assert>
      <sch:assert id="a-86-22864-c" test="not(tested-here)">To record eligibility criteria for monitoring (code/@code 1871-3 Eligibility), the value of value/@code SHALL be selected from ValueSet 2.16.840.1.114222.4.11.3248 NHSNEligibilityCode **DYNAMIC** (CONF:86-22864).</sch:assert>
      <sch:assert id="a-86-23371-c" test="(cda:value/@xsi:type='PQ' and cda:value/@unit='d') or (cda:value/@xsi:type='INT') or (cda:value/@xsi:type='CD')">If the observation reports a number of days, the value of value/xsi:type SHALL be PQ and the value of value/@unit SHALL be d. If the observation reports a number of patients, the value of value/@xsi:type SHALL be INT. If the value is a code, the value of value/@xsi:type SHALL be CD (CONF:86-23371).</sch:assert>
      <sch:assert id="a-86-23373" test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.185']])=1]">The entryRelationship, if present, SHALL contain exactly one [1..1] Summary Data Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.185) (CONF:86-23373).</sch:assert>
      <sch:assert id="a-86-23374-c" test="not(testable)">To record which organism was monitored (code/@code 3193-0 AST Organism Monitored) this observation SHALL contain, as entryRelationships where the value of @typeCode is COMP, Summary Data Observations recording the data collected for that class. The specific data required are specified by the NHSN protocol (CONF:86-23374).</sch:assert>
      <sch:assert id="a-86-28112" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:86-28112).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.192-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.192']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.192-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.192-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.192-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2373-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.192' and @root != '2.16.840.1.113883.10.20.5.6.185'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.192' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.192-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.192']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.192-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.193-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.193-errors-abstract" abstract="true">
      <sch:assert id="a-86-22866" test="@classCode='ENC'">SHALL contain exactly one [1..1] @classCode="ENC" Encounter (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-22866).</sch:assert>
      <sch:assert id="a-86-22867" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-22867).</sch:assert>
      <sch:assert id="a-86-22868" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.193'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-22868) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.193" (CONF:86-22869).</sch:assert>
      <sch:assert id="a-86-22870" test="count(cda:participant[@typeCode='LOC'][count(cda:participantRole[@classCode='SDLOC'])=1])=1">SHALL contain exactly one [1..1] participant (CONF:86-22870) such that it SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:86-22871). SHALL contain exactly one [1..1] participantRole (CONF:86-22872). This participantRole SHALL contain exactly one [1..1] @classCode="SDLOC" Service Delivery Location (CodeSystem: HL7EntityClass urn:oid:2.16.840.1.113883.5.41 STATIC) (CONF:86-22873).</sch:assert>
      <sch:assert id="a-86-22874-c" test="(cda:participant/cda:participantRole[cda:id[@root and @extension] and cda:code])  or cda:participant/cda:participantRole/cda:id[@root and not(@extension)] or (cda:participant/cda:participantRole/cda:code and cda:participant/cda:participantRole/cda:scopingEntity[@classCode='PLC'][cda:id[@root]])">If recording data from an in-facility location, the participantRole element **SHALL** contain an id element with both @root and @extension, and a code element where the value is selected from ValueSet NHSNHealthcareServiceLocationCode 2.16.840.1.113883.13.19 **DYNAMIC**, recording the type of location (CONF:86-22874).</sch:assert>
      <sch:assert id="a-86-22875-c" test="not(tested-here)">Or, if recording data from the whole facility, the participantRole element **SHALL** contain an id element with @root (CONF:86-22875).</sch:assert>
      <sch:assert id="a-86-22876-c" test="not(tested-here)">Or, if recording data from a specialized subset of a facility, the participantRole element **SHALL** contain a code element where the value is selected from ValueSet NHSNHealthcareServiceLocationCode 2.16.840.1.113883.13.19 **DYNAMIC**, recording the type of location, and a scopingEntity element where the value of @classCode is “PLC” and id/@root is present (CONF:86-22876).</sch:assert>
      <sch:assert id="a-86-22877" test="count(cda:entryRelationship) &gt; 0">SHALL contain at least one [1..*] entryRelationship (CONF:86-22877).</sch:assert>
      <sch:assert id="a-86-22878" test="cda:entryRelationship[@typeCode='COMP']">Such entryRelationships SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-22878).</sch:assert>
      <sch:assert id="a-86-22879" test="cda:entryRelationship[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.192']])=1]">Such entryRelationships SHALL contain exactly one [1..1] Summary Data Observation (POM) (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.192) (CONF:86-22879).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.193-errors" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.193']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.193-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.193-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.193-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2374-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.193' and @root != '2.16.840.1.113883.10.20.5.6.192' and @root != '2.16.840.1.113883.10.20.5.6.185'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.193' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.193-errors-CL" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.193']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.193-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.194-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.194-errors-abstract" abstract="true">
      <sch:assert id="a-86-22910" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-22910).</sch:assert>
      <sch:assert id="a-86-22911" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-22911).</sch:assert>
      <sch:assert id="a-86-22912" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.194'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-22912) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.194" (CONF:86-22913).</sch:assert>
      <sch:assert id="a-86-22914" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-22914).</sch:assert>
      <sch:assert id="a-86-22915" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:86-22915).</sch:assert>
      <sch:assert id="a-86-22916" test="count(cda:value)=1">SHALL contain exactly one [1..1] value (CONF:86-22916).</sch:assert>
      <sch:assert id="a-86-22917-c" test="(cda:value/@xsi:type='PQ' and cda:value/@unit='d') or (cda:value/@xsi:type='INT') or (cda:value/@xsi:type='CD')">If the observation reports a number of days, the value of value/xsi:type SHALL be PQ and the value of value/@unit SHALL be d. If the observation reports a number of patients, the value of value/@xsi:type SHALL be INT. If the value is a code, the value of value/@xsi:type SHALL be CD (CONF:86-22917).</sch:assert>
      <sch:assert id="a-86-23044" test="count(cda:methodCode)=1">SHALL contain exactly one [1..1] methodCode, which SHALL be selected from ValueSet NHSNRouteOfAdministrationAURPCode urn:oid:2.16.840.1.114222.4.11.3361 DYNAMIC (CONF:86-23044).</sch:assert>
      <sch:assert id="a-86-28111" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:86-28111).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.194-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.194']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.194-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.194-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.194-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2378-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.194'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.194' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.194-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.194']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.194-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.195-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.195-errors-abstract" abstract="true">
      <sch:assert id="a-86-22933" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-22933).</sch:assert>
      <sch:assert id="a-86-22934" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-22934).</sch:assert>
      <sch:assert id="a-86-22935" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.195'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-22935) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.195" (CONF:86-22936).</sch:assert>
      <sch:assert id="a-86-22937" test="count(cda:code)=1">SHALL contain exactly one [1..1] code, which SHOULD be selected from ValueSet Codes for Vascular Access Type (Dialysis) Summary Data urn:oid:2.16.840.1.113883.10.20.5.9.17 DYNAMIC (CONF:86-22937).</sch:assert>
      <sch:assert id="a-86-22938" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:86-22938).</sch:assert>
      <sch:assert id="a-86-22939" test="count(cda:value)=1">SHALL contain exactly one [1..1] value (CONF:86-22939).</sch:assert>
      <sch:assert id="a-86-22941" test="not(cda:entryRelationship) or cda:entryRelationship[@typeCode='COMP']">The entryRelationship, if present, SHALL contain exactly one [1..1] @typeCode="COMP" (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002) (CONF:86-22941).</sch:assert>
      <sch:assert id="a-86-22942" test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.185']])=1]">The entryRelationship, if present, SHALL contain exactly one [1..1] Summary Data Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.185) (CONF:86-22942).</sch:assert>
      <sch:assert id="a-86-22943-c" test="not(testable)">In a VAT Report, the Summary Observation recording the number of patients with fistula SHALL contain an entryRelationship where the value of @typeCode is COMP, that contains a Summary Data Observation recording the number of those patients with buttonhole cannulation (CONF:86-22943).</sch:assert>
      <sch:assert id="a-86-22944-c" test="(cda:value/@xsi:type='PQ' and cda:value/@unit='d') or (cda:value/@xsi:type='INT') or (cda:value/@xsi:type='CD')">If the observation reports a number of days, the value of value/xsi:type SHALL be PQ and the value of value/@unit SHALL be d. If the observation reports a number of patients, the value of value/@xsi:type SHALL be INT. If the value is a code, the value of value/@xsi:type SHALL be CD (CONF:86-22944).</sch:assert>
      <sch:assert id="a-86-28113" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:86-28113).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.195-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.195']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.195-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.195-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.195-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2380-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.195' and @root != '2.16.840.1.113883.10.20.5.6.185'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.195' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.195-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.195']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.195-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.5.50-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.50-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors-abstract" />
      <sch:assert id="a-86-22945" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.50'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-22945) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.50" (CONF:86-22946).</sch:assert>
      <sch:assert id="a-86-22947" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:86-22947).</sch:assert>
      <sch:assert id="a-86-22948" test="cda:code[@code='51900-9']">This code SHALL contain exactly one [1..1] @code="51900-9" Summary Data Section (CONF:86-22948).</sch:assert>
      <sch:assert id="a-86-22949" test="count(cda:entry) &gt; 0">SHALL contain at least one [1..*] entry (CONF:86-22949).</sch:assert>
      <sch:assert id="a-86-22950" test="cda:entry[count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.196']])=1]">Such entries SHALL contain exactly one [1..1] Summary Encounter (VAT) (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.196) (CONF:86-22950).</sch:assert>
      <sch:assert id="a-86-28369" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:86-28369).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.50-errors" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.50']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.5.50-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.5.50-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.50-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2381-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.5.50' and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.6.196' and @root != '2.16.840.1.113883.10.20.5.6.195' and @root != '2.16.840.1.113883.10.20.5.6.185'])=0">'urn:oid:2.16.840.1.113883.10.20.5.5.50' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.50-errors-CL" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.50']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.5.50-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.196-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.196-errors-abstract" abstract="true">
      <sch:assert id="a-86-22951" test="@classCode='ENC'">SHALL contain exactly one [1..1] @classCode="ENC" Encounter (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-22951).</sch:assert>
      <sch:assert id="a-86-22952" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-22952).</sch:assert>
      <sch:assert id="a-86-22953" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.196'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-22953) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.196" (CONF:86-22954).</sch:assert>
      <sch:assert id="a-86-22955" test="count(cda:participant[@typeCode='LOC'][count(cda:participantRole[@classCode='SDLOC'])=1])=1">SHALL contain exactly one [1..1] participant (CONF:86-22955) such that it SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:86-22956). SHALL contain exactly one [1..1] participantRole (CONF:86-22957). This participantRole SHALL contain exactly one [1..1] @classCode="SDLOC" Service Delivery Location (CodeSystem: HL7EntityClass urn:oid:2.16.840.1.113883.5.41 STATIC) (CONF:86-22958).</sch:assert>
      <sch:assert id="a-86-22959-c" test="(cda:participant/cda:participantRole[cda:id[@root and @extension] and cda:code])  or cda:participant/cda:participantRole/cda:id[@root and not(@extension)] or (cda:participant/cda:participantRole/cda:code and cda:participant/cda:participantRole/cda:scopingEntity[@classCode='PLC'][cda:id[@root]])">If recording data from an in-facility location, the participantRole element **SHALL** contain an id element with both @root and @extension, and a code element where the value is selected from ValueSet NHSNHealthcareServiceLocationCode 2.16.840.1.113883.13.19 **DYNAMIC**, recording the type of location (CONF:86-22959).</sch:assert>
      <sch:assert id="a-86-22960-c" test="not(tested-here)">Or, if recording data from the whole facility, the participantRole element **SHALL** contain an id element with @root (CONF:86-22960).</sch:assert>
      <sch:assert id="a-86-22961-c" test="not(tested-here)">Or, if recording data from a specialized subset of a facility, the participantRole element **SHALL** contain a code element where the value is selected from ValueSet NHSNHealthcareServiceLocationCode 2.16.840.1.113883.13.19 **DYNAMIC**, recording the type of location, and a scopingEntity element where the value of @classCode is “PLC” and id/@root is present (CONF:86-22961).</sch:assert>
      <sch:assert id="a-86-22962" test="count(cda:entryRelationship) &gt; 0">SHALL contain at least one [1..*] entryRelationship (CONF:86-22962).</sch:assert>
      <sch:assert id="a-86-22963" test="cda:entryRelationship[@typeCode='COMP']">Such entryRelationships SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:86-22963).</sch:assert>
      <sch:assert id="a-86-22964" test="cda:entryRelationship[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.195']])=1]">Such entryRelationships SHALL contain exactly one [1..1] Summary Data Observation (VAT) (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.195) (CONF:86-22964).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.196-errors" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.196']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.196-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.196-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.196-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2382-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.196' and @root != '2.16.840.1.113883.10.20.5.6.195' and @root != '2.16.840.1.113883.10.20.5.6.185'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.196' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.196-errors-CL" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.196']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.196-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.124-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.124-errors-abstract" abstract="true">
      <sch:assert id="a-86-23263" test="@classCode='ENC'">SHALL contain exactly one [1..1] @classCode="ENC" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:86-23263).</sch:assert>
      <sch:assert id="a-86-23264" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:86-23264).</sch:assert>
      <sch:assert id="a-86-23265" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.124'])=1">SHALL contain exactly one [1..1] templateId (CONF:86-23265) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.124" (CONF:86-23266).</sch:assert>
      <sch:assert id="a-86-23267" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:86-23267).</sch:assert>
      <sch:assert id="a-86-23268-c" test="not(testable)">This is the id of the encompassing encounter (CONF:86-23268).</sch:assert>
      <sch:assert id="a-86-23269" test="count(cda:entryRelationship)=1">SHALL contain exactly one [1..1] entryRelationship (CONF:86-23269).</sch:assert>
      <sch:assert id="a-86-23272" test="cda:entryRelationship[@typeCode='SAS']">This entryRelationship SHALL contain exactly one [1..1] @typeCode="SAS" (CONF:86-23272).</sch:assert>
      <sch:assert id="a-86-23273" test="cda:entryRelationship[@inversionInd]">This entryRelationship SHALL contain exactly one [1..1] @inversionInd (CONF:86-23273).</sch:assert>
      <sch:assert id="a-86-23274-c" test="not(tested)">If the infection (dialysis event) began on or after the date the patient was admitted, set the value of @inversionInd to true. If the infection (dialysis event) began before the date the patient was admitted, set the value of @inversionInd to false (CONF:86-23274).</sch:assert>
      <sch:assert id="a-86-23275" test="cda:entryRelationship[count(cda:observation)=1]">This entryRelationship SHALL contain exactly one [1..1] observation (CONF:86-23275).</sch:assert>
      <sch:assert id="a-86-23276" test="cda:entryRelationship/cda:observation[@classCode='OBS']">This observation SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:86-23276).</sch:assert>
      <sch:assert id="a-86-23277" test="cda:entryRelationship/cda:observation[@moodCode='EVN']">This observation SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:86-23277).</sch:assert>
      <sch:assert id="a-86-23278" test="cda:entryRelationship/cda:observation[count(cda:id)=1]">This observation SHALL contain exactly one [1..1] id (CONF:86-23278).</sch:assert>
      <sch:assert id="a-86-23280" test="cda:entryRelationship/cda:observation[count(cda:code)=1]">This observation SHALL contain exactly one [1..1] code (CONF:86-23280).</sch:assert>
      <sch:assert id="a-86-23281" test="cda:entryRelationship/cda:observation/cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" (CONF:86-23281).</sch:assert>
      <sch:assert id="a-86-23282" test="cda:entryRelationship/cda:observation/cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:86-23282).</sch:assert>
      <sch:assert id="a-86-23283" test="cda:entryRelationship/cda:observation[count(cda:statusCode)=1]">This observation SHALL contain exactly one [1..1] statusCode (CONF:86-23283).</sch:assert>
      <sch:assert id="a-86-23284" test="cda:entryRelationship/cda:observation/cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" (CONF:86-23284).</sch:assert>
      <sch:assert id="a-86-23285" test="cda:entryRelationship/cda:observation[count(cda:value[@xsi:type='CD'])=1]">This observation SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:86-23285).</sch:assert>
      <sch:assert id="a-86-27747" test="cda:entryRelationship/cda:observation/cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CodeSystem: HL7NullFlavor urn:oid:2.16.840.1.113883.5.1008) (CONF:86-27747).</sch:assert>
      <sch:assert id="a-86-27748" test="cda:entryRelationship/cda:observation/cda:value[@xsi:type='CD'][@code='40733004']">This value SHALL contain exactly one [1..1] @code="40733004" Infection (CONF:86-27748).</sch:assert>
      <sch:assert id="a-86-27749" test="cda:entryRelationship/cda:observation/cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.96']">This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.96" (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96) (CONF:86-27749).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.124-errors" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.124']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.124-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.124-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.124-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-86-2398-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.124'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.124' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.124-errors-CL" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.124']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.124-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.203-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.203-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-errors-abstract" />
      <sch:assert id="a-1101-30205" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:1101-30205).</sch:assert>
      <sch:assert id="a-1101-30206" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" (CONF:1101-30206).</sch:assert>
      <sch:assert id="a-1101-30301" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1">SHALL contain exactly one [1..1] templateId (CONF:1101-30301) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:1101-30302).</sch:assert>
      <sch:assert id="a-1101-30209" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:1101-30209).</sch:assert>
      <sch:assert id="a-1101-30210" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:1101-30210).</sch:assert>
      <sch:assert id="a-1101-30211" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:1101-30211).</sch:assert>
      <sch:assert id="a-1101-30212" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:1101-30212).</sch:assert>
      <sch:assert id="a-1101-30213" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:1101-30213).</sch:assert>
      <sch:assert id="a-1101-30215-c" test="@negationInd or @nullFlavor='UNK'">If it is not known whether the patient had loss of vascular access, the value of @nullFlavor SHALL be UNK.  If the value of @nullFlavor is set to UNK then the value of @negationInd SHALL NOT be set (CONF:1101-30215).</sch:assert>
      <sch:assert id="a-1101-30217-c" test="@negationInd or @nullFlavor">If the patient had loss of vascular access, the value of @negationInd SHALL be false. If the patient did not have loss of vascular access, the value of @negationInd SHALL be true.   If the value of @negationInd is set then the value of @nullFlavor SHALL NOT be set (CONF:1101-30217).</sch:assert>
      <sch:assert id="a-1101-30218" test="cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:1101-30218).</sch:assert>
      <sch:assert id="a-1101-30219" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:1101-30219).</sch:assert>
      <sch:assert id="a-1101-30220" test="cda:value[@xsi:type='CD'][@code='2325-9']">This value SHALL contain exactly one [1..1] @code="2325-9" Loss of vascular access (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1101-30220).</sch:assert>
      <sch:assert id="a-1101-30221" test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']">This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1101-30221).</sch:assert>
      <sch:assert id="a-1101-30224" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1101-30224).</sch:assert>
      <sch:assert id="a-1101-30207" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.203'])=1">SHALL contain exactly one [1..1] templateId (CONF:1101-30207) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.203" (CONF:1101-30208).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.203-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.203']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.203-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.203-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.203-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-1101-3623-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.203' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.22.4.4'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.203' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.203-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.203']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.203-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.204-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.204-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-errors-abstract" />
      <sch:assert id="a-1101-30225" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:1101-30225).</sch:assert>
      <sch:assert id="a-1101-30226" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" (CONF:1101-30226).</sch:assert>
      <sch:assert id="a-1101-30227" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:1101-30227).</sch:assert>
      <sch:assert id="a-1101-30228-c" test="not(tested-here)">If the revision was associated with prior infection at the index joint, the value of @negationInd SHALL be false. If the revision was not associated with prior infection at the index joint, the value of @negationInd SHALL be true (CONF:1101-30228).</sch:assert>
      <sch:assert id="a-1101-30305" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1">SHALL contain exactly one [1..1] templateId (CONF:1101-30305) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:1101-30306).</sch:assert>
      <sch:assert id="a-1101-30231" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:1101-30231).</sch:assert>
      <sch:assert id="a-1101-30232" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1101-30232).</sch:assert>
      <sch:assert id="a-1101-30233" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:1101-30233).</sch:assert>
      <sch:assert id="a-1101-30234" test="cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" (CONF:1101-30234).</sch:assert>
      <sch:assert id="a-1101-30235" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:1101-30235).</sch:assert>
      <sch:assert id="a-1101-30236" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:1101-30236).</sch:assert>
      <sch:assert id="a-1101-30237" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:1101-30237).</sch:assert>
      <sch:assert id="a-1101-30238" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:1101-30238).</sch:assert>
      <sch:assert id="a-1101-30239" test="cda:value[@xsi:type='CD'][@code='1239-3']">This value SHALL contain exactly one [1..1] @code="1239-3" Revision associated with prior infection at index joint (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1101-30239).</sch:assert>
      <sch:assert id="a-1101-30240" test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']">This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1101-30240).</sch:assert>
      <sch:assert id="a-1101-30229" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.204'])=1">SHALL contain exactly one [1..1] templateId (CONF:1101-30229) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.204" (CONF:1101-30230).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.204-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.204']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.204-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.204-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.204-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-1101-3729-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.204' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.22.4.4'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.204' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.204-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.204']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.204-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.153.2-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.153.2-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.14-errors-abstract" />
      <sch:assert id="a-1101-21654" test="@classCode='PROC'">SHALL contain exactly one [1..1] @classCode="PROC" Procedure (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1101-21654).</sch:assert>
      <sch:assert id="a-1101-21655" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1101-21655).</sch:assert>
      <sch:assert id="a-1101-30303" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.14'])=1">SHALL contain exactly one [1..1] templateId (CONF:1101-30303) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.14" (CONF:1101-30304).</sch:assert>
      <sch:assert id="a-1101-21656" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:1101-21656).</sch:assert>
      <sch:assert id="a-1101-21657" test="count(cda:code)=1">SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNProcedureCategoryCode urn:oid:2.16.840.1.113883.13.17 DYNAMIC (CONF:1101-21657).</sch:assert>
      <sch:assert id="a-1101-21700" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode, which SHALL be selected from ValueSet ProcedureAct statusCode urn:oid:2.16.840.1.113883.11.20.9.22 DYNAMIC (CONF:1101-21700).</sch:assert>
      <sch:assert id="a-1101-21661" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:1101-21661).</sch:assert>
      <sch:assert id="a-1101-21662" test="cda:effectiveTime[count(cda:low)=1]">This effectiveTime SHALL contain exactly one [1..1] low (CONF:1101-21662).</sch:assert>
      <sch:assert id="a-1101-21663" test="cda:effectiveTime[count(cda:width)=1]">This effectiveTime SHALL contain exactly one [1..1] width (CONF:1101-21663).</sch:assert>
      <sch:assert id="a-1101-21668" test="not(cda:methodCode) or cda:methodCode[@code]">The methodCode, if present, SHALL contain exactly one [1..1] @code (CONF:1101-21668).</sch:assert>
      <sch:assert id="a-1101-21669-c" test="cda:code[@code != '2101-4'] or cda:code[@code = '2101-4' and @codeSystem='2.16.840.1.113883.6.277'] and cda:methodCode[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.3']/voc:code/@value] ">If the procedure category code represents a hip replacement, a methodCode element SHALL be present where the value of @code is selected from ValueSet 2.16.840.1.113883.13.3 NHSNHipReplacementCode **DYNAMIC** (CONF:1101-21669).</sch:assert>
      <sch:assert id="a-1101-21670-c" test="cda:code[@code != '2124-6'] or cda:code[@code = '2124-6' and @codeSystem='2.16.840.1.113883.6.277'] and cda:methodCode[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.4']/voc:code/@value] ">If the procedure category code represents a knee replacement, a methodCode element SHALL be present where the value of @code is selected from ValueSet 2.16.840.1.113883.13.4 NHSNKneeReplacementCode **DYNAMIC** (CONF:1101-21670).</sch:assert>
      <sch:assert id="a-1101-21674-c" test="cda:code[@code != '2137-8' and @code != '2135-2'] or cda:code[@code = '2137-8' or @code = '2135-2'] and cda:approachSiteCode[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.2']/voc:code/@value or @nullFlavor='NI']">If the procedure is a fusion or refusion (code/@code is either 2137-8 or 2135-2), an approachSiteCode element SHALL be present. If the approach site is known, the value of @code SHALL be selected from ValueSet 2.16.840.1.113883.13.2 NHSNSpinalFusionApproachCode **DYNAMIC**. If the approach site is not specified, the value of code@nullFlavor SHALL be NI (CONF:1101-21674).</sch:assert>
      <sch:assert id="a-1101-21676" test="not(cda:performer) or cda:performer[@typeCode='PRF']">The performer, if present, SHALL contain exactly one [1..1] @typeCode="PRF" (CONF:1101-21676).</sch:assert>
      <sch:assert id="a-1101-21677" test="not(cda:performer) or cda:performer[count(cda:assignedEntity)=1]">The performer, if present, SHALL contain exactly one [1..1] assignedEntity (CONF:1101-21677).</sch:assert>
      <sch:assert id="a-1101-21678" test="not(cda:performer/cda:assignedEntity) or cda:performer/cda:assignedEntity[count(cda:id) &gt; 0]">This assignedEntity SHALL contain at least one [1..*] id (CONF:1101-21678).</sch:assert>
      <sch:assert id="a-1101-21679" test="not(cda:performer/cda:assignedEntity/cda:id) or cda:performer/cda:assignedEntity/cda:id[@root]">Such ids SHALL contain exactly one [1..1] @root (CONF:1101-21679).</sch:assert>
      <sch:assert id="a-1101-21680-c" test="not(tested-here)">This @root SHALL be the facility's identifier (CONF:1101-21680).</sch:assert>
      <sch:assert id="a-1101-21681" test="not(cda:performer/cda:assignedEntity/cda:id) or cda:performer/cda:assignedEntity/cda:id[@extension]">Such ids SHALL contain exactly one [1..1] @extension (CONF:1101-21681).</sch:assert>
      <sch:assert id="a-1101-21682-c" test="not(tested-here)">This @extension SHALL be the surgeon's identifier (CONF:1101-21682).</sch:assert>
      <sch:assert id="a-1101-21683" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.112']])=1])=1">SHALL contain exactly one [1..1] entryRelationship (CONF:1101-21683) such that it SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:1101-21684). SHALL contain exactly one [1..1] Anesthesia Administration Clinical Statement (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.112) (CONF:1101-21685).</sch:assert>
      <sch:assert id="a-1101-21689-c" test="cda:code[@code != '2137-8' and @code != '2135-2'] or cda:code[@code = '2137-8' or @code = '2135-2'] and cda:entryRelationship[@typeCode='COMP']/cda:observation/cda:templateId[@root='2.16.840.1.113883.10.20.5.6.166']">If the procedure is a fusion or refusion, this entryRelationship SHALL be present (CONF:1101-21689).</sch:assert>
      <sch:assert id="a-1101-21690" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.117']])=1]) &lt; 2">SHALL contain zero or one [0..1] entryRelationship (CONF:1101-21690) such that it SHALL contain exactly one [1..1] @typeCode="COMP" (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:1101-21691). SHALL contain exactly one [1..1] Closure Technique Procedure (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.117) (CONF:1101-21692).</sch:assert>
      <sch:assert id="a-1101-21695" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.153.2'])=1">SHALL contain exactly one [1..1] templateId (CONF:1101-21695) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.153.2" (CONF:1101-30250).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.153.2-errors" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.153.2']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.153.2-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.153.2-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.153.2-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-1101-3730-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.153.2' and @root != '2.16.840.1.113883.10.20.22.4.14' and @root != '2.16.840.1.113883.10.20.22.4.14' and @root != '2.16.840.1.113883.10.20.5.6.112' and @root != '2.16.840.1.113883.10.20.22.4.16' and @root != '2.16.840.1.113883.10.20.5.6.166' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.5.6.117' and @root != '2.16.840.1.113883.10.20.5.6.204'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.153.2' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.153.2-errors-CL" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.153.2']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.153.2-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.5.43.2-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.43.2-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors-abstract" />
      <sch:assert id="a-1101-22358" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.43.2'])=1">SHALL contain exactly one [1..1] templateId (CONF:1101-22358) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.43.2" (CONF:1101-30248).</sch:assert>
      <sch:assert id="a-1101-22360" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:1101-22360).</sch:assert>
      <sch:assert id="a-1101-22361" test="cda:code[@code='51899-3']">This code SHALL contain exactly one [1..1] @code="51899-3" Details Section (CONF:1101-22361).</sch:assert>
      <sch:assert id="a-1101-22362" test="count(cda:entry)=1">SHALL contain exactly one [1..1] entry (CONF:1101-22362).</sch:assert>
      <sch:assert id="a-1101-30249" test="cda:entry[count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.153.2']])=1]">This entry SHALL contain exactly one [1..1] Procedure Details Clinical Statement in a Procedure Report (V2) (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.153.2) (CONF:1101-30249).</sch:assert>
      <sch:assert id="a-1101-30314" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:1101-30314).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.43.2-errors" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.43.2']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.5.43.2-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.5.43.2-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.43.2-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-1101-3731-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.5.43.2' and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.6.153.2' and @root != '2.16.840.1.113883.10.20.22.4.14' and @root != '2.16.840.1.113883.10.20.5.6.112' and @root != '2.16.840.1.113883.10.20.22.4.16' and @root != '2.16.840.1.113883.10.20.5.6.166' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.5.6.117' and @root != '2.16.840.1.113883.10.20.5.6.204'])=0">'urn:oid:2.16.840.1.113883.10.20.5.5.43.2' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.43.2-errors-CL" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.43.2']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.5.43.2-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.205-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.205-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-errors-abstract" />
      <sch:assert id="a-1101-30257" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:1101-30257).</sch:assert>
      <sch:assert id="a-1101-30258" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" (CONF:1101-30258).</sch:assert>
      <sch:assert id="a-1101-30259" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:1101-30259).</sch:assert>
      <sch:assert id="a-1101-30260-c" test="not(tested-here)">If an infection was present at the time that a surgical procedure was performed, the value of @negationInd SHALL be false. If an infection was not present at the time that a surgical procedure was performed, the value of @negationInd SHALL be true (CONF:1101-30260).</sch:assert>
      <sch:assert id="a-1101-30299" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1">SHALL contain exactly one [1..1] templateId (CONF:1101-30299) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:1101-30300).</sch:assert>
      <sch:assert id="a-1101-30263" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:1101-30263).</sch:assert>
      <sch:assert id="a-1101-30264" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1101-30264).</sch:assert>
      <sch:assert id="a-1101-30265" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:1101-30265).</sch:assert>
      <sch:assert id="a-1101-30266" test="cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" (CONF:1101-30266).</sch:assert>
      <sch:assert id="a-1101-30267" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:1101-30267).</sch:assert>
      <sch:assert id="a-1101-30268" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:1101-30268).</sch:assert>
      <sch:assert id="a-1101-30269" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:1101-30269).</sch:assert>
      <sch:assert id="a-1101-30270" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:1101-30270).</sch:assert>
      <sch:assert id="a-1101-30271" test="cda:value[@xsi:type='CD'][@code='1237-7']">This value SHALL contain exactly one [1..1] @code="1237-7" Infection present at the time of surgery (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1101-30271).</sch:assert>
      <sch:assert id="a-1101-30272" test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']">This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1101-30272).</sch:assert>
      <sch:assert id="a-1101-30261" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.205'])=1">SHALL contain exactly one [1..1] templateId (CONF:1101-30261) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.205" (CONF:1101-30262).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.205-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.205']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.205-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.205-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.205-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-1101-3733-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.205' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.22.4.4'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.205' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.205-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.205']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.205-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.5.39.2-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.39.2-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors-abstract" />
      <sch:assert id="a-1101-22320" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.39.2'])=1">SHALL contain exactly one [1..1] templateId (CONF:1101-22320) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.39.2" (CONF:1101-30273).</sch:assert>
      <sch:assert id="a-1101-22322" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:1101-22322).</sch:assert>
      <sch:assert id="a-1101-22323" test="cda:code[@code='51899-3']">This code SHALL contain exactly one [1..1] @code="51899-3" Details Section (CONF:1101-22323).</sch:assert>
      <sch:assert id="a-1101-22324" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.139']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:1101-22324) such that it SHALL contain exactly one [1..1] Infection-Type Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.139) (CONF:1101-22325).</sch:assert>
      <sch:assert id="a-1101-30274" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.205']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:1101-30274) such that it SHALL contain exactly one [1..1] Infection Present at the Time of Surgery Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.205) (CONF:1101-30275).</sch:assert>
      <sch:assert id="a-1101-30294" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.206']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:1101-30294) such that it SHALL contain exactly one [1..1] SSI Detected Using Toolkit Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.206) (CONF:1101-30295).</sch:assert>
      <sch:assert id="a-1101-30296" test="count(cda:entry[count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.154']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:1101-30296) such that it SHALL contain exactly one [1..1] Procedure Details Clinical Statement in an Infection-Type Report (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.154) (CONF:1101-30297).</sch:assert>
      <sch:assert id="a-1101-30313" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:1101-30313).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.39.2-errors" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.39.2']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.5.39.2-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.5.39.2-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.39.2-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-1101-3734-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.5.39.2' and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.6.139' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.5.6.180' and @root != '2.16.840.1.113883.10.20.5.6.119' and @root != '2.16.840.1.113883.10.20.22.4.19' and @root != '2.16.840.1.113883.10.20.5.6.135' and @root != '2.16.840.1.113883.10.20.5.6.160' and @root != '2.16.840.1.113883.10.20.5.6.114' and @root != '2.16.840.1.113883.10.20.5.6.144' and @root != '2.16.840.1.113883.10.20.5.6.120' and @root != '2.16.840.1.113883.10.20.22.4.79' and @root != '2.16.840.1.113883.10.20.5.6.136' and @root != '2.16.840.1.113883.10.20.5.6.205' and @root != '2.16.840.1.113883.10.20.5.6.206' and @root != '2.16.840.1.113883.10.20.5.6.154' and @root != '2.16.840.1.113883.10.20.22.4.14'])=0">'urn:oid:2.16.840.1.113883.10.20.5.5.39.2' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.39.2-errors-CL" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.39.2']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.5.39.2-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.206-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.206-errors-abstract" abstract="true">
      <sch:assert id="a-1101-30278" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:1101-30278).</sch:assert>
      <sch:assert id="a-1101-30279" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:1101-30279).</sch:assert>
      <sch:assert id="a-1101-30281-c" test="@negationInd or @nullFlavor">If the surgical site infection was identified through the use of discharge diagnosis or procedure codes, the value of @negationInd SHALL be false. If the surgical site infection was not identified through the use of discharge diagnosis or procedure codes, the value of @negationInd SHALL be true.   If the value of @negationInd is set then the value of @nullFlavor SHALL NOT be set (CONF:1101-30281).</sch:assert>
      <sch:assert id="a-1101-30282" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.206'])=1">SHALL contain exactly one [1..1] templateId (CONF:1101-30282) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.206" (CONF:1101-30283).</sch:assert>
      <sch:assert id="a-1101-30284" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:1101-30284).</sch:assert>
      <sch:assert id="a-1101-30285" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1101-30285).</sch:assert>
      <sch:assert id="a-1101-30286" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:1101-30286).</sch:assert>
      <sch:assert id="a-1101-30287" test="cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" (CONF:1101-30287).</sch:assert>
      <sch:assert id="a-1101-30288" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:1101-30288).</sch:assert>
      <sch:assert id="a-1101-30289" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:1101-30289).</sch:assert>
      <sch:assert id="a-1101-30290" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:1101-30290).</sch:assert>
      <sch:assert id="a-1101-30291" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:1101-30291).</sch:assert>
      <sch:assert id="a-1101-30292" test="cda:value[@xsi:type='CD'][@code='1238-5']">This value SHALL contain exactly one [1..1] @code="1238-5" SSI detected using the NHSN ICD-Code based Admit and Readmit SSI Surveillance Toolkit (CONF:1101-30292).</sch:assert>
      <sch:assert id="a-1101-30293" test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']">This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1101-30293).</sch:assert>
      <sch:assert id="a-1101-30298-c" test="not(tested-here)">If the value of @nullFlavor is set to NA then the value of @negationInd SHALL NOT be set (CONF:1101-30298).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.206-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.206']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.206-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.206-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.206-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-1101-3773-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.5.6.206'])=0">'urn:oid:2.16.840.1.113883.10.20.5.6.206' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.206-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.206']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.206-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.119-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.119-errors-abstract" abstract="true">
      <sch:assert id="a-1098-31471" test="count(cda:time)=1">SHALL contain exactly one [1..1] time (CONF:1098-31471).</sch:assert>
      <sch:assert id="a-1098-31472" test="count(cda:assignedAuthor)=1">SHALL contain exactly one [1..1] assignedAuthor (CONF:1098-31472).</sch:assert>
      <sch:assert id="a-1098-31473" test="cda:assignedAuthor[count(cda:id) &gt; 0]">This assignedAuthor SHALL contain at least one [1..*] id (CONF:1098-31473).</sch:assert>
      <sch:assert id="a-1098-32017" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.119'])=1">SHALL contain exactly one [1..1] templateId (CONF:1098-32017) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.119" (CONF:1098-32018).</sch:assert>
      <sch:assert id="a-1098-32628-c" test="not(tested)">If the ID isn't referencing an author described elsewhere in the document, then the author components required in US Realm Header are required here as well (CONF:1098-32628).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.119-errors" context="cda:author[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.119']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.119-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.216-2014-12-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.216-2014-12-01-errors-abstract" abstract="true">
      <sch:assert id="a-1129-2" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:1129-2).</sch:assert>
      <sch:assert id="a-1129-4" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:1129-4).</sch:assert>
      <sch:assert id="a-1129-5" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1129-5).</sch:assert>
      <sch:assert id="a-1129-6" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1129-6).</sch:assert>
      <sch:assert id="a-1129-8" test="cda:code[@code='6130-9']">This code SHALL contain exactly one [1..1] @code="6130-9" Contraindication type (CONF:1129-8).</sch:assert>
      <sch:assert id="a-1129-10" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHALL be selected from ValueSet NHSNContraindicationType urn:oid:2.16.840.1.114222.4.11.7239 DYNAMIC (CONF:1129-10).</sch:assert>
      <sch:assert id="a-1129-12" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:1129-12).</sch:assert>
      <sch:assert id="a-1129-30522" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.216'][@extension='2014-12-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:1129-30522) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.216" (CONF:1129-30523). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30524).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.216-2014-12-01-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.216' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.216-2014-12-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.216-2014-12-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.216-2014-12-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-1129-4298-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.216' and @extension = '2014-12-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.216:2014-12-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.216-2014-12-01-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.216' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.216-2014-12-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.162-2014-12-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.162-2014-12-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.16-errors-abstract" />
      <sch:assert id="a-1129-21362" test="count(cda:consumable)=1">SHALL contain exactly one [1..1] consumable (CONF:1129-21362).</sch:assert>
      <sch:assert id="a-1129-21363" test="cda:consumable[count(cda:manufacturedProduct)=1]">This consumable SHALL contain exactly one [1..1] manufacturedProduct (CONF:1129-21363).</sch:assert>
      <sch:assert id="a-1129-21365" test="cda:consumable/cda:manufacturedProduct[count(cda:manufacturedMaterial)=1]">This manufacturedProduct SHALL contain exactly one [1..1] manufacturedMaterial (CONF:1129-21365).</sch:assert>
      <sch:assert id="a-1129-21367" test="cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial[count(cda:code)=1]">This manufacturedMaterial SHALL contain exactly one [1..1] code (CONF:1129-21367).</sch:assert>
      <sch:assert id="a-1129-30537" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.16'])=1">SHALL contain exactly one [1..1] templateId (CONF:1129-30537) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.16" (CONF:1129-30538).</sch:assert>
      <sch:assert id="a-1129-22119" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:1129-22119).</sch:assert>
      <sch:assert id="a-1129-22120" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:1129-22120).</sch:assert>
      <sch:assert id="a-1129-22121" test="count(cda:effectiveTime[@xsi:type='IVL_TS'])=1">SHALL contain exactly one [1..1] effectiveTime (CONF:1129-22121).</sch:assert>
      <sch:assert id="a-1129-22122" test="cda:effectiveTime[@xsi:type='IVL_TS'][count(cda:low)=1]">This effectiveTime SHALL contain exactly one [1..1] low (CONF:1129-22122).</sch:assert>
      <sch:assert id="a-1129-22123" test="cda:effectiveTime[@xsi:type='IVL_TS'][count(cda:high)=1]">This effectiveTime SHALL contain exactly one [1..1] high (CONF:1129-22123).</sch:assert>
      <sch:assert id="a-1129-21359" test="@classCode='SBADM'">SHALL contain exactly one [1..1] @classCode="SBADM" Substance administration (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1129-21359).</sch:assert>
      <sch:assert id="a-1129-21360" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1129-21360).</sch:assert>
      <sch:assert id="a-1129-21361" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:1129-21361).</sch:assert>
      <sch:assert id="a-1129-21364" test="cda:consumable/cda:manufacturedProduct[@classCode='MANU']">This manufacturedProduct SHALL contain exactly one [1..1] @classCode="MANU" Manufactured product (CodeSystem: HL7RoleClass urn:oid:2.16.840.1.113883.5.110 STATIC) (CONF:1129-21364).</sch:assert>
      <sch:assert id="a-1129-21366" test="cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial[@classCode='MMAT']">This manufacturedMaterial SHALL contain exactly one [1..1] @classCode="MMAT" Manufactured material (CodeSystem: HL7EntityClass urn:oid:2.16.840.1.113883.5.41 STATIC) (CONF:1129-21366).</sch:assert>
      <sch:assert id="a-1129-21368-c" test="cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial/cda:code[@code = document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3183']/voc:code/@value or (@nullFlavor='OTH' and cda:originalText)]">To record a skin-preparation solution as a code, the value of @code SHALL be selected from ValueSet 2.16.840.1.114222.4.11.3183 NHSNSkinPreparationCode **DYNAMIC**. Or, to record a skin-preparation solution as text, the value of @nullFlavor SHALL be OTH and an originalText element SHALL be present recording the skin-preparation solution (CONF:1129-21368).</sch:assert>
      <sch:assert id="a-1129-22785" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1129-22785).</sch:assert>
      <sch:assert id="a-1129-28105" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:1129-28105).</sch:assert>
      <sch:assert id="a-1129-22786" test="cda:effectiveTime[@xsi:type='IVL_TS']/cda:low[@nullFlavor='NA']">This low SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1129-22786).</sch:assert>
      <sch:assert id="a-1129-22787" test="cda:effectiveTime[@xsi:type='IVL_TS']/cda:high[@nullFlavor='NA']">This high SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1129-22787).</sch:assert>
      <sch:assert id="a-1129-23294-c" test="not(testable)">When recording whether chlorhexidine gluconate was applied, if it was not applied, and was contraindicated, the value of @negationInd on the Contraindicated Observation SHALL be false. If it was not contraindicated, the value of @negationInd on the Contraindicated Observation SHALL be true.  If it is not known whether it was contraindicated, the value of @nullFlavor on the Contraindicated Observation SHALL be UNK.  For examples and further explanation, see the Contraindicated Observation template (CONF:1129-23294).</sch:assert>
      <sch:assert id="a-1129-23295-c" test="not(tested-here)">If chlorhexidine gluconate was NOT applied, SHALL contain an entryRelationship containing a Contraindicated Observation (CONF:1129-23295).</sch:assert>
      <sch:assert id="a-1129-22118" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.162'][@extension='2014-12-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:1129-22118) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.162" (CONF:1129-22124). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30539).</sch:assert>
      <sch:assert id="a-1129-30556" test="cda:consumable/cda:manufacturedProduct[count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.23'])=1]">This manufacturedProduct SHALL contain exactly one [1..1] templateId (CONF:1129-30556) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.23" (CONF:1129-30557).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.162-2014-12-01-errors" context="cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.162' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.162-2014-12-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.162-2014-12-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.162-2014-12-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-1129-4299-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.162' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.22.4.16' and @root != '2.16.840.1.113883.10.20.22.4.16' and not(@root = '2.16.840.1.113883.10.20.5.6.118' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.22.4.19' and not(@root = '2.16.840.1.113883.10.20.5.6.216' and @extension = '2014-12-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.162:2014-12-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.162-2014-12-01-errors-CL" context="cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.162' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.162-2014-12-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.118-2014-12-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.118-2014-12-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.19-errors-abstract" />
      <sch:assert id="a-1129-30519" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.19'])=1">SHALL contain exactly one [1..1] templateId (CONF:1129-30519) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.19" (CONF:1129-30520).</sch:assert>
      <sch:assert id="a-1129-21786" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:1129-21786).</sch:assert>
      <sch:assert id="a-1129-21787" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:1129-21787).</sch:assert>
      <sch:assert id="a-1129-21789" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:1129-21789).</sch:assert>
      <sch:assert id="a-1129-21791" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:1129-21791).</sch:assert>
      <sch:assert id="a-1129-21779-c" test="@negationInd or @nullFlavor='UNK'">If it is not known whether the target statement was contraindicated, the value of @nullFlavor SHALL be UNK. If the value of @nullFlavor is set to UNK then the value of @negationInd SHALL NOT be set (CONF:1129-21779).</sch:assert>
      <sch:assert id="a-1129-21780" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1129-21780).</sch:assert>
      <sch:assert id="a-1129-21781" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1129-21781).</sch:assert>
      <sch:assert id="a-1129-21783-c" test="@negationInd or @nullFlavor='UNK'">If the target statement was contraindicated, the value of @negationInd SHALL be false. If the target statement was not contraindicated (i.e., ok to proceed with the treatment specified by the target statement), the value of @negationInd SHALL be true. If the value of @negationInd is set then the value of @nullFlavor SHALL NOT be set (CONF:1129-21783).</sch:assert>
      <sch:assert id="a-1129-21788" test="cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:1129-21788).</sch:assert>
      <sch:assert id="a-1129-21790" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:1129-21790).</sch:assert>
      <sch:assert id="a-1129-21792" test="cda:value[@xsi:type='CD'][@code='410536001']">This value SHALL contain exactly one [1..1] @code="410536001" Contraindicated (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96 STATIC) (CONF:1129-21792).</sch:assert>
      <sch:assert id="a-1129-21785" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.118'][@extension='2014-12-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:1129-21785) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.118" (CONF:1129-28109). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30521).</sch:assert>
      <sch:assert id="a-1129-21793" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CodeSystem: HL7NullFlavor urn:oid:2.16.840.1.113883.5.1008) (CONF:1129-21793).</sch:assert>
      <sch:assert id="a-1129-30604" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:1129-30604).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.118-2014-12-01-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.118' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.118-2014-12-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.118-2014-12-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.118-2014-12-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-1129-4300-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.118' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.22.4.19' and @root != '2.16.840.1.113883.10.20.22.4.19' and not(@root = '2.16.840.1.113883.10.20.5.6.216' and @extension = '2014-12-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.118:2014-12-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.118-2014-12-01-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.118' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.118-2014-12-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.183-2014-12-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.183-2014-12-01-errors-abstract" abstract="true">
      <sch:assert id="a-1129-22260" test="count(cda:component) &gt; 0">SHALL contain at least one [1..*] component (CONF:1129-22260).</sch:assert>
      <sch:assert id="a-1129-22254" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.183'][@extension='2014-12-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:1129-22254) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.183" (CONF:1129-28110). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30293).</sch:assert>
      <sch:assert id="a-1129-22257" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:1129-22257).</sch:assert>
      <sch:assert id="a-1129-30432" test="cda:component[count(cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.162' and @extension='2014-12-01']])=1]">Such components SHALL contain exactly one [1..1] Skin Preparation Clinical Statement (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.162:2014-12-01) (CONF:1129-30432).</sch:assert>
      <sch:assert id="a-1129-22252" test="@classCode='CLUSTER'">SHALL contain exactly one [1..1] @classCode="CLUSTER" Cluster (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1129-22252).</sch:assert>
      <sch:assert id="a-1129-22253" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1129-22253).</sch:assert>
      <sch:assert id="a-1129-22258" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:1129-22258).</sch:assert>
      <sch:assert id="a-1129-22262-c" test="count(cda:component/cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.162']/cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial/cda:code[@code or (@originalText and @nullText='OTH')]) &gt;= 1">A component containing a Skin Preparation Clinical Statement SHALL be present for each skin-preparation solution required by the NHSN protocol. One additional such component element MAY be present recording an uncoded (text) skin-preparation solution (CONF:1129-22262).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.183-2014-12-01-errors" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.183' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.183-2014-12-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.183-2014-12-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.183-2014-12-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-1129-4301-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.183' and @extension = '2014-12-01') and not(@root = '2.16.840.1.113883.10.20.5.6.162' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.22.4.16' and not(@root = '2.16.840.1.113883.10.20.5.6.118' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.22.4.19' and not(@root = '2.16.840.1.113883.10.20.5.6.216' and @extension = '2014-12-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.183:2014-12-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.183-2014-12-01-errors-CL" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.183' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.183-2014-12-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.179-2014-12-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.179-2014-12-01-errors-abstract" abstract="true">
      <sch:assert id="a-1129-22092" test="count(cda:component[count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.130']])=1])=1">SHALL contain exactly one [1..1] component (CONF:1129-22092) such that it SHALL contain exactly one [1..1] Hand Hygiene Performed Clinical Statement (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.130) (CONF:1129-23057).</sch:assert>
      <sch:assert id="a-1129-22088" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.179'][@extension='2014-12-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:1129-22088) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.179" (CONF:1129-22089). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30279).</sch:assert>
      <sch:assert id="a-1129-22090" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:1129-22090).</sch:assert>
      <sch:assert id="a-1129-22091" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:1129-22091).</sch:assert>
      <sch:assert id="a-1129-22093" test="count(cda:component[count(cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.183' and @extension='2014-12-01']])=1])=1">SHALL contain exactly one [1..1] component (CONF:1129-22093) such that it SHALL contain exactly one [1..1] Skin-Preparation Solutions Applied Organizer (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.183:2014-12-01) (CONF:1129-30426).</sch:assert>
      <sch:assert id="a-1129-22094" test="count(cda:component[count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.167']])=1])=1">SHALL contain exactly one [1..1] component (CONF:1129-22094) such that it SHALL contain exactly one [1..1] Sterile Barriers Applied Clinical Statement (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.167) (CONF:1129-23059).</sch:assert>
      <sch:assert id="a-1129-22086" test="@classCode='CLUSTER'">SHALL contain exactly one [1..1] @classCode="CLUSTER" Cluster (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1129-22086).</sch:assert>
      <sch:assert id="a-1129-22087" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1129-22087).</sch:assert>
      <sch:assert id="a-1129-22733" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1129-22733).</sch:assert>
      <sch:assert id="a-1129-23060" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:1129-23060).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.179-2014-12-01-errors" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.179' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.179-2014-12-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.179-2014-12-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.179-2014-12-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-1129-4302-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.179' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.5.6.130' and @root != '2.16.840.1.113883.10.20.22.4.14' and not(@root = '2.16.840.1.113883.10.20.5.6.183' and @extension = '2014-12-01') and not(@root = '2.16.840.1.113883.10.20.5.6.162' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.22.4.16' and not(@root = '2.16.840.1.113883.10.20.5.6.118' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.22.4.19' and not(@root = '2.16.840.1.113883.10.20.5.6.216' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.5.6.167'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.179:2014-12-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.179-2014-12-01-errors-CL" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.179' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.179-2014-12-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.116-2014-12-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.116-2014-12-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.12-errors-abstract" />
      <sch:assert id="a-1129-30516" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.12'])=1">SHALL contain exactly one [1..1] templateId (CONF:1129-30516) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.12" (CONF:1129-30517).</sch:assert>
      <sch:assert id="a-1129-22966" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:1129-22966).</sch:assert>
      <sch:assert id="a-1129-22968" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CodeSystem: HL7NullFlavor urn:oid:2.16.840.1.113883.5.1008) (CONF:1129-22968).</sch:assert>
      <sch:assert id="a-1129-22965" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.116'][@extension='2014-12-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:1129-22965) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.116" (CONF:1129-28111). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30518).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.116-2014-12-01-errors" context="cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.116' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.116-2014-12-01-errors-abstract" />
      <sch:assert id="a-1129-22008" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:sequenceNumber[@value='1'])=1][count(cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.179' and @extension='2014-12-01']])=1])=1">SHALL contain exactly one [1..1] entryRelationship (CONF:1129-22008) such that it SHALL contain exactly one [1..1] sequenceNumber (CONF:1129-22011). This sequenceNumber SHALL contain exactly one [1..1] @value="1" (CONF:1129-22012). SHALL contain exactly one [1..1] Central-Line Insertion Preparation Organizer (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.179:2014-12-01) (CONF:1129-30425). SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:1129-22009).</sch:assert>
      <sch:assert id="a-1129-22013" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:sequenceNumber[@value='2'])=1][count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.163']])=1])=1">SHALL contain exactly one [1..1] entryRelationship (CONF:1129-22013) such that it SHALL contain exactly one [1..1] sequenceNumber (CONF:1129-22016). This sequenceNumber SHALL contain exactly one [1..1] @value="2" (CONF:1129-22017). SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:1129-22014). SHALL contain exactly one [1..1] Solutions Dried Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.163) (CONF:1129-22015).</sch:assert>
      <sch:assert id="a-1129-22018" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:1129-22018).</sch:assert>
      <sch:assert id="a-1129-22005" test="@classCode='ACT'">SHALL contain exactly one [1..1] @classCode="ACT" Act (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1129-22005).</sch:assert>
      <sch:assert id="a-1129-22006" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1129-22006).</sch:assert>
      <sch:assert id="a-1129-22007" test="@negationInd='false'">SHALL contain exactly one [1..1] @negationInd="false" (CONF:1129-22007).</sch:assert>
      <sch:assert id="a-1129-22019" test="cda:code[@code='3108-8' and @codeSystem='2.16.840.1.113883.6.277']">This code SHALL contain exactly one [1..1] @code="3108-8" Central line insertion practice (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277 STATIC) (CONF:1129-22019).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.116-2014-12-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.116-2014-12-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-1129-4303-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.116' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.22.4.12' and @root != '2.16.840.1.113883.10.20.22.4.12' and not(@root = '2.16.840.1.113883.10.20.5.6.179' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.5.6.130' and @root != '2.16.840.1.113883.10.20.22.4.14' and not(@root = '2.16.840.1.113883.10.20.5.6.183' and @extension = '2014-12-01') and not(@root = '2.16.840.1.113883.10.20.5.6.162' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.22.4.16' and not(@root = '2.16.840.1.113883.10.20.5.6.118' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.22.4.19' and not(@root = '2.16.840.1.113883.10.20.5.6.216' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.5.6.167' and @root != '2.16.840.1.113883.10.20.5.6.163' and @root != '2.16.840.1.113883.10.20.22.4.4'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.116:2014-12-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.116-2014-12-01-errors-CL" context="cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.116' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.116-2014-12-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.34-2014-12-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.34-2014-12-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors-abstract" />
      <sch:assert id="a-1129-22275" test="count(cda:entry[count(cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.116' and @extension='2014-12-01']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:1129-22275) such that it SHALL contain exactly one [1..1] Central-Line Insertion Practice Clinical Statement (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.116:2014-12-01) (CONF:1129-30430).</sch:assert>
      <sch:assert id="a-1129-22273" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:1129-22273).</sch:assert>
      <sch:assert id="a-1129-22277" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.34'][@extension='2014-12-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:1129-22277) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.34" (CONF:1129-28199). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30288).</sch:assert>
      <sch:assert id="a-1129-22274" test="cda:code[@code='51898-5']">This code SHALL contain exactly one [1..1] @code="51898-5" Risk Factors Section (CONF:1129-22274).</sch:assert>
      <sch:assert id="a-1129-28198" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:1129-28198).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.34-2014-12-01-errors" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.34' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.34-2014-12-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.34-2014-12-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.34-2014-12-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-1129-4304-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.5.34' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.4.26' and not(@root = '2.16.840.1.113883.10.20.5.6.116' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.22.4.12' and not(@root = '2.16.840.1.113883.10.20.5.6.179' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.5.6.130' and @root != '2.16.840.1.113883.10.20.22.4.14' and not(@root = '2.16.840.1.113883.10.20.5.6.183' and @extension = '2014-12-01') and not(@root = '2.16.840.1.113883.10.20.5.6.162' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.22.4.16' and not(@root = '2.16.840.1.113883.10.20.5.6.118' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.22.4.19' and not(@root = '2.16.840.1.113883.10.20.5.6.216' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.5.6.167' and @root != '2.16.840.1.113883.10.20.5.6.163' and @root != '2.16.840.1.113883.10.20.22.4.4' and not(@root = '2.16.840.1.113883.10.20.5.6.217' and @extension = '2014-12-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.5.34:2014-12-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.34-2014-12-01-errors-CL" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.34' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.34-2014-12-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.217-2014-12-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.217-2014-12-01-errors-abstract" abstract="true">
      <sch:assert id="a-1129-28202" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:1129-28202).</sch:assert>
      <sch:assert id="a-1129-28203" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:1129-28203).</sch:assert>
      <sch:assert id="a-1129-28204" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:1129-28204).</sch:assert>
      <sch:assert id="a-1129-28205" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1129-28205).</sch:assert>
      <sch:assert id="a-1129-28206" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1129-28206).</sch:assert>
      <sch:assert id="a-1129-28207" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:1129-28207).</sch:assert>
      <sch:assert id="a-1129-28210" test="cda:code[count(self::node()[@code='ASSERTION'])=1]">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:1129-28210).</sch:assert>
      <sch:assert id="a-1129-28211" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:1129-28211).</sch:assert>
      <sch:assert id="a-1129-28212" test="cda:value[@xsi:type='CD'][@code='6140-8']">This value SHALL contain exactly one [1..1] @code="6140-8" Antimicrobial coated catheter used (CONF:1129-28212).</sch:assert>
      <sch:assert id="a-1129-30485" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.217'][@extension='2014-12-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:1129-30485) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.217" (CONF:1129-30486). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30487).</sch:assert>
      <sch:assert id="a-1129-30597" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:1129-30597).</sch:assert>
      <sch:assert id="a-1129-30607" test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']">This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1129-30607).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.217-2014-12-01-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.217' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.217-2014-12-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.217-2014-12-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.217-2014-12-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-1129-4306-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.217' and @extension = '2014-12-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.217:2014-12-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.217-2014-12-01-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.217' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.217-2014-12-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.151-2014-12-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.151-2014-12-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.49-errors-abstract" />
      <sch:assert id="a-1129-21705" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:1129-21705).</sch:assert>
      <sch:assert id="a-1129-21707" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:1129-21707).</sch:assert>
      <sch:assert id="a-1129-21709" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:1129-21709).</sch:assert>
      <sch:assert id="a-1129-30488" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.49'])=1">SHALL contain exactly one [1..1] templateId (CONF:1129-30488) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.49" (CONF:1129-30489).</sch:assert>
      <sch:assert id="a-1129-21703" test="@classCode='ENC'">SHALL contain exactly one [1..1] @classCode="ENC" Encounter (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1129-21703).</sch:assert>
      <sch:assert id="a-1129-21704" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1129-21704).</sch:assert>
      <sch:assert id="a-1129-21706" test="cda:id[@nullFlavor='NA']">Such ids SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1129-21706).</sch:assert>
      <sch:assert id="a-1129-21708" test="cda:code[@code='IMP' and @codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @code="IMP" Inpatient encounter (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4 STATIC) (CONF:1129-21708).</sch:assert>
      <sch:assert id="a-1129-21711" test="not(cda:effectiveTime/cda:high) or cda:effectiveTime/cda:high[@value]">The high, if present, SHALL contain exactly one [1..1] @value (CONF:1129-21711).</sch:assert>
      <sch:assert id="a-1129-21714" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.151'][@extension='2014-12-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:1129-21714) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.151" (CONF:1129-21715). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30275).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.151-2014-12-01-errors" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.151' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.151-2014-12-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.151-2014-12-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.151-2014-12-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-1129-4307-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.151' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.22.4.49' and @root != '2.16.840.1.113883.10.20.22.4.49'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.151:2014-12-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.151-2014-12-01-errors-CL" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.151' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.151-2014-12-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.218-2014-12-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.218-2014-12-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.49-errors-abstract" />
      <sch:assert id="a-1129-28222" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:1129-28222).</sch:assert>
      <sch:assert id="a-1129-28223" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:1129-28223).</sch:assert>
      <sch:assert id="a-1129-28224" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:1129-28224).</sch:assert>
      <sch:assert id="a-1129-30491" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.49'])=1">SHALL contain exactly one [1..1] templateId (CONF:1129-30491) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.49" (CONF:1129-30492).</sch:assert>
      <sch:assert id="a-1129-28227" test="count(cda:participant)=1">SHALL contain exactly one [1..1] participant (CONF:1129-28227).</sch:assert>
      <sch:assert id="a-1129-28228" test="cda:participant[count(cda:participantRole)=1]">This participant SHALL contain exactly one [1..1] participantRole (CONF:1129-28228).</sch:assert>
      <sch:assert id="a-1129-28229" test="cda:participant/cda:participantRole[count(cda:code)=1]">This participantRole SHALL contain exactly one [1..1] code (CONF:1129-28229).</sch:assert>
      <sch:assert id="a-1129-28230" test="cda:id[@nullFlavor='NA']">Such ids SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1129-28230).</sch:assert>
      <sch:assert id="a-1129-28231" test="cda:code[@code='IMP']">This code SHALL contain exactly one [1..1] @code="IMP" inpatient encounter (CONF:1129-28231).</sch:assert>
      <sch:assert id="a-1129-28234" test="@classCode='ENC'">SHALL contain exactly one [1..1] @classCode="ENC" Encounter (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1129-28234).</sch:assert>
      <sch:assert id="a-1129-28235" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1129-28235).</sch:assert>
      <sch:assert id="a-1129-28236" test="cda:participant/cda:participantRole[@classCode='SDLOC']">This participantRole SHALL contain exactly one [1..1] @classCode="SDLOC" Service Delivery Location (CodeSystem: HL7EntityClass urn:oid:2.16.840.1.113883.5.41) (CONF:1129-28236).</sch:assert>
      <sch:assert id="a-1129-28238" test="cda:participant/cda:participantRole/cda:code[@code]">This code SHALL contain exactly one [1..1] @code, which SHALL be selected from ValueSet NHSNPreviousFacility urn:oid:2.16.840.1.114222.4.11.7238 DYNAMIC (CONF:1129-28238).</sch:assert>
      <sch:assert id="a-1129-28239" test="cda:participant[@typeCode='LOC']">This participant SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90) (CONF:1129-28239).</sch:assert>
      <sch:assert id="a-1129-30255" test="cda:effectiveTime[@nullFlavor='NA']">This effectiveTime SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1129-30255).</sch:assert>
      <sch:assert id="a-1129-30464" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:1129-30464).</sch:assert>
      <sch:assert id="a-1129-28226" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.218'][@extension='2014-12-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:1129-28226) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.218" (CONF:1129-28233). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30290).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.218-2014-12-01-errors" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.218' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.218-2014-12-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.218-2014-12-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.218-2014-12-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-1129-4308-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.218' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.22.4.49' and @root != '2.16.840.1.113883.10.20.22.4.49'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.218:2014-12-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.218-2014-12-01-errors-CL" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.218' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.218-2014-12-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.44-2014-12-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.44-2014-12-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors-abstract" />
      <sch:assert id="a-1129-22368" test="count(cda:entry[count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.151' and @extension='2014-12-01']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:1129-22368) such that it SHALL contain exactly one [1..1] Prior Discharge Encounter (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.151:2014-12-01) (CONF:1129-30422).</sch:assert>
      <sch:assert id="a-1129-22364" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.44'][@extension='2014-12-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:1129-22364) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.44" (CONF:1129-22365). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30283).</sch:assert>
      <sch:assert id="a-1129-22366" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:1129-22366).</sch:assert>
      <sch:assert id="a-1129-22367" test="cda:code[@code='46240-8']">This code SHALL contain exactly one [1..1] @code="46240-8" History of Encounters (CONF:1129-22367).</sch:assert>
      <sch:assert id="a-1129-28240" test="count(cda:entry[count(cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.228' and @extension='2014-12-01']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:1129-28240) such that it SHALL contain exactly one [1..1] Other Facility Discharge Act (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.228:2014-12-01) (CONF:1129-30588).</sch:assert>
      <sch:assert id="a-1129-30273" test="count(cda:entry[count(cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.227' and @extension='2014-12-01']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:1129-30273) such that it SHALL contain exactly one [1..1] Last Physical Overnight Location Act (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.227:2014-12-01) (CONF:1129-30575).</sch:assert>
      <sch:assert id="a-1129-30599" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:1129-30599).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.44-2014-12-01-errors" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.44' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.44-2014-12-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.44-2014-12-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.44-2014-12-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-1129-4309-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.5.44' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.4.26' and not(@root = '2.16.840.1.113883.10.20.5.6.151' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.22.4.49' and not(@root = '2.16.840.1.113883.10.20.5.6.228' and @extension = '2014-12-01') and not(@root = '2.16.840.1.113883.10.20.5.6.218' and @extension = '2014-12-01') and not(@root = '2.16.840.1.113883.10.20.5.6.227' and @extension = '2014-12-01') and not(@root = '2.16.840.1.113883.10.20.5.6.220' and @extension = '2014-12-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.5.44:2014-12-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.44-2014-12-01-errors-CL" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.44' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.44-2014-12-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.220-2014-12-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.220-2014-12-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.49-errors-abstract" />
      <sch:assert id="a-1129-30256" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:1129-30256).</sch:assert>
      <sch:assert id="a-1129-30257" test="count(cda:code)=1">SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNLastLocationEncounterTypeCode urn:oid:2.16.840.1.113883.10.20.5.9.3 DYNAMIC (CONF:1129-30257).</sch:assert>
      <sch:assert id="a-1129-30258" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:1129-30258).</sch:assert>
      <sch:assert id="a-1129-30493" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.49'])=1">SHALL contain exactly one [1..1] templateId (CONF:1129-30493) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.49" (CONF:1129-30494).</sch:assert>
      <sch:assert id="a-1129-30261" test="not(cda:participant) or cda:participant[count(cda:participantRole)=1]">The participant, if present, SHALL contain exactly one [1..1] participantRole (CONF:1129-30261).</sch:assert>
      <sch:assert id="a-1129-30262" test="not(cda:participant/cda:participantRole) or cda:participant/cda:participantRole[count(cda:code)=1]">This participantRole SHALL contain exactly one [1..1] code (CONF:1129-30262).</sch:assert>
      <sch:assert id="a-1129-30263" test="cda:id[@nullFlavor='NA']">Such ids SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1129-30263).</sch:assert>
      <sch:assert id="a-1129-30265" test="cda:effectiveTime[@nullFlavor='NA']">This effectiveTime SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1129-30265).</sch:assert>
      <sch:assert id="a-1129-30269" test="not(cda:participant/cda:participantRole) or cda:participant/cda:participantRole[@classCode='SDLOC']">This participantRole SHALL contain exactly one [1..1] @classCode="SDLOC" Service Delivery Location (CodeSystem: HL7EntityClass urn:oid:2.16.840.1.113883.5.41) (CONF:1129-30269).</sch:assert>
      <sch:assert id="a-1129-30270" test="not(cda:participant) or cda:participant[@typeCode='LOC']">The participant, if present, SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90) (CONF:1129-30270).</sch:assert>
      <sch:assert id="a-1129-30271" test="@classCode='ENC'">SHALL contain exactly one [1..1] @classCode="ENC" Encounter (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1129-30271).</sch:assert>
      <sch:assert id="a-1129-30272" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1129-30272).</sch:assert>
      <sch:assert id="a-1129-30482" test="not(cda:participant/cda:participantRole/cda:code) or cda:participant/cda:participantRole/cda:code[@code]">This code SHALL contain exactly one [1..1] @code, which SHALL be selected from ValueSet NHSNPreviousPatientLocation urn:oid:2.16.840.1.114222.4.11.7233 DYNAMIC (CONF:1129-30482).</sch:assert>
      <sch:assert id="a-1129-30495" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.220'][@extension='2014-12-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:1129-30495) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.220" (CONF:1129-30496). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30497).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.220-2014-12-01-errors" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.220' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.220-2014-12-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.220-2014-12-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.220-2014-12-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-1129-4367-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.220' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.22.4.49' and @root != '2.16.840.1.113883.10.20.22.4.49'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.220:2014-12-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.220-2014-12-01-errors-CL" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.220' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.220-2014-12-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.219-2014-12-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.219-2014-12-01-errors-abstract" abstract="true">
      <sch:assert id="a-1129-30296" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:1129-30296).</sch:assert>
      <sch:assert id="a-1129-30297" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:1129-30297).</sch:assert>
      <sch:assert id="a-1129-30299" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:1129-30299).</sch:assert>
      <sch:assert id="a-1129-30300" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:1129-30300).</sch:assert>
      <sch:assert id="a-1129-30304" test="cda:code[@code='2331-7']">This code SHALL contain exactly one [1..1] @code="2331-7" Where was the positive blood culture collected (CONF:1129-30304).</sch:assert>
      <sch:assert id="a-1129-30305" test="cda:code[@codeSystem='2.16.840.1.113883.6.277']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1129-30305).</sch:assert>
      <sch:assert id="a-1129-30306" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:1129-30306).</sch:assert>
      <sch:assert id="a-1129-30315" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHOULD be selected from ValueSet NHSNBloodCollectionLocation urn:oid:2.16.840.1.114222.4.11.7237 DYNAMIC (CONF:1129-30315).</sch:assert>
      <sch:assert id="a-1129-30504" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.219'][@extension='2014-12-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:1129-30504) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.219" (CONF:1129-30505). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30506).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.219-2014-12-01-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.219' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.219-2014-12-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.219-2014-12-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.219-2014-12-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-1129-4402-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.219' and @extension = '2014-12-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.219:2014-12-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.219-2014-12-01-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.219' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.219-2014-12-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.221-2014-12-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.221-2014-12-01-errors-abstract" abstract="true">
      <sch:assert id="a-1129-30318" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:1129-30318).</sch:assert>
      <sch:assert id="a-1129-30320" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:1129-30320).</sch:assert>
      <sch:assert id="a-1129-30323" test="cda:code[@code='2029-7']">This code SHALL contain exactly one [1..1] @code="2029-7" C. difficile primary testing method used most often for this quarter (CONF:1129-30323).</sch:assert>
      <sch:assert id="a-1129-30326" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:1129-30326).</sch:assert>
      <sch:assert id="a-1129-30327" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1129-30327).</sch:assert>
      <sch:assert id="a-1129-30328" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1129-30328).</sch:assert>
      <sch:assert id="a-1129-30329" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHOULD be selected from ValueSet NHSNCdiffTestMethod urn:oid:2.16.840.1.114222.4.11.7242 DYNAMIC (CONF:1129-30329).</sch:assert>
      <sch:assert id="a-1129-30534" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.221'][@extension='2014-12-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:1129-30534) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.221" (CONF:1129-30535). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30536).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.221-2014-12-01-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.221' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.221-2014-12-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.221-2014-12-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.221-2014-12-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-1129-4403-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.221' and @extension = '2014-12-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.221:2014-12-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.221-2014-12-01-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.221' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.221-2014-12-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.222-2014-12-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.222-2014-12-01-errors-abstract" abstract="true">
      <sch:assert id="a-1129-30336" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:1129-30336).</sch:assert>
      <sch:assert id="a-1129-30337" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:1129-30337).</sch:assert>
      <sch:assert id="a-1129-30338" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:1129-30338).</sch:assert>
      <sch:assert id="a-1129-30345" test="cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:1129-30345).</sch:assert>
      <sch:assert id="a-1129-30346" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:1129-30346).</sch:assert>
      <sch:assert id="a-1129-30347" test="cda:value[@xsi:type='CD'][@code='2037-0']">This value SHALL contain exactly one [1..1] @code="2037-0" Bacterial isolate tested for carbapenemase (CONF:1129-30347).</sch:assert>
      <sch:assert id="a-1129-30353" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1129-30353).</sch:assert>
      <sch:assert id="a-1129-30354" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1129-30354).</sch:assert>
      <sch:assert id="a-1129-30437" test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']">This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1129-30437).</sch:assert>
      <sch:assert id="a-1129-30501" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.222'][@extension='2014-12-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:1129-30501) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.222" (CONF:1129-30502). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30503).</sch:assert>
      <sch:assert id="a-1129-30603" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:1129-30603).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.222-2014-12-01-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.222' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.222-2014-12-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.222-2014-12-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.222-2014-12-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-1129-4405-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.222' and @extension = '2014-12-01') and not(@root = '2.16.840.1.113883.10.20.5.6.223' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.22.4.1' and not(@root = '2.16.840.1.113883.10.20.5.6.224' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.22.4.2' and not(@root = '2.16.840.1.113883.10.20.5.6.225' and @extension = '2014-12-01') and not(@root = '2.16.840.1.113883.10.20.5.6.226' and @extension = '2014-12-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.222:2014-12-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.222-2014-12-01-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.222' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.222-2014-12-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.223-2014-12-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.223-2014-12-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.1-errors-abstract" />
      <sch:assert id="a-1129-30361" test="count(cda:component[@typeCode='COMP'][count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.224' and @extension='2014-12-01']])=1]) &gt; 0">SHALL contain at least one [1..*] component (CONF:1129-30361) such that it SHALL contain exactly one [1..1] Carbapenemase Test Observation (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.224:2014-12-01) (CONF:1129-30366). SHALL contain exactly one [1..1] @typeCode="COMP" (CONF:1129-30391).</sch:assert>
      <sch:assert id="a-1129-30362" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.1'])=1">SHALL contain exactly one [1..1] templateId (CONF:1129-30362) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.1" (CONF:1129-30369).</sch:assert>
      <sch:assert id="a-1129-30363" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:1129-30363).</sch:assert>
      <sch:assert id="a-1129-30364" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:1129-30364).</sch:assert>
      <sch:assert id="a-1129-30365" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:1129-30365).</sch:assert>
      <sch:assert id="a-1129-30367" test="@classCode='CLUSTER'">SHALL contain exactly one [1..1] @classCode="CLUSTER" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:1129-30367).</sch:assert>
      <sch:assert id="a-1129-30368" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:1129-30368).</sch:assert>
      <sch:assert id="a-1129-30370" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1129-30370).</sch:assert>
      <sch:assert id="a-1129-30371" test="cda:code[@code='18725-2']">This code SHALL contain exactly one [1..1] @code="18725-2" Microbiology studies (CONF:1129-30371).</sch:assert>
      <sch:assert id="a-1129-30372" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:1129-30372).</sch:assert>
      <sch:assert id="a-1129-30374" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:1129-30374).</sch:assert>
      <sch:assert id="a-1129-30510" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.223'][@extension='2014-12-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:1129-30510) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.223" (CONF:1129-30511). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30512).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.223-2014-12-01-errors" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.223' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.223-2014-12-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.223-2014-12-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.223-2014-12-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-1129-4407-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.223' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.22.4.1' and @root != '2.16.840.1.113883.10.20.22.4.1' and not(@root = '2.16.840.1.113883.10.20.5.6.224' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.22.4.2'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.223:2014-12-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.223-2014-12-01-errors-CL" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.223' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.223-2014-12-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.224-2014-12-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.224-2014-12-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.2-errors-abstract" />
      <sch:assert id="a-1129-30375" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.2'])=1">SHALL contain exactly one [1..1] templateId (CONF:1129-30375) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.2" (CONF:1129-30381).</sch:assert>
      <sch:assert id="a-1129-30376" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:1129-30376).</sch:assert>
      <sch:assert id="a-1129-30377" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:1129-30377).</sch:assert>
      <sch:assert id="a-1129-30378" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:1129-30378).</sch:assert>
      <sch:assert id="a-1129-30379" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:1129-30379).</sch:assert>
      <sch:assert id="a-1129-30380" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:1129-30380).</sch:assert>
      <sch:assert id="a-1129-30382" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1129-30382).</sch:assert>
      <sch:assert id="a-1129-30383" test="count(cda:code)=1">SHALL contain exactly one [1..1] code, which SHOULD be selected from ValueSet NHSNCarbaTestMethod urn:oid:2.16.840.1.114222.4.11.7240 DYNAMIC (CONF:1129-30383).</sch:assert>
      <sch:assert id="a-1129-30384" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" (CONF:1129-30384).</sch:assert>
      <sch:assert id="a-1129-30385" test="cda:effectiveTime[@nullFlavor='NA']">This effectiveTime SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1129-30385).</sch:assert>
      <sch:assert id="a-1129-30386" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:1129-30386).</sch:assert>
      <sch:assert id="a-1129-30388" test="cda:value[@xsi:type='CD'][@nullFlavor='NA']">This value SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1129-30388).</sch:assert>
      <sch:assert id="a-1129-30507" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.224'][@extension='2014-12-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:1129-30507) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.224" (CONF:1129-30508). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30509).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.224-2014-12-01-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.224' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.224-2014-12-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.224-2014-12-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.224-2014-12-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-1129-4408-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.224' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.22.4.2' and @root != '2.16.840.1.113883.10.20.22.4.2'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.224:2014-12-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.224-2014-12-01-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.224' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.224-2014-12-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.225-2014-12-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.225-2014-12-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.2-errors-abstract" />
      <sch:assert id="a-1129-30393" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:1129-30393).</sch:assert>
      <sch:assert id="a-1129-30394" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:1129-30394).</sch:assert>
      <sch:assert id="a-1129-30395" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:1129-30395).</sch:assert>
      <sch:assert id="a-1129-30396" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.2'])=1">SHALL contain exactly one [1..1] templateId (CONF:1129-30396) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.2" (CONF:1129-30405).</sch:assert>
      <sch:assert id="a-1129-30397" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:1129-30397).</sch:assert>
      <sch:assert id="a-1129-30402" test="cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:1129-30402).</sch:assert>
      <sch:assert id="a-1129-30403" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:1129-30403).</sch:assert>
      <sch:assert id="a-1129-30404" test="cda:value[@xsi:type='CD'][@code='2048-7']">This value SHALL contain exactly one [1..1] @code="2048-7" Isolate tested positive for carbapenemase (CONF:1129-30404).</sch:assert>
      <sch:assert id="a-1129-30407" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1129-30407).</sch:assert>
      <sch:assert id="a-1129-30410" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1129-30410).</sch:assert>
      <sch:assert id="a-1129-30411" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1129-30411).</sch:assert>
      <sch:assert id="a-1129-30441" test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']">This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1129-30441).</sch:assert>
      <sch:assert id="a-1129-30531" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.225'][@extension='2014-12-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:1129-30531) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.225" (CONF:1129-30532). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30533).</sch:assert>
      <sch:assert id="a-1129-30589" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:1129-30589).</sch:assert>
      <sch:assert id="a-1129-30590" test="cda:effectiveTime[@nullFlavor='NA']">This effectiveTime SHALL contain exactly one [1..1] @nullFlavor="NA" (CodeSystem: HL7NullFlavor urn:oid:2.16.840.1.113883.5.1008) (CONF:1129-30590).</sch:assert>
      <sch:assert id="a-1129-30606" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:1129-30606).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.225-2014-12-01-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.225' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.225-2014-12-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.225-2014-12-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.225-2014-12-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-1129-4409-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.225' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.22.4.2' and @root != '2.16.840.1.113883.10.20.22.4.2' and not(@root = '2.16.840.1.113883.10.20.5.6.226' and @extension = '2014-12-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.225:2014-12-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.225-2014-12-01-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.225' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.225-2014-12-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.146-2014-12-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.146-2014-12-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.2-errors-abstract" />
      <sch:assert id="a-1129-19875" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.165']])=1])=1">SHALL contain exactly one [1..1] entryRelationship (CONF:1129-19875) such that it SHALL contain exactly one [1..1] Specimen Collection Procedure (LIO) (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.165) (CONF:1129-19876). SHALL contain exactly one [1..1] @typeCode="COMP" (CONF:1129-30434).</sch:assert>
      <sch:assert id="a-1129-19869" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:1129-19869).</sch:assert>
      <sch:assert id="a-1129-19871" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:1129-19871).</sch:assert>
      <sch:assert id="a-1129-30525" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.2'])=1">SHALL contain exactly one [1..1] templateId (CONF:1129-30525) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.2" (CONF:1129-30526).</sch:assert>
      <sch:assert id="a-1129-19881" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:1129-19881).</sch:assert>
      <sch:assert id="a-1129-19867" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1129-19867).</sch:assert>
      <sch:assert id="a-1129-19868" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1129-19868).</sch:assert>
      <sch:assert id="a-1129-19870" test="cda:code[@code='41852-5']">This code SHALL contain exactly one [1..1] @code="41852-5" Microorganism identified (CONF:1129-19870).</sch:assert>
      <sch:assert id="a-1129-19872" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:1129-19872).</sch:assert>
      <sch:assert id="a-1129-19873" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHALL be selected from ValueSet NHSNSignificantPathogenCode urn:oid:2.16.840.1.114222.4.11.3194 DYNAMIC (CONF:1129-19873).</sch:assert>
      <sch:assert id="a-1129-22774" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1129-22774).</sch:assert>
      <sch:assert id="a-1129-22732" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:1129-22732).</sch:assert>
      <sch:assert id="a-1129-30436" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:1129-30436).</sch:assert>
      <sch:assert id="a-1129-19879" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.146'][@extension='2014-12-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:1129-19879) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.146" (CONF:1129-19880). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30527).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.146-2014-12-01-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.146' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.146-2014-12-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.146-2014-12-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.146-2014-12-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-1129-4426-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.146' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.22.4.2' and @root != '2.16.840.1.113883.10.20.22.4.2' and @root != '2.16.840.1.113883.10.20.5.6.165' and @root != '2.16.840.1.113883.10.20.5.6.164' and @root != '2.16.840.1.113883.10.20.22.4.49' and not(@root = '2.16.840.1.113883.10.20.5.6.222' and @extension = '2014-12-01') and not(@root = '2.16.840.1.113883.10.20.5.6.223' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.22.4.1' and not(@root = '2.16.840.1.113883.10.20.5.6.224' and @extension = '2014-12-01') and not(@root = '2.16.840.1.113883.10.20.5.6.225' and @extension = '2014-12-01') and not(@root = '2.16.840.1.113883.10.20.5.6.226' and @extension = '2014-12-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.146:2014-12-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.146-2014-12-01-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.146' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.146-2014-12-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.46-2014-12-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.46-2014-12-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors-abstract" />
      <sch:assert id="a-1129-22382" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.146' and @extension='2014-12-01']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:1129-22382) such that it SHALL contain exactly one [1..1] Pathogen Identified Observation (LIO) (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.146:2014-12-01) (CONF:1129-30419).</sch:assert>
      <sch:assert id="a-1129-22378" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.46'][@extension='2014-12-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:1129-22378) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.46" (CONF:1129-22379). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30463).</sch:assert>
      <sch:assert id="a-1129-22380" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:1129-22380).</sch:assert>
      <sch:assert id="a-1129-22381" test="cda:code[@code='18769-0']">This code SHALL contain exactly one [1..1] @code="18769-0" Findings Section (CONF:1129-22381).</sch:assert>
      <sch:assert id="a-1129-30600" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:1129-30600).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.46-2014-12-01-errors" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.46' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.46-2014-12-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.46-2014-12-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.46-2014-12-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-1129-4427-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.5.46' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.4.26' and not(@root = '2.16.840.1.113883.10.20.5.6.146' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.22.4.2' and @root != '2.16.840.1.113883.10.20.5.6.165' and @root != '2.16.840.1.113883.10.20.5.6.164' and @root != '2.16.840.1.113883.10.20.22.4.49' and not(@root = '2.16.840.1.113883.10.20.5.6.222' and @extension = '2014-12-01') and not(@root = '2.16.840.1.113883.10.20.5.6.223' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.22.4.1' and not(@root = '2.16.840.1.113883.10.20.5.6.224' and @extension = '2014-12-01') and not(@root = '2.16.840.1.113883.10.20.5.6.225' and @extension = '2014-12-01') and not(@root = '2.16.840.1.113883.10.20.5.6.226' and @extension = '2014-12-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.5.46:2014-12-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.46-2014-12-01-errors-CL" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.46' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.46-2014-12-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.226-2014-12-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.226-2014-12-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.2-errors-abstract" />
      <sch:assert id="a-1129-30442" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.2'])=1">SHALL contain exactly one [1..1] templateId (CONF:1129-30442) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.2" (CONF:1129-30448).</sch:assert>
      <sch:assert id="a-1129-30443" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:1129-30443).</sch:assert>
      <sch:assert id="a-1129-30444" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:1129-30444).</sch:assert>
      <sch:assert id="a-1129-30445" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:1129-30445).</sch:assert>
      <sch:assert id="a-1129-30447" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHOULD be selected from ValueSet NHSNCarbaDetectType urn:oid:2.16.840.1.114222.4.11.7241 DYNAMIC (CONF:1129-30447).</sch:assert>
      <sch:assert id="a-1129-30450" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1129-30450).</sch:assert>
      <sch:assert id="a-1129-30451" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" (CONF:1129-30451).</sch:assert>
      <sch:assert id="a-1129-30452" test="cda:effectiveTime[@nullFlavor='NA']">This effectiveTime SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:1129-30452).</sch:assert>
      <sch:assert id="a-1129-30453" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:1129-30453).</sch:assert>
      <sch:assert id="a-1129-30454" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:1129-30454).</sch:assert>
      <sch:assert id="a-1129-30459" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:1129-30459).</sch:assert>
      <sch:assert id="a-1129-30460" test="cda:code[@code='2049-5']">This code SHALL contain exactly one [1..1] @code="2049-5" Carbapenemase Type Identified (CONF:1129-30460).</sch:assert>
      <sch:assert id="a-1129-30461" test="cda:code[@codeSystem='2.16.840.1.113883.6.277']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1129-30461).</sch:assert>
      <sch:assert id="a-1129-30513" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.226'][@extension='2014-12-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:1129-30513) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.226" (CONF:1129-30514). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30515).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.226-2014-12-01-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.226' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.226-2014-12-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.226-2014-12-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.226-2014-12-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-1129-4430-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.226' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.22.4.2' and @root != '2.16.840.1.113883.10.20.22.4.2'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.226:2014-12-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.226-2014-12-01-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.226' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.226-2014-12-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.227-2014-12-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.227-2014-12-01-errors-abstract" abstract="true">
      <sch:assert id="a-1129-30560" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.227'][@extension='2014-12-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:1129-30560) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.227" (CONF:1129-30567). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30570).</sch:assert>
      <sch:assert id="a-1129-30562" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:1129-30562).</sch:assert>
      <sch:assert id="a-1129-30564" test="@classCode='ACT'">SHALL contain exactly one [1..1] @classCode="ACT" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1129-30564).</sch:assert>
      <sch:assert id="a-1129-30565" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1129-30565).</sch:assert>
      <sch:assert id="a-1129-30569" test="cda:code[@code='3002-3']">This code SHALL contain exactly one [1..1] @code="3002-3"  Last physical overnight location of patient immediately prior to arrival into facility (CONF:1129-30569).</sch:assert>
      <sch:assert id="a-1129-30571" test="cda:code[@codeSystem='2.16.840.1.113883.6.277']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1129-30571).</sch:assert>
      <sch:assert id="a-1129-30573" test="not(cda:entryRelationship) or cda:entryRelationship[@typeCode='COMP']">The entryRelationship, if present, SHALL contain exactly one [1..1] @typeCode="COMP" Component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002) (CONF:1129-30573).</sch:assert>
      <sch:assert id="a-1129-30574" test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.220' and @extension='2014-12-01']])=1]">The entryRelationship, if present, SHALL contain exactly one [1..1] Last Physical Overnight Location Encounter (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.220:2014-12-01) (CONF:1129-30574).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.227-2014-12-01-errors" context="cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.227' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.227-2014-12-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.227-2014-12-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.227-2014-12-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-1129-4836-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.227' and @extension = '2014-12-01') and not(@root = '2.16.840.1.113883.10.20.5.6.220' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.22.4.49'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.227:2014-12-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.227-2014-12-01-errors-CL" context="cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.227' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.227-2014-12-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.228-2014-12-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.228-2014-12-01-errors-abstract" abstract="true">
      <sch:assert id="a-1129-30577" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.228'][@extension='2014-12-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:1129-30577) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.228" (CONF:1129-30581). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:1129-30582).</sch:assert>
      <sch:assert id="a-1129-30578" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:1129-30578).</sch:assert>
      <sch:assert id="a-1129-30579" test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.218' and @extension='2014-12-01']])=1]">The entryRelationship, if present, SHALL contain exactly one [1..1] Other Facility Discharge Encounter (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.218:2014-12-01) (CONF:1129-30579).</sch:assert>
      <sch:assert id="a-1129-30583" test="cda:code[@code='3004-9']">This code SHALL contain exactly one [1..1] @code="3004-9" Patient discharged from another facility in the past four weeks (CONF:1129-30583).</sch:assert>
      <sch:assert id="a-1129-30584" test="cda:code[@codeSystem='2.16.840.1.113883.6.277']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1129-30584).</sch:assert>
      <sch:assert id="a-1129-30585" test="@classCode='ACT'">SHALL contain exactly one [1..1] @classCode="ACT" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1129-30585).</sch:assert>
      <sch:assert id="a-1129-30586" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1129-30586).</sch:assert>
      <sch:assert id="a-1129-30587" test="not(cda:entryRelationship) or cda:entryRelationship[@typeCode='COMP']">The entryRelationship, if present, SHALL contain exactly one [1..1] @typeCode="COMP" Component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002) (CONF:1129-30587).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.228-2014-12-01-errors" context="cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.228' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.228-2014-12-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.228-2014-12-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.228-2014-12-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-1129-4837-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.228' and @extension = '2014-12-01') and not(@root = '2.16.840.1.113883.10.20.5.6.218' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.22.4.49'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.228:2014-12-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.228-2014-12-01-errors-CL" context="cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.228' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.228-2014-12-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.44-2015-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.44-2015-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.28-errors-abstract" />
      <sch:assert id="a-1181-28303" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.2'])=1">SHALL contain exactly one [1..1] templateId (CONF:1181-28303) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.7.2" (CONF:1181-28304).</sch:assert>
      <sch:assert id="a-1181-22901" test="count(cda:documentationOf)=1">SHALL contain exactly one [1..1] documentationOf (CONF:1181-22901).</sch:assert>
      <sch:assert id="a-1181-22902" test="cda:documentationOf[count(cda:serviceEvent)=1]">This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:1181-22902).</sch:assert>
      <sch:assert id="a-1181-22903" test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]">This serviceEvent SHALL contain exactly one [1..1] code (CONF:1181-22903).</sch:assert>
      <sch:assert id="a-1181-22906" test="count(cda:component)=1">SHALL contain exactly one [1..1] component (CONF:1181-22906).</sch:assert>
      <sch:assert id="a-1181-22907" test="cda:component[count(cda:structuredBody)=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:1181-22907).</sch:assert>
      <sch:assert id="a-1181-22908" test="cda:component/cda:structuredBody[count(cda:component)=1]">This structuredBody SHALL contain exactly one [1..1] component (CONF:1181-22908).</sch:assert>
      <sch:assert id="a-1181-22898" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.44'][@extension='2015-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:1181-22898) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.44" (CONF:1181-22899). SHALL contain exactly one [1..1] @extension="2015-04-01" (CONF:1181-30543).</sch:assert>
      <sch:assert id="a-1181-22909" test="cda:component/cda:structuredBody/cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.51' and @extension='2015-04-01']])=1]">This component SHALL contain exactly one [1..1] Summary Data Section (AUP) (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.5.51:2015-04-01) (CONF:1181-22909).</sch:assert>
      <sch:assert id="a-1181-22900" test="count(cda:title[text()='Antimicrobial Use, Pharmacy Option (AUP) Summary Report'])=1">SHALL contain exactly one [1..1] title="Antimicrobial Use, Pharmacy Option (AUP) Summary Report" (CONF:1181-22900).</sch:assert>
      <sch:assert id="a-1181-22904" test="cda:documentationOf/cda:serviceEvent/cda:code[@code='1887-9']">This code SHALL contain exactly one [1..1] @code="1887-9" Summary data reporting antimicrobial usage (CONF:1181-22904).</sch:assert>
      <sch:assert id="a-1181-22905" test="cda:documentationOf/cda:serviceEvent/cda:code[@codeSystem='2.16.840.1.113883.6.277']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1181-22905).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.44-2015-04-01-errors" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.44' and @extension='2015-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.44-2015-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.44-2015-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.44-2015-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-1181-5196-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.44' and @extension = '2015-04-01') and @root != '2.16.840.1.113883.10.20.5.4.28' and @root != '2.16.840.1.113883.10.20.5.4.28' and not(@root = '2.16.840.1.113883.10.20.5.5.51' and @extension = '2015-04-01') and @root != '2.16.840.1.113883.10.20.5.4.26' and not(@root = '2.16.840.1.113883.10.20.5.6.197' and @extension = '2015-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.229' and @extension = '2015-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.198' and @extension = '2015-04-01') and @root != '2.16.840.1.113883.10.20.5.6.194'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.44:2015-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.44-2015-04-01-errors-CL" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.44' and @extension='2015-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.44-2015-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.229-2015-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.229-2015-04-01-errors-abstract" abstract="true">
      <sch:assert id="a-1181-30545" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.229'][@extension='2015-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:1181-30545) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.229" (CONF:1181-30551). SHALL contain exactly one [1..1] @extension="2015-04-01" (CONF:1181-30561).</sch:assert>
      <sch:assert id="a-1181-30546" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:1181-30546).</sch:assert>
      <sch:assert id="a-1181-30547" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:1181-30547).</sch:assert>
      <sch:assert id="a-1181-30548" test="count(cda:value)=1">SHALL contain exactly one [1..1] value (CONF:1181-30548).</sch:assert>
      <sch:assert id="a-1181-30549" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1181-30549).</sch:assert>
      <sch:assert id="a-1181-30550" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1181-30550).</sch:assert>
      <sch:assert id="a-1181-30559" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:1181-30559).</sch:assert>
      <sch:assert id="a-1181-30560-c" test="(cda:value/@xsi:type='PQ' and cda:value/@unit='d') or (cda:value/@xsi:type='INT') or (cda:value/@xsi:type='CD')">If the observation reports a number of days, the value of value/xsi:type SHALL be PQ and the value of value/@unit SHALL be d. If the observation reports a number of patients, episodes or events the value of value/@xsi:type SHALL be INT. If the value is a code, the value of value/@xsi:type SHALL be CD (CONF:1181-30560).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.229-2015-04-01-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.229' and @extension='2015-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.229-2015-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.229-2015-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.229-2015-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-1181-5201-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.229' and @extension = '2015-04-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.229:2015-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.229-2015-04-01-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.229' and @extension='2015-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.229-2015-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.197-2015-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.197-2015-04-01-errors-abstract" abstract="true">
      <sch:assert id="a-1181-23006" test="count(cda:entryRelationship) &gt; 0">SHALL contain at least one [1..*] entryRelationship (CONF:1181-23006).</sch:assert>
      <sch:assert id="a-1181-22997" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.197'][@extension='2015-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:1181-22997) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.197" (CONF:1181-22998). SHALL contain exactly one [1..1] @extension="2015-04-01" (CONF:1181-30562).</sch:assert>
      <sch:assert id="a-1181-22999" test="count(cda:participant[@typeCode='LOC'][count(cda:participantRole[@classCode='SDLOC'])=1])=1">SHALL contain exactly one [1..1] participant (CONF:1181-22999) such that it SHALL contain exactly one [1..1] participantRole (CONF:1181-23001). This participantRole SHALL contain exactly one [1..1] @classCode="SDLOC" Service Delivery Location (CodeSystem: HL7EntityClass urn:oid:2.16.840.1.113883.5.41 STATIC) (CONF:1181-23002). SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:1181-23000).</sch:assert>
      <sch:assert id="a-1181-23008" test="cda:entryRelationship[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.229' and @extension='2015-04-01']])=1]">Such entryRelationships SHALL contain exactly one [1..1] Summary Data Observation (AU/AR) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.229:2015-04-01) (CONF:1181-23008).</sch:assert>
      <sch:assert id="a-1181-22995" test="@classCode='ENC'">SHALL contain exactly one [1..1] @classCode="ENC" Encounter (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1181-22995).</sch:assert>
      <sch:assert id="a-1181-22996" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1181-22996).</sch:assert>
      <sch:assert id="a-1181-23003-c" test="(cda:participant/cda:participantRole[cda:id[@root and @extension] and cda:code])  or cda:participant/cda:participantRole/cda:id[@root and not(@extension)] or (cda:participant/cda:participantRole/cda:code and cda:participant/cda:participantRole/cda:scopingEntity[@classCode='PLC'][cda:id[@root]])">If recording data from an in-facility location, the participantRole element SHALL contain an id element with both @root and @extension, and a code element where the value is selected from ValueSet 2.16.840.1.113883.13.19NHSNHealthcareServiceLocationCode **DYNAMIC**, recording the type of location (CONF:1181-23003).</sch:assert>
      <sch:assert id="a-1181-23004-c" test="not(tested-here)">Or, if recording data from the whole facility, the participantRole element SHALL contain an id element with @root (CONF:1181-23004).</sch:assert>
      <sch:assert id="a-1181-23005-c" test="not(tested-here)">Or, if recording data from a specialized subset of a facility, the participantRole element SHALL contain a code element where the value is selected from ValueSet 2.16.840.1.113883.13.19 NHSNHealthcareServiceLocationCode **DYNAMIC**, recording the type of location, and a scopingEntity element where the value of @classCode is “PLC” and id/@root is present (CONF:1181-23005).</sch:assert>
      <sch:assert id="a-1181-23007" test="cda:entryRelationship[@typeCode='COMP']">Such entryRelationships SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:1181-23007).</sch:assert>
      <sch:assert id="a-1181-23011-c" test="not(tested-here)">This Summary Encounter SHALL contain a Summary Data Observation (AU/AR) that records Number of Patient-present Days for the reporting location (CONF:1181-23011).</sch:assert>
      <sch:assert id="a-1181-23012-c" test="not(tested-here)">If the reporting location is facility-wide inpatient units, this Summary Encounter SHALL contain a second Summary Data Observation (AU/AR) that records Number of Admissions (CONF:1181-23012).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.197-2015-04-01-errors" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.197' and @extension='2015-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.197-2015-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.197-2015-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.197-2015-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-1181-5202-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.197' and @extension = '2015-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.229' and @extension = '2015-04-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.197:2015-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.197-2015-04-01-errors-CL" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.197' and @extension='2015-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.197-2015-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.198-2015-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.198-2015-04-01-errors-abstract" abstract="true">
      <sch:assert id="a-1181-23036" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.229' and @extension='2015-04-01']])=1])=1">SHALL contain exactly one [1..1] entryRelationship (CONF:1181-23036) such that it SHALL contain exactly one [1..1] Summary Data Observation (AU/AR) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.229:2015-04-01) (CONF:1181-23038). SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:1181-23037).</sch:assert>
      <sch:assert id="a-1181-23021" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.198'][@extension='2015-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:1181-23021) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.198" (CONF:1181-23022). SHALL contain exactly one [1..1] @extension="2015-04-01" (CONF:1181-30563).</sch:assert>
      <sch:assert id="a-1181-23023" test="count(cda:participant[@typeCode='LOC'][count(cda:participantRole[@classCode='SDLOC'])=1])=1">SHALL contain exactly one [1..1] participant (CONF:1181-23023) such that it SHALL contain exactly one [1..1] participantRole (CONF:1181-23025). This participantRole SHALL contain exactly one [1..1] @classCode="SDLOC" Service Delivery Location (CodeSystem: HL7EntityClass urn:oid:2.16.840.1.113883.5.41 STATIC) (CONF:1181-23026). SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:1181-23024).</sch:assert>
      <sch:assert id="a-1181-23030" test="count(cda:participant[@typeCode='CSM'][count(cda:participantRole[count(cda:code)=1])=1])=1">SHALL contain exactly one [1..1] participant (CONF:1181-23030) such that it SHALL contain exactly one [1..1] participantRole (CONF:1181-23032). This participantRole SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNAntimicrobialAgentAURPCode urn:oid:2.16.840.1.114222.4.11.3360 DYNAMIC (CONF:1181-23034). SHALL contain exactly one [1..1] @typeCode="CSM" Consumable (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90) (CONF:1181-23031).</sch:assert>
      <sch:assert id="a-1181-23040-c" test="count(cda:entryRelationship[@typeCode='COMP']/cda:observation/cda:templateId[@root='2.16.840.1.113883.10.20.5.6.194'])=4">SHALL contain [4..4] entryRelationship (CONF:1181-23040) such that it SHALL contain exactly one [1..1] @typeCode="COMP" (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002) (CONF:1181-23041). SHALL contain exactly one [1..1] Summary Data Observation (AUP) (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.194) (CONF:1181-23042).</sch:assert>
      <sch:assert id="a-1181-23019" test="@classCode='ENC'">SHALL contain exactly one [1..1] @classCode="ENC" Encounter (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1181-23019).</sch:assert>
      <sch:assert id="a-1181-23020" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1181-23020).</sch:assert>
      <sch:assert id="a-1181-23027-c" test="(cda:participant/cda:participantRole[cda:id[@root and @extension] and cda:code])  or cda:participant/cda:participantRole/cda:id[@root and not(@extension)] or (cda:participant/cda:participantRole/cda:code and cda:participant/cda:participantRole/cda:scopingEntity[@classCode='PLC'][cda:id[@root]])">If recording data from an in-facility location, the participantRole element **SHALL** contain an id element with both @root and @extension, and a code element where the value is selected from ValueSet 2.16.840.1.113883.13.19NHSNHealthcareServiceLocationCode **DYNAMIC**, recording the type of location (CONF:1181-23027).</sch:assert>
      <sch:assert id="a-1181-23028-c" test="not(tested-here)">Or, if recording data from the whole facility, the participantRole element **SHALL** contain an id element with @root (CONF:1181-23028).</sch:assert>
      <sch:assert id="a-1181-23029-c" test="not(tested-here)">Or, if recording data from a specialized subset of a facility, the participantRole element **SHALL** contain a code element where the value is selected from ValueSet 2.16.840.1.113883.13.19 NHSNHealthcareServiceLocationCode **DYNAMIC**, recording the type of location, and a scopingEntity element where the value of @classCode is “PLC” and id/@root is present (CONF:1181-23029).</sch:assert>
      <sch:assert id="a-1181-23039-c" test="not(tested-here)">This Summary Data Observation (AU/AR) records Number of Therapy Days for the antimicrobial (this is not a simple total of the stratified data; consult the NHSN protocol for the calculation) (CONF:1181-23039).</sch:assert>
      <sch:assert id="a-1181-23043-c" test="not(tested-here)">These Summary Data Observation (AUP) elements record Number of Therapy Days for the antimicrobial stratified by route of actual administration (four observations, one for each route) (CONF:1181-23043).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.198-2015-04-01-errors" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.198' and @extension='2015-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.198-2015-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.198-2015-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.198-2015-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-1181-5203-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.198' and @extension = '2015-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.229' and @extension = '2015-04-01') and @root != '2.16.840.1.113883.10.20.5.6.194'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.198:2015-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.198-2015-04-01-errors-CL" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.198' and @extension='2015-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.198-2015-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.51-2015-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.51-2015-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors-abstract" />
      <sch:assert id="a-1181-23017" test="count(cda:entry[count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.197' and @extension='2015-04-01']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:1181-23017) such that it SHALL contain exactly one [1..1] Summary Encounter Patient Presence (AUP) (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.197:2015-04-01) (CONF:1181-23018).</sch:assert>
      <sch:assert id="a-1181-23013" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.51'][@extension='2015-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:1181-23013) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.51" (CONF:1181-23014). SHALL contain exactly one [1..1] @extension="2015-04-01" (CONF:1181-30565).</sch:assert>
      <sch:assert id="a-1181-23015" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:1181-23015).</sch:assert>
      <sch:assert id="a-1181-23046" test="count(cda:entry[count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.198' and @extension='2015-04-01']])=1]) &gt; 0">SHALL contain at least one [1..*] entry (CONF:1181-23046) such that it SHALL contain exactly one [1..1] Summary Encounter (AUP) (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.198:2015-04-01) (CONF:1181-23047).</sch:assert>
      <sch:assert id="a-1181-23016" test="cda:code[@code='51900-9']">This code SHALL contain exactly one [1..1] @code="51900-9" Summary Data Section (CONF:1181-23016).</sch:assert>
      <sch:assert id="a-1181-28367" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:1181-28367).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.51-2015-04-01-errors" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.51' and @extension='2015-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.51-2015-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.51-2015-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.51-2015-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-1181-5205-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.5.51' and @extension = '2015-04-01') and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.4.26' and not(@root = '2.16.840.1.113883.10.20.5.6.197' and @extension = '2015-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.229' and @extension = '2015-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.198' and @extension = '2015-04-01') and @root != '2.16.840.1.113883.10.20.5.6.194'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.5.51:2015-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.51-2015-04-01-errors-CL" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.51' and @extension='2015-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.51-2015-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.231-2015-10-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.231-2015-10-01-errors-abstract" abstract="true">
      <sch:assert id="a-1202-1" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.231'][@extension='2015-10-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:1202-1) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.231" (CONF:1202-6). SHALL contain exactly one [1..1] @extension="2015-10-01" (CONF:1202-7).</sch:assert>
      <sch:assert id="a-1202-2" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:1202-2).</sch:assert>
      <sch:assert id="a-1202-3" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:1202-3).</sch:assert>
      <sch:assert id="a-1202-4" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:1202-4).</sch:assert>
      <sch:assert id="a-1202-5" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:1202-5).</sch:assert>
      <sch:assert id="a-1202-8" test="cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:1202-8).</sch:assert>
      <sch:assert id="a-1202-9" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:1202-9).</sch:assert>
      <sch:assert id="a-1202-10" test="cda:value[@xsi:type='CD'][@code='2334-1']">This value SHALL contain exactly one [1..1] @code="2334-1" Patient's dialyzer is reused (CONF:1202-10).</sch:assert>
      <sch:assert id="a-1202-11" test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']">This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1202-11).</sch:assert>
      <sch:assert id="a-1202-12" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:1202-12).</sch:assert>
      <sch:assert id="a-1202-13" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:1202-13).</sch:assert>
      <sch:assert id="a-1202-30547" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:1202-30547).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.231-2015-10-01-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.231' and @extension='2015-10-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.231-2015-10-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.231-2015-10-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.231-2015-10-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-1202-5425-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.231' and @extension = '2015-10-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.231:2015-10-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.231-2015-10-01-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.231' and @extension='2015-10-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.231-2015-10-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.230-2015-10-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.230-2015-10-01-errors-abstract" abstract="true">
      <sch:assert id="a-1202-30548" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.230'][@extension='2015-10-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:1202-30548) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.230" (CONF:1202-30552). SHALL contain exactly one [1..1] @extension="2015-10-01" (CONF:1202-30553).</sch:assert>
      <sch:assert id="a-1202-30549" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:1202-30549).</sch:assert>
      <sch:assert id="a-1202-30550" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:1202-30550).</sch:assert>
      <sch:assert id="a-1202-30551" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:1202-30551).</sch:assert>
      <sch:assert id="a-1202-30554" test="cda:code[@code='2335-8']">This code SHALL contain exactly one [1..1] @code="2335-8" New outpatient start or continuation of inpatient course (CONF:1202-30554).</sch:assert>
      <sch:assert id="a-1202-30555" test="cda:code[@codeSystem='2.16.840.1.113883.6.277']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1202-30555).</sch:assert>
      <sch:assert id="a-1202-30556" test="cda:value[@xsi:type='CD'][@code]">This value SHALL contain exactly one [1..1] @code, which SHALL be selected from ValueSet NHSNStartOrContinuation urn:oid:2.16.840.1.114222.4.11.7338 DYNAMIC (CONF:1202-30556).</sch:assert>
      <sch:assert id="a-1202-30558" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:1202-30558).</sch:assert>
      <sch:assert id="a-1202-30559" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:1202-30559).</sch:assert>
      <sch:assert id="a-1202-30560" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:1202-30560).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.230-2015-10-01-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.230' and @extension='2015-10-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.230-2015-10-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.230-2015-10-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.230-2015-10-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-1202-5428-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.230' and @extension = '2015-10-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.230:2015-10-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.230-2015-10-01-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.230' and @extension='2015-10-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.230-2015-10-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.147-errors">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.147-errors-abstract" abstract="true">
      <sch:assert id="a-81-32754" test="count(cda:text)=1">SHALL contain exactly one [1..1] text (CONF:81-32754).</sch:assert>
      <sch:assert id="a-81-32755" test="cda:text[count(cda:reference)=1]">This text SHALL contain exactly one [1..1] reference (CONF:81-32755).</sch:assert>
      <sch:assert id="a-81-32770" test="@classCode='SBADM'">SHALL contain exactly one [1..1] @classCode="SBADM" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:81-32770).</sch:assert>
      <sch:assert id="a-81-32771" test="@moodCode and @moodCode=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.11.20.9.18']/voc:code/@value">SHALL contain exactly one [1..1] @moodCode, which SHALL be selected from ValueSet MoodCodeEvnInt urn:oid:2.16.840.1.113883.11.20.9.18 STATIC 2011-04-03 (CONF:81-32771).</sch:assert>
      <sch:assert id="a-81-32774-c" test="count(cda:text/cda:reference[@value])=0 or starts-with(cda:text/cda:reference/@value, '#')">This reference/@value SHALL begin with a '#' and SHALL point to its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1) (CONF:81-32774).</sch:assert>
      <sch:assert id="a-81-32775" test="count(cda:code[@codeSystem='2.16.840.1.113883.6.1' or @nullFlavor])=1">SHALL contain exactly one [1..1] code (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:81-32775).</sch:assert>
      <sch:assert id="a-81-32776" test="count(cda:consumable)=1">SHALL contain exactly one [1..1] consumable (CONF:81-32776).</sch:assert>
      <sch:assert id="a-81-32777" test="cda:consumable[count(cda:manufacturedProduct)=1]">This consumable SHALL contain exactly one [1..1] manufacturedProduct (CONF:81-32777).</sch:assert>
      <sch:assert id="a-81-32778" test="cda:consumable/cda:manufacturedProduct[count(cda:manufacturedLabeledDrug)=1]">This manufacturedProduct SHALL contain exactly one [1..1] manufacturedLabeledDrug (CONF:81-32778).</sch:assert>
      <sch:assert id="a-81-32779" test="cda:consumable/cda:manufacturedProduct/cda:manufacturedLabeledDrug[@nullFlavor='NA']">This manufacturedLabeledDrug SHALL contain exactly one [1..1] @nullFlavor="NA" Not Applicable (CONF:81-32779).</sch:assert>
      <sch:assert id="a-81-32780" test="cda:code[@code='76662-6']">This code SHALL contain exactly one [1..1] @code="76662-6" Instructions Medication (CONF:81-32780).</sch:assert>
      <sch:assert id="a-81-32781" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1 STATIC) (CONF:81-32781).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.147-errors" context="cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.147']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.147-errors-abstract" />
      <sch:assert id="a-81-32753" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.147'])=1">SHALL contain exactly one [1..1] templateId (CONF:81-32753) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.147" (CONF:81-32772).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.147-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.147-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-81-5432-CL" test="count(.//cda:templateId[@root != '2.16.840.1.113883.10.20.22.4.147'])=0">'urn:oid:2.16.840.1.113883.10.20.22.4.147' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.147-errors-CL" context="cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.147']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.147-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.22.4.38-2015-08-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.22.4.38-2015-08-01-errors-abstract" abstract="true">
      <sch:assert id="a-1198-8550" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.38'][@extension='2015-08-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:1198-8550) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.38" (CONF:1198-10526). SHALL contain exactly one [1..1] @extension="2015-08-01" (CONF:1198-32495).</sch:assert>
      <sch:assert id="a-1198-8558" test="count(cda:code)=1">SHALL contain exactly one [1..1] code, which SHOULD be selected from ValueSet Social History Type urn:oid:2.16.840.1.113883.3.88.12.80.60 DYNAMIC (CONF:1198-8558).</sch:assert>
      <sch:assert id="a-1198-8553" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:1198-8553).</sch:assert>
      <sch:assert id="a-1198-8548" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1198-8548).</sch:assert>
      <sch:assert id="a-1198-8549" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1198-8549).</sch:assert>
      <sch:assert id="a-1198-8551" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:1198-8551).</sch:assert>
      <sch:assert id="a-1198-19117" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:1198-19117).</sch:assert>
      <sch:assert id="a-1198-8555-c" test="not(tested)">If Observation/value is a physical quantity (xsi:type="PQ"), the unit of measure **SHALL** be selected from ValueSet UnitsOfMeasureCaseSensitive (2.16.840.1.113883.1.11.12839) *DYNAMIC* (CONF:1198-8555).</sch:assert>
      <sch:assert id="a-1198-31868" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:1198-31868).</sch:assert>
      <sch:assert id="a-1198-32951-c" test="cda:code/@codeSystem='2.16.840.1.113883.6.1' or cda:code/cda:translation">If @codeSystem is not LOINC, then this code **SHALL** contain at least one [1..*] translation, which **SHOULD** be selected from CodeSystem LOINC (urn:oid:2.16.840.1.113883.6.1) (CONF:1198-32951).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.22.4.38-2015-08-01-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.38' and @extension='2015-08-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.22.4.38-2015-08-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.232-2015-10-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.232-2015-10-01-errors-abstract" abstract="true">
      <sch:assert id="a-1202-30624" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:1202-30624).</sch:assert>
      <sch:assert id="a-1202-30625" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:1202-30625).</sch:assert>
      <sch:assert id="a-1202-30626" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:1202-30626).</sch:assert>
      <sch:assert id="a-1202-30627" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.232'][@extension='2015-10-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:1202-30627) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.232" (CONF:1202-30635). SHALL contain exactly one [1..1] @extension="2015-10-01" (CONF:1202-30636).</sch:assert>
      <sch:assert id="a-1202-30628" test="cda:code[count(self::node()[@code='ASSERTION'])=1]">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:1202-30628).</sch:assert>
      <sch:assert id="a-1202-30629" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:1202-30629).</sch:assert>
      <sch:assert id="a-1202-30630" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:1202-30630).</sch:assert>
      <sch:assert id="a-1202-30631" test="cda:value[@xsi:type='CD'][@code='3540-2']">This value SHALL contain exactly one [1..1] @code="3540-2" No hemovigilance adverse reactions reported this month (CONF:1202-30631).</sch:assert>
      <sch:assert id="a-1202-30632" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1202-30632).</sch:assert>
      <sch:assert id="a-1202-30633" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1202-30633).</sch:assert>
      <sch:assert id="a-1202-30634" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:1202-30634).</sch:assert>
      <sch:assert id="a-1202-30651" test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']">This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1202-30651).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.232-2015-10-01-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.232' and @extension='2015-10-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.232-2015-10-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.232-2015-10-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.232-2015-10-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-1202-5605-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.232' and @extension = '2015-10-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.232:2015-10-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.232-2015-10-01-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.232' and @extension='2015-10-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.232-2015-10-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.233-2015-10-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.233-2015-10-01-errors-abstract" abstract="true">
      <sch:assert id="a-1202-30637" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:1202-30637).</sch:assert>
      <sch:assert id="a-1202-30638" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:1202-30638).</sch:assert>
      <sch:assert id="a-1202-30639" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:1202-30639).</sch:assert>
      <sch:assert id="a-1202-30640" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.233'][@extension='2015-10-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:1202-30640) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.233" (CONF:1202-30645). SHALL contain exactly one [1..1] @extension="2015-10-01" (CONF:1202-30646).</sch:assert>
      <sch:assert id="a-1202-30641" test="cda:code[count(self::node()[@code='ASSERTION'])=1]">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:1202-30641).</sch:assert>
      <sch:assert id="a-1202-30642" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:1202-30642).</sch:assert>
      <sch:assert id="a-1202-30643" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:1202-30643).</sch:assert>
      <sch:assert id="a-1202-30644" test="cda:value[@xsi:type='CD'][@code='3541-0']">This value SHALL contain exactly one [1..1] @code="3541-0" No hemovigilance incidents reported this month (CONF:1202-30644).</sch:assert>
      <sch:assert id="a-1202-30647" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:1202-30647).</sch:assert>
      <sch:assert id="a-1202-30648" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:1202-30648).</sch:assert>
      <sch:assert id="a-1202-30649" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:1202-30649).</sch:assert>
      <sch:assert id="a-1202-30650" test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']">This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:1202-30650).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.233-2015-10-01-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.233' and @extension='2015-10-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.233-2015-10-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.233-2015-10-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.233-2015-10-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-1202-5606-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.233' and @extension = '2015-10-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.233:2015-10-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.233-2015-10-01-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.233' and @extension='2015-10-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.233-2015-10-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.235-2015-10-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.235-2015-10-01-errors-abstract" abstract="true">
      <sch:assert id="a-1202-30671" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.235'][@extension='2015-10-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:1202-30671) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.235" (CONF:1202-30677). SHALL contain exactly one [1..1] @extension="2015-10-01" (CONF:1202-30684).</sch:assert>
      <sch:assert id="a-1202-30672" test="count(cda:code)=1">SHALL contain exactly one [1..1] code, which SHOULD be selected from ValueSet Codes for Hemovigilance (HV) Summary Data urn:oid:2.16.840.1.113883.10.20.5.9.11 DYNAMIC (CONF:1202-30672).</sch:assert>
      <sch:assert id="a-1202-30673" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:1202-30673).</sch:assert>
      <sch:assert id="a-1202-30674" test="count(cda:value[@xsi:type='INT'])=1">SHALL contain exactly one [1..1] value with @xsi:type="INT" (CONF:1202-30674).</sch:assert>
      <sch:assert id="a-1202-30675" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:1202-30675).</sch:assert>
      <sch:assert id="a-1202-30676" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:1202-30676).</sch:assert>
      <sch:assert id="a-1202-30683" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:1202-30683).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.235-2015-10-01-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.235' and @extension='2015-10-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.235-2015-10-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.235-2015-10-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.235-2015-10-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-1202-5608-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.235' and @extension = '2015-10-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.235:2015-10-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.235-2015-10-01-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.235' and @extension='2015-10-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.235-2015-10-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.22.4.200-2016-06-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.22.4.200-2016-06-01-errors-abstract" abstract="true">
      <sch:assert id="a-3250-18124" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:3250-18124).</sch:assert>
      <sch:assert id="a-3250-18232" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.200'][@extension='2016-06-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:3250-18232) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.200" (CONF:3250-18233). SHALL contain exactly one [1..1] @extension="2016-06-01" (CONF:3250-32949).</sch:assert>
      <sch:assert id="a-3250-18234" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:3250-18234).</sch:assert>
      <sch:assert id="a-3250-32947" test="count(cda:value[@xsi:type='CD' and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113762.1.4.1']/voc:code/@value or @nullFlavor])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHALL be selected from ValueSet ONC Administrative Sex urn:oid:2.16.840.1.113762.1.4.1 STATIC 2016-06-01 (CONF:3250-32947).</sch:assert>
      <sch:assert id="a-3250-18125" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:3250-18125).</sch:assert>
      <sch:assert id="a-3250-18235" test="cda:code[@code='76689-9']">This code SHALL contain exactly one [1..1] @code="76689-9" Sex Assigned At Birth (CONF:3250-18235).</sch:assert>
      <sch:assert id="a-3250-21163" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1 STATIC) (CONF:3250-21163).</sch:assert>
      <sch:assert id="a-3250-18230" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:3250-18230).</sch:assert>
      <sch:assert id="a-3250-18231" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:3250-18231).</sch:assert>
      <sch:assert id="a-3250-32948-c" test="not(tested)">If value/@code not from value set ONC Administrative Sex urn:oid:2.16.840.1.113762.1.4.1 STATIC 2016-06-01, then value/@nullFlavor SHALL be “UNK” (CONF:3250-32948).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.22.4.200-2016-06-01-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.200' and @extension='2016-06-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.22.4.200-2016-06-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.239-2016-08-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.239-2016-08-01-errors-abstract" abstract="true">
      <sch:assert id="a-3247-1" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.239'][@extension='2016-08-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:3247-1) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.239" (CONF:3247-5). SHALL contain exactly one [1..1] @extension="2016-08-01" (CONF:3247-6).</sch:assert>
      <sch:assert id="a-3247-2" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:3247-2).</sch:assert>
      <sch:assert id="a-3247-3" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:3247-3).</sch:assert>
      <sch:assert id="a-3247-4" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:3247-4).</sch:assert>
      <sch:assert id="a-3247-7" test="cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:3247-7).</sch:assert>
      <sch:assert id="a-3247-8" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:3247-8).</sch:assert>
      <sch:assert id="a-3247-9" test="cda:value[@xsi:type='CD'][@code='2339-0']">This value SHALL contain exactly one [1..1] @code="2339-0" Blood sample collected for culture (CONF:3247-9).</sch:assert>
      <sch:assert id="a-3247-10" test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']">This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:3247-10).</sch:assert>
      <sch:assert id="a-3247-11" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:3247-11).</sch:assert>
      <sch:assert id="a-3247-12" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:3247-12).</sch:assert>
      <sch:assert id="a-3247-13" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:3247-13).</sch:assert>
      <sch:assert id="a-3247-14" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:3247-14).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.239-2016-08-01-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.239' and @extension='2016-08-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.239-2016-08-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.239-2016-08-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.239-2016-08-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-3247-8295-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.239' and @extension = '2016-08-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.239:2016-08-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.239-2016-08-01-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.239' and @extension='2016-08-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.239-2016-08-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.186-2016-08-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.186-2016-08-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.2-errors-abstract" />
      <sch:assert id="a-3247-30551" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.2'])=1">SHALL contain exactly one [1..1] templateId (CONF:3247-30551) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.2" (CONF:3247-30552).</sch:assert>
      <sch:assert id="a-3247-22636" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:3247-22636).</sch:assert>
      <sch:assert id="a-3247-22639" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:3247-22639).</sch:assert>
      <sch:assert id="a-3247-22641" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:3247-22641).</sch:assert>
      <sch:assert id="a-3247-22643" test="count(cda:value[@xsi:type='IVL_PQ'])=1">SHALL contain exactly one [1..1] value with @xsi:type="IVL_PQ" (CONF:3247-22643).</sch:assert>
      <sch:assert id="a-3247-22634" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.186'][@extension='2016-08-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:3247-22634) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.186" (CONF:3247-22635). SHALL contain exactly one [1..1] @extension="2016-08-01" (CONF:3247-30553).</sch:assert>
      <sch:assert id="a-3247-22637" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:3247-22637).</sch:assert>
      <sch:assert id="a-3247-22640" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" (CONF:3247-22640).</sch:assert>
      <sch:assert id="a-3247-22642" test="cda:effectiveTime[@nullFlavor='NA']">This effectiveTime SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:3247-22642).</sch:assert>
      <sch:assert id="a-3247-22632" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:3247-22632).</sch:assert>
      <sch:assert id="a-3247-22633" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:3247-22633).</sch:assert>
      <sch:assert id="a-3247-22638" test="count(cda:code)=1">SHALL contain exactly one [1..1] code, which SHOULD be selected from ValueSet NHSNDrugSusceptibilityTestsCode urn:oid:2.16.840.1.113883.13.15 DYNAMIC (CONF:3247-22638).</sch:assert>
      <sch:assert id="a-3247-22699" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:3247-22699).</sch:assert>
      <sch:assert id="a-3247-23101" test="count(cda:interpretationCode)=1">SHALL contain exactly one [1..1] interpretationCode, which SHOULD be selected from ValueSet NHSNDrugSusceptibilityFindingCode urn:oid:2.16.840.1.113883.13.13 DYNAMIC (CONF:3247-23101).</sch:assert>
      <sch:assert id="a-3247-30599" test="count(cda:methodCode)=1">SHALL contain exactly one [1..1] methodCode (CONF:3247-30599).</sch:assert>
      <sch:assert id="a-3247-30602" test="cda:methodCode[@code]">This methodCode SHALL contain exactly one [1..1] @code, which SHALL be selected from ValueSet NHSNDrugSusceptibilityTestMethod urn:oid:2.16.840.1.113883.10.20.5.9.4 DYNAMIC (CONF:3247-30602).</sch:assert>
      <sch:assert id="a-3247-30603" test="cda:methodCode[@codeSystem]">This methodCode SHALL contain exactly one [1..1] @codeSystem (CONF:3247-30603).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.186-2016-08-01-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.186' and @extension='2016-08-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.186-2016-08-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.186-2016-08-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.186-2016-08-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-3247-8394-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.186' and @extension = '2016-08-01') and @root != '2.16.840.1.113883.10.20.22.4.2' and @root != '2.16.840.1.113883.10.20.22.4.2'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.186:2016-08-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.186-2016-08-01-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.186' and @extension='2016-08-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.186-2016-08-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.200-2016-08-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.200-2016-08-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.1-errors-abstract" />
      <sch:assert id="a-3247-27111" test="count(cda:component) &gt; 0">SHALL contain at least one [1..*] component (CONF:3247-27111).</sch:assert>
      <sch:assert id="a-3247-30554" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.1'])=1">SHALL contain exactly one [1..1] templateId (CONF:3247-30554) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.1" (CONF:3247-28208).</sch:assert>
      <sch:assert id="a-3247-27108" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:3247-27108).</sch:assert>
      <sch:assert id="a-3247-27109" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:3247-27109).</sch:assert>
      <sch:assert id="a-3247-27105" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.200'][@extension='2016-08-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:3247-27105) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.200" (CONF:3247-27106). SHALL contain exactly one [1..1] @extension="2016-08-01" (CONF:3247-30555).</sch:assert>
      <sch:assert id="a-3247-27107" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:3247-27107).</sch:assert>
      <sch:assert id="a-3247-27112" test="cda:component[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.186' and @extension='2016-08-01']])=1]">Such components SHALL contain exactly one [1..1] Antimicrobial Susceptibility Result Observation (V3) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.186:2016-08-01) (CONF:3247-27112).</sch:assert>
      <sch:assert id="a-3247-28101" test="cda:code[@code='18725-2']">This code SHALL contain exactly one [1..1] @code="18725-2" Microbiology Studies (CONF:3247-28101).</sch:assert>
      <sch:assert id="a-3247-28102" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:3247-28102).</sch:assert>
      <sch:assert id="a-3247-27110" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:3247-27110).</sch:assert>
      <sch:assert id="a-3247-27103" test="@classCode='BATTERY'">SHALL contain exactly one [1..1] @classCode="BATTERY" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:3247-27103).</sch:assert>
      <sch:assert id="a-3247-27104" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:3247-27104).</sch:assert>
      <sch:assert id="a-3247-30591" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CodeSystem: HL7NullFlavor urn:oid:2.16.840.1.113883.5.1008) (CONF:3247-30591).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.200-2016-08-01-errors" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.200' and @extension='2016-08-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.200-2016-08-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.200-2016-08-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.200-2016-08-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-3247-8395-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.200' and @extension = '2016-08-01') and @root != '2.16.840.1.113883.10.20.22.4.1' and @root != '2.16.840.1.113883.10.20.22.4.1' and not(@root = '2.16.840.1.113883.10.20.5.6.186' and @extension = '2016-08-01') and @root != '2.16.840.1.113883.10.20.22.4.2'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.200:2016-08-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.200-2016-08-01-errors-CL" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.200' and @extension='2016-08-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.200-2016-08-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.177-2016-08-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.177-2016-08-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.1-errors-abstract" />
      <sch:assert id="a-3247-21104" test="count(cda:component[count(cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.200' and @extension='2016-08-01']])=1])=1">SHALL contain exactly one [1..1] component (CONF:3247-21104) such that it SHALL contain exactly one [1..1] Antimicrobial Susceptibility Result Organizer (V3) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.200:2016-08-01) (CONF:3247-27178).</sch:assert>
      <sch:assert id="a-3247-30498" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.1'])=1">SHALL contain exactly one [1..1] templateId (CONF:3247-30498) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.1" (CONF:3247-30499).</sch:assert>
      <sch:assert id="a-3247-21097" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:3247-21097).</sch:assert>
      <sch:assert id="a-3247-21098" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:3247-21098).</sch:assert>
      <sch:assert id="a-3247-21100" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:3247-21100).</sch:assert>
      <sch:assert id="a-3247-21106" test="count(cda:component[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.175']])=1])=1">SHALL contain exactly one [1..1] component (CONF:3247-21106) such that it SHALL contain exactly one [1..1] Antimicrobial Susceptibility Final Interpretation Result (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.175) (CONF:3247-22712).</sch:assert>
      <sch:assert id="a-3247-21093" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.177'][@extension='2016-08-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:3247-21093) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.177" (CONF:3247-21094). SHALL contain exactly one [1..1] @extension="2016-08-01" (CONF:3247-30500).</sch:assert>
      <sch:assert id="a-3247-22723-c" test="not(tested)">Such ids SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:3247-22723).</sch:assert>
      <sch:assert id="a-3247-21099" test="cda:code[@code='18725-2' and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code="18725-2" Microbiology studies (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:3247-21099).</sch:assert>
      <sch:assert id="a-3247-21101" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:3247-21101).</sch:assert>
      <sch:assert id="a-3247-21091-c" test="not(tested)">SHALL contain exactly one [1..1] @classCode="CLUSTER" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:3247-21091).</sch:assert>
      <sch:assert id="a-3247-21092" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:3247-21092).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.177-2016-08-01-errors" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.177' and @extension='2016-08-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.177-2016-08-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.177-2016-08-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.177-2016-08-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-3247-8396-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.177' and @extension = '2016-08-01') and @root != '2.16.840.1.113883.10.20.22.4.1' and @root != '2.16.840.1.113883.10.20.22.4.1' and not(@root = '2.16.840.1.113883.10.20.5.6.200' and @extension = '2016-08-01') and not(@root = '2.16.840.1.113883.10.20.5.6.186' and @extension = '2016-08-01') and @root != '2.16.840.1.113883.10.20.22.4.2' and @root != '2.16.840.1.113883.10.20.5.6.175'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.177:2016-08-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.177-2016-08-01-errors-CL" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.177' and @extension='2016-08-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.177-2016-08-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.236-2016-08-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.236-2016-08-01-errors-abstract" abstract="true">
      <sch:assert id="a-3247-30687" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:3247-30687).</sch:assert>
      <sch:assert id="a-3247-30688" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:3247-30688).</sch:assert>
      <sch:assert id="a-3247-30689" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:3247-30689).</sch:assert>
      <sch:assert id="a-3247-30690" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.236'][@extension='2016-08-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:3247-30690) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.236" (CONF:3247-30696). SHALL contain exactly one [1..1] @extension="2016-08-01" (CONF:3247-30697).</sch:assert>
      <sch:assert id="a-3247-30691" test="cda:code[count(self::node()[@code='ASSERTION'])=1]">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:3247-30691).</sch:assert>
      <sch:assert id="a-3247-30692" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:3247-30692).</sch:assert>
      <sch:assert id="a-3247-30693" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:3247-30693).</sch:assert>
      <sch:assert id="a-3247-30694" test="cda:value[@xsi:type='CD'][@code='3542-8']">This value SHALL contain exactly one [1..1] @code="3542-8" Facility transfuses blood products treated with pathogen reduction technology (CONF:3247-30694).</sch:assert>
      <sch:assert id="a-3247-30695" test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']">This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:3247-30695).</sch:assert>
      <sch:assert id="a-3247-30698" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:3247-30698).</sch:assert>
      <sch:assert id="a-3247-30699" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:3247-30699).</sch:assert>
      <sch:assert id="a-3247-30700" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:3247-30700).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.236-2016-08-01-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.236' and @extension='2016-08-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.236-2016-08-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.236-2016-08-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.236-2016-08-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-3247-8404-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.236' and @extension = '2016-08-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.236:2016-08-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.236-2016-08-01-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.236' and @extension='2016-08-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.236-2016-08-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.234-2016-08-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.234-2016-08-01-errors-abstract" abstract="true">
      <sch:assert id="a-3247-30652" test="count(cda:entryRelationship[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.236' and @extension='2016-08-01']])=1]) &gt; 0">SHALL contain at least one [1..*] entryRelationship (CONF:3247-30652) such that it SHALL contain exactly one [1..1] Facility Transfuses Blood Products Treated with Pathogen Reduction Technology Observation (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.236:2016-08-01) (CONF:3247-30658).</sch:assert>
      <sch:assert id="a-3247-30653" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.234'][@extension='2016-08-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:3247-30653) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.234" (CONF:3247-30660). SHALL contain exactly one [1..1] @extension="2016-08-01" (CONF:3247-30661).</sch:assert>
      <sch:assert id="a-3247-30654" test="count(cda:participant[@typeCode='LOC'][count(cda:participantRole[@classCode='SDLOC'][count(cda:id[@root][@extension='FACWIDEIN'])=1][count(cda:code[@code='1250-0'][@codeSystem='2.16.840.1.113883.6.259'])=1])=1])=1">SHALL contain exactly one [1..1] participant (CONF:3247-30654) such that it SHALL contain exactly one [1..1] participantRole (CONF:3247-30655). This participantRole SHALL contain exactly one [1..1] id (CONF:3247-30656). This id SHALL contain exactly one [1..1] @root (CONF:3247-30662). This id SHALL contain exactly one [1..1] @extension="FACWIDEIN" (CONF:3247-30663). This participantRole SHALL contain exactly one [1..1] code (CodeSystem: HSLOC urn:oid:2.16.840.1.113883.6.259 DYNAMIC) (CONF:3247-30657). This code SHALL contain exactly one [1..1] @code="1250-0" (CONF:3247-30664). This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.259" (CONF:3247-30665). This participantRole SHALL contain exactly one [1..1] @classCode="SDLOC" Service Delivery Location (CodeSystem: HL7EntityClass urn:oid:2.16.840.1.113883.5.41 STATIC) (CONF:3247-30667). SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:3247-30668).</sch:assert>
      <sch:assert id="a-3247-30730" test="count(cda:entryRelationship[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.235' and @extension='2015-10-01']])=1]) &gt; 0">SHALL contain at least one [1..*] entryRelationship (CONF:3247-30730) such that it SHALL contain exactly one [1..1] Summary Data Observation (HV) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.235:2015-10-01) (CONF:3247-30732).</sch:assert>
      <sch:assert id="a-3247-30733-c" test="count(cda:entryRelationship/cda:observation/cda:templateId[@root='2.16.840.1.113883.10.20.5.6.237']) = 123">SHALL contain at least one [1..*] entryRelationship (CONF:3247-30733) such that it SHALL contain exactly one [1..1] Blood Product Usage Summary Observation (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.237:2016-08-01) (CONF:3247-30735).</sch:assert>
      <sch:assert id="a-3247-30669" test="@classCode='ENC'">SHALL contain exactly one [1..1] @classCode="ENC" Encounter (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:3247-30669).</sch:assert>
      <sch:assert id="a-3247-30670" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:3247-30670).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.234-2016-08-01-errors" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.234' and @extension='2016-08-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.234-2016-08-01-errors-abstract" />
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.234-2016-08-01-30652-branch-30652-errors-abstract" abstract="true">
      <sch:assert id="a-3247-30659-branch-30652" test="@typeCode='COMP'">SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:3247-30659).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.234-2016-08-01-30652-branch-30652-errors" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.234' and @extension='2016-08-01']]/cda:entryRelationship[cda:observation]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.234-2016-08-01-30652-branch-30652-errors-abstract" />
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.234-2016-08-01-30730-branch-30730-errors-abstract" abstract="true">
      <sch:assert id="a-3247-30731-branch-30730" test="@typeCode='COMP'">SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CONF:3247-30731).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.234-2016-08-01-30730-branch-30730-errors" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.234' and @extension='2016-08-01']]/cda:entryRelationship[cda:observation]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.234-2016-08-01-30730-branch-30730-errors-abstract" />
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.234-2016-08-01-30733-branch-30733-errors-abstract" abstract="true">
      <sch:assert id="a-3247-30734-branch-30733" test="@typeCode='COMP'">SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CONF:3247-30734).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.234-2016-08-01-30733-branch-30733-errors" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.234' and @extension='2016-08-01']]/cda:entryRelationship[cda:observation]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.234-2016-08-01-30733-branch-30733-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.234-2016-08-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.234-2016-08-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-3247-8405-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.234' and @extension = '2016-08-01') and not(@root = '2.16.840.1.113883.10.20.5.6.236' and @extension = '2016-08-01') and not(@root = '2.16.840.1.113883.10.20.5.6.235' and @extension = '2015-10-01') and not(@root = '2.16.840.1.113883.10.20.5.6.237' and @extension = '2016-08-01') and not(@root = '2.16.840.1.113883.10.20.5.6.238' and @extension = '2016-08-01') and not(@root = '2.16.840.1.113883.10.20.5.6.240' and @extension = '2016-08-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.234:2016-08-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.234-2016-08-01-errors-CL" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.234' and @extension='2016-08-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.234-2016-08-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.57-2016-08-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.57-2016-08-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors-abstract" />
      <sch:assert id="a-3247-30614" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.232' and @extension='2015-10-01']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:3247-30614) such that it SHALL contain exactly one [1..1] No Hemovigilance Adverse Reactions Reported This Month Observation (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.232:2015-10-01) (CONF:3247-30685).</sch:assert>
      <sch:assert id="a-3247-30615" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.57'][@extension='2016-08-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:3247-30615) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.57" (CONF:3247-30619). SHALL contain exactly one [1..1] @extension="2016-08-01" (CONF:3247-30620).</sch:assert>
      <sch:assert id="a-3247-30616" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:3247-30616).</sch:assert>
      <sch:assert id="a-3247-30617" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.233' and @extension='2015-10-01']])=1]) &gt; 0">SHALL contain at least one [1..*] entry (CONF:3247-30617) such that it SHALL contain exactly one [1..1] No Hemovigilance Incidents Reported This Month Observation (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.233:2015-10-01) (CONF:3247-30686).</sch:assert>
      <sch:assert id="a-3247-30736" test="count(cda:entry[count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.234' and @extension='2016-08-01']])=1]) &gt; 0">SHALL contain at least one [1..*] entry (CONF:3247-30736) such that it SHALL contain exactly one [1..1] Summary Encounter (HV) (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.234:2016-08-01) (CONF:3247-30737).</sch:assert>
      <sch:assert id="a-3247-30621" test="cda:code[@code='51900-9']">This code SHALL contain exactly one [1..1] @code="51900-9" Summary Data Section (CONF:3247-30621).</sch:assert>
      <sch:assert id="a-3247-30622" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:3247-30622).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.57-2016-08-01-errors" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.57' and @extension='2016-08-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.57-2016-08-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.57-2016-08-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.57-2016-08-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-3247-8406-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.5.57' and @extension = '2016-08-01') and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.4.26' and not(@root = '2.16.840.1.113883.10.20.5.6.232' and @extension = '2015-10-01') and not(@root = '2.16.840.1.113883.10.20.5.6.233' and @extension = '2015-10-01') and not(@root = '2.16.840.1.113883.10.20.5.6.234' and @extension = '2016-08-01') and not(@root = '2.16.840.1.113883.10.20.5.6.236' and @extension = '2016-08-01') and not(@root = '2.16.840.1.113883.10.20.5.6.235' and @extension = '2015-10-01') and not(@root = '2.16.840.1.113883.10.20.5.6.237' and @extension = '2016-08-01') and not(@root = '2.16.840.1.113883.10.20.5.6.238' and @extension = '2016-08-01') and not(@root = '2.16.840.1.113883.10.20.5.6.240' and @extension = '2016-08-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.5.57:2016-08-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.57-2016-08-01-errors-CL" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.57' and @extension='2016-08-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.57-2016-08-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.49-2016-08-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.49-2016-08-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.28-errors-abstract" />
      <sch:assert id="a-3247-30738" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.3.1.1'])=1">SHALL contain exactly one [1..1] templateId (CONF:3247-30738) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.7.3.1.1" (CONF:3247-30608).</sch:assert>
      <sch:assert id="a-3247-30600" test="count(cda:documentationOf)=1">SHALL contain exactly one [1..1] documentationOf (CONF:3247-30600).</sch:assert>
      <sch:assert id="a-3247-30739" test="cda:documentationOf[count(cda:serviceEvent)=1]">This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:3247-30739).</sch:assert>
      <sch:assert id="a-3247-30740" test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]">This serviceEvent SHALL contain exactly one [1..1] code (CONF:3247-30740).</sch:assert>
      <sch:assert id="a-3247-30741" test="count(cda:component)=1">SHALL contain exactly one [1..1] component (CONF:3247-30741).</sch:assert>
      <sch:assert id="a-3247-30604" test="cda:component[count(cda:structuredBody)=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:3247-30604).</sch:assert>
      <sch:assert id="a-3247-30605" test="cda:component/cda:structuredBody[count(cda:component)=1]">This structuredBody SHALL contain exactly one [1..1] component (CONF:3247-30605).</sch:assert>
      <sch:assert id="a-3247-30606" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.49'][@extension='2016-08-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:3247-30606) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.49" (CONF:3247-30611). SHALL contain exactly one [1..1] @extension="2016-08-01" (CONF:3247-30612).</sch:assert>
      <sch:assert id="a-3247-30607" test="cda:component/cda:structuredBody/cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.57' and @extension='2016-08-01']])=1]">This component SHALL contain exactly one [1..1] Summary Data Section (HV) (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.5.57:2016-08-01) (CONF:3247-30607).</sch:assert>
      <sch:assert id="a-3247-30609" test="cda:documentationOf/cda:serviceEvent/cda:code[@code='2543-7']">This code SHALL contain exactly one [1..1] @code="2543-7" Hemovigilance Module -  Monthly Reporting Denominator (CONF:3247-30609).</sch:assert>
      <sch:assert id="a-3247-30610" test="cda:documentationOf/cda:serviceEvent/cda:code[@codeSystem='2.16.840.1.113883.6.277']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:3247-30610).</sch:assert>
      <sch:assert id="a-3247-30613" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:3247-30613).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.49-2016-08-01-errors" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.49' and @extension='2016-08-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.49-2016-08-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.49-2016-08-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.49-2016-08-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-3247-8407-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.49' and @extension = '2016-08-01') and @root != '2.16.840.1.113883.10.20.5.4.28' and @root != '2.16.840.1.113883.10.20.5.4.28' and not(@root = '2.16.840.1.113883.10.20.5.5.57' and @extension = '2016-08-01') and @root != '2.16.840.1.113883.10.20.5.4.26' and not(@root = '2.16.840.1.113883.10.20.5.6.232' and @extension = '2015-10-01') and not(@root = '2.16.840.1.113883.10.20.5.6.233' and @extension = '2015-10-01') and not(@root = '2.16.840.1.113883.10.20.5.6.234' and @extension = '2016-08-01') and not(@root = '2.16.840.1.113883.10.20.5.6.236' and @extension = '2016-08-01') and not(@root = '2.16.840.1.113883.10.20.5.6.235' and @extension = '2015-10-01') and not(@root = '2.16.840.1.113883.10.20.5.6.237' and @extension = '2016-08-01') and not(@root = '2.16.840.1.113883.10.20.5.6.238' and @extension = '2016-08-01') and not(@root = '2.16.840.1.113883.10.20.5.6.240' and @extension = '2016-08-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.49:2016-08-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.49-2016-08-01-errors-CL" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.49' and @extension='2016-08-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.49-2016-08-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.237-2016-08-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.237-2016-08-01-errors-abstract" abstract="true">
      <sch:assert id="a-3247-30701" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.237'][@extension='2016-08-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:3247-30701) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.237" (CONF:3247-30707). SHALL contain exactly one [1..1] @extension="2016-08-01" (CONF:3247-30714).</sch:assert>
      <sch:assert id="a-3247-30702" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:3247-30702).</sch:assert>
      <sch:assert id="a-3247-30703" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:3247-30703).</sch:assert>
      <sch:assert id="a-3247-30729" test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.238' and @extension='2016-08-01']])=1]">The entryRelationship, if present, SHALL contain exactly one [1..1] ISBT Product Code Summary Observation (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.238:2016-08-01) (CONF:3247-30729).</sch:assert>
      <sch:assert id="a-3247-30715" test="cda:code[@code]">This code SHALL contain exactly one [1..1] @code, which SHALL be selected from ValueSet NHSNSummaryBloodProductUsage urn:oid:2.16.840.1.114222.4.11.7353 DYNAMIC (CONF:3247-30715).</sch:assert>
      <sch:assert id="a-3247-30713" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:3247-30713).</sch:assert>
      <sch:assert id="a-3247-30704" test="count(cda:value[@xsi:type='INT'])=1">SHALL contain exactly one [1..1] value with @xsi:type="INT" (CONF:3247-30704).</sch:assert>
      <sch:assert id="a-3247-30705" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:3247-30705).</sch:assert>
      <sch:assert id="a-3247-30706" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:3247-30706).</sch:assert>
      <sch:assert id="a-3247-30764-c" test="( cda:value[@value=0] and count(cda:entryRelationship/cda:observation/cda:templateId[@root='2.16.840.1.113883.10.20.5.6.238']) = 0 ) or ( cda:value[@value &gt; 0] and not( cda:code[@code='3401-7'] and cda:code[@code='3402-5'] and cda:code[@code='3470-2'] and cda:code[@code='3409-0'] and cda:code[@code='3410-8'] and cda:code[@code='3477-7'] and cda:code[@code='3417-3'] and cda:code[@code='3484-3'] and cda:code[@code='3421-5'] and cda:code[@code='3422-3'] and cda:code[@code='3490-0'] and cda:code[@code='3544-4'] and cda:code[@code='3545-1'] and cda:code[@code='3546-9'] and cda:code[@code='3553-5'] and cda:code[@code='3554-3'] and cda:code[@code='3555-0'] and cda:code[@code='3502-2'] and cda:code[@code='3504-8'] and cda:code[@code='3511-3'] and cda:code[@code='3512-1'] and cda:code[@code='3513-9'] and cda:code[@code='3520-4'] and cda:code[@code='3521-2'] and cda:code[@code='3522-0'] and cda:code[@code='3529-5'] and cda:code[@code='3530-3'] and cda:code[@code='3531-1'] and cda:code[@code='3562-6'] and cda:code[@code='3563-4'] ) and count(cda:entryRelationship/cda:observation/cda:templateId[@root='2.16.840.1.113883.10.20.5.6.238']) &gt;= 1 ) or ( ( cda:code[@code='3401-7'] or cda:code[@code='3402-5'] or cda:code[@code='3470-2'] or cda:code[@code='3409-0'] or cda:code[@code='3410-8'] or cda:code[@code='3477-7'] or cda:code[@code='3417-3'] or cda:code[@code='3484-3'] or cda:code[@code='3421-5'] or cda:code[@code='3422-3'] or cda:code[@code='3490-0'] or cda:code[@code='3544-4'] or cda:code[@code='3545-1'] or cda:code[@code='3546-9'] or cda:code[@code='3553-5'] or cda:code[@code='3554-3'] or cda:code[@code='3555-0'] or cda:code[@code='3502-2'] or cda:code[@code='3504-8'] or cda:code[@code='3511-3'] or cda:code[@code='3512-1'] or cda:code[@code='3513-9'] or cda:code[@code='3520-4'] or cda:code[@code='3521-2'] or cda:code[@code='3522-0'] or cda:code[@code='3529-5'] or cda:code[@code='3530-3'] or cda:code[@code='3531-1'] or cda:code[@code='3562-6'] or cda:code[@code='3563-4']) and count(cda:entryRelationship/cda:observation/cda:templateId[@root='2.16.840.1.113883.10.20.5.6.238']) = 0 )">If the value = 0 or type of product is one of the following, there SHALL NOT be a contained observation:
    Red Blood Cells/Whole Blood Derived/Total (3401-7, 3402-5, 3470-2)
    Red Blood Cells/Apheresis/Total (3409-0, 3410-8, 3477-7)
    Platelets/Whole Blood Derived/Total (3417-3, 3484-3)
    Platelets/Apheresis/Total (3421-5, 3422-3, 3490-0)
    Red Blood Cells/Whole Blood Derived/S-303 and Riboflavin Treated/Total (3544-4, 3545-1, 3546-9)
    Red Blood Cells/Apheresis/S-303 and Riboflavin Treated/Total (3553-5, 3554-3, 3555-0)
    Platelets/Whole Blood Derived/Psoralen and Riboflavin Treated/Total (3502-2, 3504-8)
    Platelets/Apheresis/Psoralen and Riboflavin Treated/Total (3511-3, 3512-1, 3513-9)
    Plasma/Whole Blood Derived/Psoralen and Riboflavin Treated/Total (3520-4, 3521-2, 3522-0)
    Plasma/Apheresis/Psoralen and Riboflavin Treated/Total (3529-5, 3530-3, 3531-1)
    Cryoprecipitate/Psoralen and Riboflavin Treated/Total (3562-6, 3563-4)
If the value is &gt; 0 and the type of product is not one of those listed above, then each specific subcategory product that is &gt; 0 SHALL be listed in a separate contained ISBT Product Code Summary Observation (CONF:3247-30764).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.237-2016-08-01-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.237' and @extension='2016-08-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.237-2016-08-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.237-2016-08-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.237-2016-08-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-3247-8413-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.237' and @extension = '2016-08-01') and not(@root = '2.16.840.1.113883.10.20.5.6.238' and @extension = '2016-08-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.237:2016-08-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.237-2016-08-01-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.237' and @extension='2016-08-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.237-2016-08-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.238-2016-08-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.238-2016-08-01-errors-abstract" abstract="true">
      <sch:assert id="a-3247-30716" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.238'][@extension='2016-08-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:3247-30716) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.238" (CONF:3247-30719). SHALL contain exactly one [1..1] @extension="2016-08-01" (CONF:3247-30720).</sch:assert>
      <sch:assert id="a-3247-30717" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:3247-30717).</sch:assert>
      <sch:assert id="a-3247-30718" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:3247-30718).</sch:assert>
      <sch:assert id="a-3247-30726-c" test="not(testable)">If the product specified in the containing Blood Product Usage Summary Observation is Whole Blood (3467-8, 3468-6, 3469-4), then valueSet NHSN Whole Blood Total (urn:oid:2.16.840.1.114222.4.11.7292) SHALL be used (CONF:3247-30726).</sch:assert>
      <sch:assert id="a-3247-30727-c" test="not(testable)">If the product specified in the containing Blood Product Usage Summary Observation is Red Blood Cells/Whole Blood Derived/Not irradiated or Leukocyte Reduced (3471-0, 3472-8, 3473-6), then valueSet NHSN Red Blood Cells/Whole Blood Derived/Not Irradiated or Leukocyte Reduced (urn:oid:2.16.840.1.114222.4.11.7294) SHALL be used (CONF:3247-30727).</sch:assert>
      <sch:assert id="a-3247-30765-c" test="not(testable)">If the product specified in the containing Blood Product Usage Summary Observation is Red Blood Cells/Whole Blood Derived/Irradiated (3403-3, 3404-1, 3474-4), then valueSet NHSN Red Blood Cells/Whole Blood Derived/Irradiated (urn:oid:2.16.840.1.114222.4.11.7295) SHALL be used (CONF:3247-30765).</sch:assert>
      <sch:assert id="a-3247-30766-c" test="not(testable)">If the product specified in the containing Blood Product Usage Summary Observation is Red Blood Cells/Whole Blood Derived/Irradiated and Leukocyte Reduced (3407-4, 3408-2, 3476-9), then valueSet NHSN Red Blood Cells/Whole Blood Derived/Irradiated and Leukocyte Reduced (urn:oid:2.16.840.1.114222.4.11.7297) SHALL be used (CONF:3247-30766).</sch:assert>
      <sch:assert id="a-3247-30767-c" test="not(testable)">If the product specified in the containing Blood Product Usage Summary Observation is Red Blood Cells/Whole Blood Derived/Leukocyte Reduced (3405-8, 3406-6, 3475-1), then valueSet NHSN Red Blood Cells/Whole Blood Derived/Leukocyte Reduced (urn:oid:2.16.840.1.114222.4.11.7296) SHALL be used (CONF:3247-30767).</sch:assert>
      <sch:assert id="a-3247-30768-c" test="not(testable)">If the product specified in the containing Blood Product Usage Summary Observation is Red Blood Cells/Apheresis/Not Irradiated or Leukocyte Reduced (3478-5, 3479-3, 3480-1), then valueSet NHSN Red Blood Cells/Apheresis/Not Irradiated or Leukocyte Reduced (urn:oid:2.16.840.1.114222.4.11.7299) SHALL be used (CONF:3247-30768).</sch:assert>
      <sch:assert id="a-3247-30742-c" test="not(testable)">If the product specified in the containing Blood Product Usage Summary Observation is Red Blood Cells/Apheresis/Irradiated (3411-6, 3412-4, 3481-9), then valueSet NHSN Red Blood Cells/Apheresis/Irradiated (urn:oid:2.16.840.1.114222.4.11.7300) SHALL be used (CONF:3247-30742).</sch:assert>
      <sch:assert id="a-3247-30743-c" test="not(testable)">If the product specified in the containing Blood Product Usage Summary Observation is Red Blood Cells/Apheresis/Leukocyte Reduced (3413-2, 3414-0, 3482-7), then valueSet NHSN Red Blood Cells/Apheresis/Leukocyte Reduced (urn:oid:2.16.840.1.114222.4.11.7301) SHALL be used (CONF:3247-30743).</sch:assert>
      <sch:assert id="a-3247-30744-c" test="not(testable)">If the product specified in the containing Blood Product Usage Summary Observation is Plasma/Apheresis/Riboflavin-Treated (3535-2, 3536-0, 3537-8), then valueSet NHSN Plasma/Apheresis/Riboflavin-Treated (urn:oid:2.16.840.1.114222.4.11.7327) SHALL be used (CONF:3247-30744).</sch:assert>
      <sch:assert id="a-3247-30745-c" test="not(testable)">If the product specified in the containing Blood Product Usage Summary Observation is Plasma/Apheresis/Psoralen-Treated (3532-9, 3533-7, 3534-5), then valueSet NHSN Plasma/Apheresis/Psoralen-Treated (urn:oid:2.16.840.1.114222.4.11.7326) SHALL be used (CONF:3247-30745).</sch:assert>
      <sch:assert id="a-3247-30746-c" test="not(testable)">If the product specified in the containing Blood Product Usage Summary Observation is Plasma/Whole Blood Derived/Riboflavin-Treated (3526-1, 3527-9, 3528-7), then valueSet NHSN Plasma/Whole Blood Derived/Riboflavin-Treated (urn:oid:2.16.840.1.114222.4.11.7324) SHALL be used (CONF:3247-30746).</sch:assert>
      <sch:assert id="a-3247-30747-c" test="not(testable)">If the product specified in the containing Blood Product Usage Summary Observation is Plasma/Whole Blood Derived/Psoralen-Treated (3523-8, 3524-6, 3525-3), then valueSet NHSN Plasma/Whole Blood Derived/Psoralen-Treated (urn:oid:2.16.840.1.114222.4.11.7323) SHALL be used (CONF:3247-30747).</sch:assert>
      <sch:assert id="a-3247-30748-c" test="not(testable)">If the product specified in the containing Blood Product Usage Summary Observation is Platelets/Apheresis/Riboflavin-Treated (3517-0, 3518-8, 3519-6 ), then valueSet NHSN Platelets/Apheresis/Riboflavin-Treated (urn:oid:2.16.840.1.114222.4.11.7321) SHALL be used (CONF:3247-30748).</sch:assert>
      <sch:assert id="a-3247-30749-c" test="not(testable)">If the product specified in the containing Blood Product Usage Summary Observation is Platelets/Apheresis/Psoralen-Treated (3514-7, 3515-4, 3516-2), then valueSet NHSN Platelets/Apheresis/Psoralen-Treated (urn:oid:2.16.840.1.114222.4.11.7320) SHALL be used (CONF:3247-30749).</sch:assert>
      <sch:assert id="a-3247-30750-c" test="not(testable)">If the product specified in the containing Blood Product Usage Summary Observation is Platelets/Whole Blood Derived/Riboflavin-Treated (3517-0, 3518-8), then valueSet NHSN Platelets/Whole Blood Derived/Riboflavin-Treated (urn:oid:2.16.840.1.114222.4.11.7318) SHALL be used (CONF:3247-30750).</sch:assert>
      <sch:assert id="a-3247-30751-c" test="not(testable)">If the product specified in the containing Blood Product Usage Summary Observation is Platelets/Whole Blood Derived/Psoralen-Treated (3505-5, 3507-1), then valueSet NHSN Platelets/Whole Blood Derived/Psoralen-Treated (urn:oid:2.16.840.1.114222.4.11.7317) SHALL be used (CONF:3247-30751).</sch:assert>
      <sch:assert id="a-3247-30752-c" test="not(testable)">If the product specified in the containing Blood Product Usage Summary Observation is Cryoprecipitate (3562-6, 3563-4), then valueSet NHSN Cryoprecipitate (urn:oid:2.16.840.1.114222.4.11.7315) SHALL be used (CONF:3247-30752).</sch:assert>
      <sch:assert id="a-3247-30753-c" test="not(testable)">If the product specified in the containing Blood Product Usage Summary Observation is Plasma/Apheresis/Total (3529-5, 3530-3, 3531-1), then valueSet NHSN Plasma/Apheresis/Total (urn:oid:2.16.840.1.114222.4.11.7314) SHALL be used (CONF:3247-30753).</sch:assert>
      <sch:assert id="a-3247-30754-c" test="not(testable)">If the product specified in the containing Blood Product Usage Summary Observation is Plasma/Whole Blood Derived/Total (3520-4, 3521-2, 3522-0), then valueSet NHSN Plasma/Whole Blood Derived/Total (urn:oid:2.16.840.1.114222.4.11.7313) SHALL be used (CONF:3247-30754).</sch:assert>
      <sch:assert id="a-3247-30755-c" test="not(testable)">If the product specified in the containing Blood Product Usage Summary Observation is Platelets/Apheresis/Irradiated or Leukocyte Reduced (3427-2, 3428-0, 3496-7), then valueSet NHSN Platelets/Apheresis/Irradiated or Leukocyte Reduced (urn:oid:2.16.840.1.114222.4.11.7312) SHALL be used (CONF:3247-30755).</sch:assert>
      <sch:assert id="a-3247-30756-c" test="not(testable)">If the product specified in the containing Blood Product Usage Summary Observation is Platelets/Apheresis/Leukocyte Reduced (3425-6, 3426-4, 3495-9), then valueSet NHSN Platelets/Apheresis/Leukocyte Reduced (urn:oid:2.16.840.1.114222.4.11.7311) SHALL be used (CONF:3247-30756).</sch:assert>
      <sch:assert id="a-3247-30757-c" test="not(testable)">If the product specified in the containing Blood Product Usage Summary Observation is Platelets/Apheresis/Irradiated (3423-1, 3424-9, 3494-2), then valueSet NHSN Platelets/Apheresis/Irradiated (urn:oid:2.16.840.1.114222.4.11.7310) SHALL be used (CONF:3247-30757).</sch:assert>
      <sch:assert id="a-3247-30758-c" test="not(testable)">If the product specified in the containing Blood Product Usage Summary Observation is Platelets/Apheresis/Not Irradiated or Leukocyte Reduced (3491-8, 3492-6, 3493-4), then valueSet NHSN Platelets/Apheresis/Not Irradiated or Leukocyte Reduced (urn:oid:2.16.840.1.114222.4.11.7309) SHALL be used (CONF:3247-30758).</sch:assert>
      <sch:assert id="a-3247-30759-c" test="not(testable)">If the product specified in the containing Blood Product Usage Summary Observation is Platelets/Whole Blood Derived/Irradiated and Leukocyte Reduced (3420-7, 3489-2), then valueSet NHSN Platelets/Whole Blood Derived/Irradiated and Leukocyte Reduced (urn:oid:2.16.840.1.114222.4.11.7307) SHALL be used (CONF:3247-30759).</sch:assert>
      <sch:assert id="a-3247-30760-c" test="not(testable)">If the product specified in the containing Blood Product Usage Summary Observation is Platelets/Whole Blood Derived/Leukocyte Reduced (3419-9, 3488-4), then valueSet NHSN Platelets/Whole Blood Derived/Leukocyte Reduced (urn:oid:2.16.840.1.114222.4.11.7306) SHALL be used (CONF:3247-30760).</sch:assert>
      <sch:assert id="a-3247-30761-c" test="not(testable)">If the product specified in the containing Blood Product Usage Summary Observation is Platelets/Whole Blood Derived/Irradiated (3418-1, 3487-6), then valueSet NHSN Platelets/Whole Blood Derived/Irradiated (urn:oid:2.16.840.1.114222.4.11.7305) SHALL be used (CONF:3247-30761).</sch:assert>
      <sch:assert id="a-3247-30762-c" test="not(testable)">If the product specified in the containing Blood Product Usage Summary Observation is Platelets/Whole Blood Derived/Not Irradiated or Leukocyte Reduced (3485-0, 3486-8), then valueSet NHSN Platelets/Whole Blood Derived/Not Irradiated or Leukocyte Reduced (urn:oid:2.16.840.1.114222.4.11.7304) SHALL be used (CONF:3247-30762).</sch:assert>
      <sch:assert id="a-3247-30763-c" test="not(testable)">If the product specified in the containing Blood Product Usage Summary Observation is Red Blood Cells/Apheresis/Irradiated or Leukocyte Reduced (3415-7, 3416-5, 3483-5), then valueSet NHSN Red Blood Cells/Apheresis/Irradiated or Leukocyte Reduced (urn:oid:2.16.840.1.114222.4.11.7302) SHALL be used (CONF:3247-30763).</sch:assert>
      <sch:assert id="a-3247-30722" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:3247-30722).</sch:assert>
      <sch:assert id="a-3247-30723" test="count(cda:value[@xsi:type='INT'])=1">SHALL contain exactly one [1..1] value with @xsi:type="INT" (CONF:3247-30723).</sch:assert>
      <sch:assert id="a-3247-30724" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:3247-30724).</sch:assert>
      <sch:assert id="a-3247-30725" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:3247-30725).</sch:assert>
      <sch:assert id="a-3247-30769-c" test="not(testable)">If the product specified in the containing Blood Product Usage Summary Observation is Red Blood Cells/Whole Blood Derived/S-303-Treated (3547-7, 3548-5, 3549-3), then valueSet NHSN Red Blood Cells/Whole Blood Derived/S-303-Treated (urn:oid:2.16.840.1.114222.4.11.7498) SHALL be used (CONF:3247-30769).</sch:assert>
      <sch:assert id="a-3247-30770-c" test="not(testable)">If the product specified in the containing Blood Product Usage Summary Observation is Red Blood Cells/Whole Blood Derived/Riboflavin-Treated (3550-1, 3551-9, 3552-7), then valueSet NHSN Red Blood Cells/Whole Blood Derived/Riboflavin-Treated (urn:oid:2.16.840.1.114222.4.11.7499) SHALL be used (CONF:3247-30770).</sch:assert>
      <sch:assert id="a-3247-30771-c" test="not(testable)">If the product specified in the containing Blood Product Usage Summary Observation is Red Blood Cells/Apheresis/S-303-Treated (3556-8, 3557-6, 3558-4), then valueSet NHSN Red Blood Cells/Apheresis/S-303-Treated (urn:oid:2.16.840.1.114222.4.11.7500) SHALL be used (CONF:3247-30771).</sch:assert>
      <sch:assert id="a-3247-30772-c" test="not(testable)">If the product specified in the containing Blood Product Usage Summary Observation is Red Blood Cells/Apheresis/Riboflavin-Treated (3559-2, 3560-0, 3561-8), then valueSet NHSN Red Blood Cells/Apheresis/Riboflavin-Treated (urn:oid:2.16.840.1.114222.4.11.7501) SHALL be used (CONF:3247-30772).</sch:assert>
      <sch:assert id="a-3247-30773-c" test="not(testable)">If the product specified in the containing Blood Product Usage Summary Observation is Cryoprecipitate/Psoralen-Treated (3564-2, 3565-9), then valueSet NHSN Cryoprecipitate/Psoralen-Treated (urn:oid:2.16.840.1.114222.4.11.7502) SHALL be used (CONF:3247-30773).</sch:assert>
      <sch:assert id="a-3247-30774-c" test="not(testable)">If the product specified in the containing Blood Product Usage Summary Observation is Cryoprecipitate/Riboflavin-Treated (3566-7, 3567-5), then valueSet NHSN Cryoprecipitate/Riboflavin-Treated (urn:oid:2.16.840.1.114222.4.11.7503) SHALL be used (CONF:3247-30774).</sch:assert>
      <sch:assert id="a-3247-30775-c" test="not(testable)">If the product specified in the containing Blood Product Usage Summary Observation is Platelets/Apheresis/Psoralen-Treated and In Plasma (3568-3, 3569-1, 3570-9), then valueSet NHSN Platelets/Apheresis/Psoralen-Treated and In Plasma (urn:oid:2.16.840.1.114222.4.11.7504) SHALL be used (CONF:3247-30775).</sch:assert>
      <sch:assert id="a-3247-30776-c" test="not(testable)">If the product specified in the containing Blood Product Usage Summary Observation is Platelets/Apheresis/Psoralen-Treated and In Platelet Additive Solution (3571-7, 3572-5, 3573-3), then valueSet NHSN Platelets/Apheresis/Psoralen-Treated and In Platelet Additive Solution  (urn:oid:2.16.840.1.114222.4.11.7505) SHALL be used (CONF:3247-30776).</sch:assert>
      <sch:assert id="a-3247-30777-c" test="not(testable)">If the product specified in the containing Blood Product Usage Summary Observation is Platelets/Apheresis/Riboflavin-Treated and In Plasma (3574-1, 3575-8, 3576-6), then valueSet NHSN Platelets/Apheresis/Riboflavin-Treated and In Plasma (urn:oid:2.16.840.1.114222.4.11.7506) SHALL be used (CONF:3247-30777).</sch:assert>
      <sch:assert id="a-3247-30778-c" test="not(testable)">If the product specified in the containing Blood Product Usage Summary Observation is Platelets/Apheresis/Riboflavin-Treated and In Platelet Additive Solution (3577-4, 3578-2, 3579-0), then valueSet NHSN Platelets/Apheresis/Riboflavin-Treated and In Platelet Additive Solution (urn:oid:2.16.840.1.114222.4.11.7507) SHALL be used (CONF:3247-30778).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.238-2016-08-01-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.238' and @extension='2016-08-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.238-2016-08-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.238-2016-08-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.238-2016-08-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-3247-8414-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.238' and @extension = '2016-08-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.238:2016-08-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.238-2016-08-01-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.238' and @extension='2016-08-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.238-2016-08-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.240-2016-08-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.240-2016-08-01-errors-abstract" abstract="true">
      <sch:assert id="a-3247-30780" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.240'][@extension='2016-08-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:3247-30780) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.240" (CONF:3247-30784). SHALL contain exactly one [1..1] @extension="2016-08-01" (CONF:3247-30785).</sch:assert>
      <sch:assert id="a-3247-30781" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:3247-30781).</sch:assert>
      <sch:assert id="a-3247-30782" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:3247-30782).</sch:assert>
      <sch:assert id="a-3247-30783" test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.238' and @extension='2016-08-01']])=1]">The entryRelationship, if present, SHALL contain exactly one [1..1] ISBT Product Code Summary Observation (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.238:2016-08-01) (CONF:3247-30783).</sch:assert>
      <sch:assert id="a-3247-30786" test="cda:code[@code]">This code SHALL contain exactly one [1..1] @code, which SHALL be selected from ValueSet NHSN Pathogen Reduced Apheresis Platelet Usage urn:oid:2.16.840.1.113883.10.20.5.9.5 DYNAMIC (CONF:3247-30786).</sch:assert>
      <sch:assert id="a-3247-30787" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:3247-30787).</sch:assert>
      <sch:assert id="a-3247-30788" test="count(cda:value[@xsi:type='INT'])=1">SHALL contain exactly one [1..1] value with @xsi:type="INT" (CONF:3247-30788).</sch:assert>
      <sch:assert id="a-3247-30789" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:3247-30789).</sch:assert>
      <sch:assert id="a-3247-30790" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:3247-30790).</sch:assert>
      <sch:assert id="a-3247-30791-c" test="not(tested_here_yet_todo)">If the value = 0 there SHALL NOT be a contained observation. If the value is &gt; 0 then each specific subcategory product that is &gt; 0 SHALL be listed in a separate contained ISBT Product Code Summary Observation (CONF:3247-30791).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.240-2016-08-01-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.240' and @extension='2016-08-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.240-2016-08-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.240-2016-08-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.240-2016-08-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-3247-8428-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.240' and @extension = '2016-08-01') and not(@root = '2.16.840.1.113883.10.20.5.6.238' and @extension = '2016-08-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.240:2016-08-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.240-2016-08-01-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.240' and @extension='2016-08-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.240-2016-08-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.50-2017-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.50-2017-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.28-errors-abstract" />
      <sch:assert id="a-3311-1" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.3.2'])=1">SHALL contain exactly one [1..1] templateId (CONF:3311-1) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.7.3.2" (CONF:3311-10).</sch:assert>
      <sch:assert id="a-3311-2" test="count(cda:documentationOf)=1">SHALL contain exactly one [1..1] documentationOf (CONF:3311-2).</sch:assert>
      <sch:assert id="a-3311-3" test="cda:documentationOf[count(cda:serviceEvent)=1]">This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:3311-3).</sch:assert>
      <sch:assert id="a-3311-4" test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]">This serviceEvent SHALL contain exactly one [1..1] code (CONF:3311-4).</sch:assert>
      <sch:assert id="a-3311-5" test="count(cda:component)=1">SHALL contain exactly one [1..1] component (CONF:3311-5).</sch:assert>
      <sch:assert id="a-3311-6" test="cda:component[count(cda:structuredBody)=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:3311-6).</sch:assert>
      <sch:assert id="a-3311-7" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.58' and @extension='2017-04-01']])=1])=1]">This structuredBody SHALL contain exactly one [1..1] component (CONF:3311-7) such that it SHALL contain exactly one [1..1] Summary Data Section (HP-FLU) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.5.58:2017-04-01) (CONF:3311-9).</sch:assert>
      <sch:assert id="a-3311-8" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.50'][@extension='2017-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:3311-8) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.50" (CONF:3311-13). SHALL contain exactly one [1..1] @extension="2017-04-01" (CONF:3311-14).</sch:assert>
      <sch:assert id="a-3311-11" test="cda:documentationOf/cda:serviceEvent/cda:code[@code='86558-4']">This code SHALL contain exactly one [1..1] @code="86558-4" Healthcare Personnel Influenza Vaccination Summary (CONF:3311-11).</sch:assert>
      <sch:assert id="a-3311-12" test="cda:documentationOf/cda:serviceEvent/cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:3311-12).</sch:assert>
      <sch:assert id="a-3311-16" test="cda:documentationOf/cda:serviceEvent[count(cda:effectiveTime)=1]">This serviceEvent SHALL contain exactly one [1..1] effectiveTime (CONF:3311-16).</sch:assert>
      <sch:assert id="a-3311-28416" test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:low)=1]">This effectiveTime SHALL contain exactly one [1..1] low (CONF:3311-28416).</sch:assert>
      <sch:assert id="a-3311-28417" test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:high)=1]">This effectiveTime SHALL contain exactly one [1..1] high (CONF:3311-28417).</sch:assert>
      <sch:assert id="a-3311-28418" test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime/cda:low[@value]">This low SHALL contain exactly one [1..1] @value (CONF:3311-28418).</sch:assert>
      <sch:assert id="a-3311-28419" test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime/cda:high[@value]">This high SHALL contain exactly one [1..1] @value (CONF:3311-28419).</sch:assert>
      <sch:assert id="a-3311-28420-c" test="string-length( cda:documentationOf/cda:serviceEvent/cda:effectiveTime/cda:low/@value)=4">DocumentationOf/serviceEvent/effectiveTime/low/@value SHALL contain a 4-digit year (CONF:3311-28420).</sch:assert>
      <sch:assert id="a-3311-28421-c" test="string-length( cda:documentationOf/cda:serviceEvent/cda:effectiveTime/cda:high/@value)=4">DocumentationOf/serviceEvent/effectiveTime/high/@value SHALL contain a 4-digit year (CONF:3311-28421).</sch:assert>
      <sch:assert id="a-3311-28424" test="count(cda:participant[@typeCode='LOC'][count(cda:associatedEntity[@classCode='SDLOC'][count(cda:id[@root])=1])=1])=1">SHALL contain exactly one [1..1] participant (CONF:3311-28424) such that it SHALL contain exactly one [1..1] associatedEntity (CONF:3311-28425). This associatedEntity SHALL contain exactly one [1..1] id (CONF:3311-28426). This id MAY contain zero or one [0..1] @root (CONF:3311-28430). This associatedEntity SHALL contain exactly one [1..1] @classCode="SDLOC" Service delivery location (CodeSystem: HL7RoleClass urn:oid:2.16.840.1.113883.5.110) (CONF:3311-28429). SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90) (CONF:3311-28427).</sch:assert>
      <sch:assert id="a-3311-28468" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:3311-28468).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.50-2017-04-01-errors" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.50' and @extension='2017-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.50-2017-04-01-errors-abstract" />
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.50-2017-04-01-28424-branch-28424-errors-abstract" abstract="true">
      <sch:assert id="a-3311-28431-branch-28424" test="cda:associatedEntity[count(cda:code)=1]">This associatedEntity SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNInfluenzaVaccinationSetting urn:oid:2.16.840.1.113883.10.20.5.9.7 DYNAMIC (CONF:3311-28431).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.50-2017-04-01-28424-branch-28424-errors" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.50' and @extension='2017-04-01']]/cda:participant[cda:associatedEntity[cda:id[@root]][@classCode='SDLOC']][@typeCode='LOC']">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.50-2017-04-01-28424-branch-28424-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.50-2017-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.50-2017-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-3311-9085-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.50' and @extension = '2017-04-01') and @root != '2.16.840.1.113883.10.20.5.4.28' and @root != '2.16.840.1.113883.10.20.5.4.28' and not(@root = '2.16.840.1.113883.10.20.5.5.58' and @extension = '2017-04-01') and @root != '2.16.840.1.113883.10.20.5.4.26' and not(@root = '2.16.840.1.113883.10.20.5.6.242' and @extension = '2017-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.241' and @extension = '2017-04-01') and @root != '2.16.840.1.113883.10.20.5.6.185' and not(@root = '2.16.840.1.113883.10.20.5.5.61' and @extension = '2017-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.243' and @extension = '2017-04-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.50:2017-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.50-2017-04-01-errors-CL" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.50' and @extension='2017-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.50-2017-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.58-2017-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.58-2017-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors-abstract" />
      <sch:assert id="a-3311-17" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.242' and @extension='2017-04-01']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:3311-17) such that it SHALL contain exactly one [1..1] Vaccination Type Observation (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.242:2017-04-01) (CONF:3311-28415).</sch:assert>
      <sch:assert id="a-3311-18" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.58'][@extension='2017-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:3311-18) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.58" (CONF:3311-21). SHALL contain exactly one [1..1] @extension="2017-04-01" (CONF:3311-24).</sch:assert>
      <sch:assert id="a-3311-19" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:3311-19).</sch:assert>
      <sch:assert id="a-3311-22" test="cda:code[@code='51900-9']">This code SHALL contain exactly one [1..1] @code="51900-9" Summary Data Section (CONF:3311-22).</sch:assert>
      <sch:assert id="a-3311-23" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:3311-23).</sch:assert>
      <sch:assert id="a-3311-75" test="count(cda:entry[count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.241' and @extension='2017-04-01']])=1]) &gt; 0">SHALL contain at least one [1..*] entry (CONF:3311-75) such that it SHALL contain exactly one [1..1] Summary Encounter (HP-FLU) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.241:2017-04-01) (CONF:3311-28413).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.58-2017-04-01-errors" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.58' and @extension='2017-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.58-2017-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.58-2017-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.58-2017-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-3311-9086-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.5.58' and @extension = '2017-04-01') and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.4.26' and not(@root = '2.16.840.1.113883.10.20.5.6.242' and @extension = '2017-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.241' and @extension = '2017-04-01') and @root != '2.16.840.1.113883.10.20.5.6.185'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.5.58:2017-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.58-2017-04-01-errors-CL" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.58' and @extension='2017-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.58-2017-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.241-2017-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.241-2017-04-01-errors-abstract" abstract="true">
      <sch:assert id="a-3311-25" test="count(cda:entryRelationship) &gt; 0">SHALL contain at least one [1..*] entryRelationship (CONF:3311-25).</sch:assert>
      <sch:assert id="a-3311-26" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.241'][@extension='2017-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:3311-26) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.241" (CONF:3311-34). SHALL contain exactly one [1..1] @extension="2017-04-01" (CONF:3311-44).</sch:assert>
      <sch:assert id="a-3311-29" test="count(cda:participant[@typeCode='SBJ'][count(cda:participantRole[@classCode='PART'][count(cda:code)=1])=1])=1">SHALL contain exactly one [1..1] participant (CONF:3311-29) such that it SHALL contain exactly one [1..1] participantRole (CONF:3311-30). This participantRole SHALL contain exactly one [1..1] @classCode="PART" (CodeSystem: HL7RoleClass urn:oid:2.16.840.1.113883.5.110) (CONF:3311-41). This participantRole SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet HealthcarePersonnelType urn:oid:2.16.840.1.113883.10.20.5.9.6 DYNAMIC (CONF:3311-42). SHALL contain exactly one [1..1] @typeCode="SBJ" (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90) (CONF:3311-40).</sch:assert>
      <sch:assert id="a-3311-31" test="cda:entryRelationship[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.185']])=1]">Such entryRelationships SHALL contain exactly one [1..1] Summary Data Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.185) (CONF:3311-31).</sch:assert>
      <sch:assert id="a-3311-32" test="@classCode='ENC'">SHALL contain exactly one [1..1] @classCode="ENC" Encounter (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:3311-32).</sch:assert>
      <sch:assert id="a-3311-33" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:3311-33).</sch:assert>
      <sch:assert id="a-3311-43" test="cda:entryRelationship[@typeCode='COMP']">Such entryRelationships SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:3311-43).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.241-2017-04-01-errors" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.241' and @extension='2017-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.241-2017-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.241-2017-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.241-2017-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-3311-9087-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.241' and @extension = '2017-04-01') and @root != '2.16.840.1.113883.10.20.5.6.185'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.241:2017-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.241-2017-04-01-errors-CL" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.241' and @extension='2017-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.241-2017-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.242-2017-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.242-2017-04-01-errors-abstract" abstract="true">
      <sch:assert id="a-3311-46" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.242'][@extension='2017-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:3311-46) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.242" (CONF:3311-59). SHALL contain exactly one [1..1] @extension="2017-04-01" (CONF:3311-60).</sch:assert>
      <sch:assert id="a-3311-47" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:3311-47).</sch:assert>
      <sch:assert id="a-3311-49" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:3311-49).</sch:assert>
      <sch:assert id="a-3311-50" test="cda:value[@xsi:type='CD'][count(cda:qualifier[count(cda:name[@code='260837004'][@codeSystem='2.16.840.1.113883.6.96'])=1][count(cda:value)=1])=1]">This value SHALL contain exactly one [1..1] qualifier (CONF:3311-50) such that it SHALL contain exactly one [1..1] name (CONF:3311-51). This name SHALL contain exactly one [1..1] @code="260837004" subtype (CONF:3311-66). This name SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.96" (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96) (CONF:3311-67). SHALL contain exactly one [1..1] value (CONF:3311-68).</sch:assert>
      <sch:assert id="a-3311-61" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:3311-61).</sch:assert>
      <sch:assert id="a-3311-64" test="cda:code[@code='30956-7']">This code SHALL contain exactly one [1..1] @code="30956-7" Type [Identifier] Vaccine (CONF:3311-64).</sch:assert>
      <sch:assert id="a-3311-65" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:3311-65).</sch:assert>
      <sch:assert id="a-3311-69" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:3311-69).</sch:assert>
      <sch:assert id="a-3311-70" test="cda:value[@xsi:type='CD'][@code='6142004']">This value SHALL contain exactly one [1..1] @code="6142004" Influenza (CONF:3311-70).</sch:assert>
      <sch:assert id="a-3311-71" test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.96']">This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.96" (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96) (CONF:3311-71).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.242-2017-04-01-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.242' and @extension='2017-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.242-2017-04-01-errors-abstract" />
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.242-2017-04-01-50-branch-50-errors-abstract" abstract="true">
      <sch:assert id="a-3311-72-branch-50" test="cda:value[@code='21864008']">This value SHALL contain exactly one [1..1] @code="21864008" Seasonal (CONF:3311-72).</sch:assert>
      <sch:assert id="a-3311-73-branch-50" test="cda:value[@codeSystem='2.16.840.1.113883.6.96']">This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.96" (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96) (CONF:3311-73).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.242-2017-04-01-50-branch-50-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.242' and @extension='2017-04-01']]/cda:value[@xsi:type='CD']/cda:qualifier[cda:name[@code='260837004'][@codeSystem='2.16.840.1.113883.6.96']][cda:value]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.242-2017-04-01-50-branch-50-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.242-2017-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.242-2017-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-3311-9092-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.242' and @extension = '2017-04-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.242:2017-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.242-2017-04-01-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.242' and @extension='2017-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.242-2017-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.243-2017-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.243-2017-04-01-errors-abstract" abstract="true">
      <sch:assert id="a-3311-80" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:3311-80).</sch:assert>
      <sch:assert id="a-3311-81" test="count(cda:text)=1">SHALL contain exactly one [1..1] text (CONF:3311-81).</sch:assert>
      <sch:assert id="a-3311-87" test="@classCode='ACT'">SHALL contain exactly one [1..1] @classCode="ACT" Act (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:3311-87).</sch:assert>
      <sch:assert id="a-3311-88" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:3311-88).</sch:assert>
      <sch:assert id="a-3311-90" test="cda:code[@code='86467-8']">This code SHALL contain exactly one [1..1] @code="86467-8" Report comment Narrative (CONF:3311-90).</sch:assert>
      <sch:assert id="a-3311-93-c" test="string-length( cda:text) &lt; 2000">The length of the free text comment SHALL be less than 2000 characters (CONF:3311-93).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.243-2017-04-01-errors" context="cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.243' and @extension='2017-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.243-2017-04-01-errors-abstract" />
      <sch:assert id="a-3311-79" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.243'][@extension='2017-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:3311-79) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.243" (CONF:3311-89). SHALL contain exactly one [1..1] @extension="2017-04-01" (CONF:3311-92).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.243-2017-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.243-2017-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-3311-9093-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.243' and @extension = '2017-04-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.243:2017-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.243-2017-04-01-errors-CL" context="cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.243' and @extension='2017-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.243-2017-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.59-2017-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.59-2017-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors-abstract" />
      <sch:assert id="a-3311-124" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.139']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:3311-124) such that it SHALL contain exactly one [1..1] Infection-Type Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.139) (CONF:3311-129).</sch:assert>
      <sch:assert id="a-3311-125" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.59'][@extension='2017-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:3311-125) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.59" (CONF:3311-130). SHALL contain exactly one [1..1] @extension="2017-04-01" (CONF:3311-135).</sch:assert>
      <sch:assert id="a-3311-126" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:3311-126).</sch:assert>
      <sch:assert id="a-3311-127" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.120']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:3311-127) such that it SHALL contain exactly one [1..1] Death Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.120) (CONF:3311-133).</sch:assert>
      <sch:assert id="a-3311-131" test="cda:code[@code='51899-3']">This code SHALL contain exactly one [1..1] @code="51899-3" Details Section (CONF:3311-131).</sch:assert>
      <sch:assert id="a-3311-132" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:3311-132).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.59-2017-04-01-errors" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.59' and @extension='2017-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.59-2017-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.59-2017-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.59-2017-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-3311-9145-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.5.59' and @extension = '2017-04-01') and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.6.139' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.5.6.180' and @root != '2.16.840.1.113883.10.20.5.6.119' and @root != '2.16.840.1.113883.10.20.22.4.19' and @root != '2.16.840.1.113883.10.20.5.6.135' and @root != '2.16.840.1.113883.10.20.5.6.160' and @root != '2.16.840.1.113883.10.20.5.6.114' and @root != '2.16.840.1.113883.10.20.5.6.144' and @root != '2.16.840.1.113883.10.20.5.6.120' and @root != '2.16.840.1.113883.10.20.22.4.79' and @root != '2.16.840.1.113883.10.20.5.6.136' and @root != '2.16.840.1.113883.10.20.5.6.150' and @root != '2.16.840.1.113883.10.20.5.6.154' and @root != '2.16.840.1.113883.10.20.22.4.14'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.5.59:2017-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.59-2017-04-01-errors-CL" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.59' and @extension='2017-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.59-2017-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.60-2017-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.60-2017-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors-abstract" />
      <sch:assert id="a-3311-138" test="count(cda:entry[count(cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.244' and @extension='2017-04-01']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:3311-138) such that it SHALL contain exactly one [1..1] Mechanical Ventilation Initiation Act (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.244:2017-04-01) (CONF:3311-28394).</sch:assert>
      <sch:assert id="a-3311-139" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:3311-139).</sch:assert>
      <sch:assert id="a-3311-140" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.60'][@extension='2017-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:3311-140) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.60" (CONF:3311-144). SHALL contain exactly one [1..1] @extension="2017-04-01" (CONF:3311-145).</sch:assert>
      <sch:assert id="a-3311-142" test="cda:code[@code='51898-5']">This code SHALL contain exactly one [1..1] @code="51898-5" Risk Factors Section (CONF:3311-142).</sch:assert>
      <sch:assert id="a-3311-143" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:3311-143).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.60-2017-04-01-errors" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.60' and @extension='2017-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.60-2017-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.60-2017-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.60-2017-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-3311-9146-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.5.60' and @extension = '2017-04-01') and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.4.26' and not(@root = '2.16.840.1.113883.10.20.5.6.244' and @extension = '2017-04-01') and @root != '2.16.840.1.113883.10.20.22.4.12' and not(@root = '2.16.840.1.113883.10.20.5.6.248' and @extension = '2017-04-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.5.60:2017-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.60-2017-04-01-errors-CL" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.60' and @extension='2017-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.60-2017-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.61-2017-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.61-2017-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors-abstract" />
      <sch:assert id="a-3311-172" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.61'][@extension='2017-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:3311-172) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.61" (CONF:3311-180). SHALL contain exactly one [1..1] @extension="2017-04-01" (CONF:3311-181).</sch:assert>
      <sch:assert id="a-3311-173" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:3311-173).</sch:assert>
      <sch:assert id="a-3311-179" test="count(cda:entry[count(cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.243' and @extension='2017-04-01']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:3311-179) such that it SHALL contain exactly one [1..1] NHSN Comment (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.243:2017-04-01) (CONF:3311-184).</sch:assert>
      <sch:assert id="a-3311-182" test="cda:code[@code='86468-6']">This code SHALL contain exactly one [1..1] @code="86468-6" Report Comment Section (CONF:3311-182).</sch:assert>
      <sch:assert id="a-3311-183" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:3311-183).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.61-2017-04-01-errors" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.61' and @extension='2017-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.61-2017-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.61-2017-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.61-2017-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-3311-9155-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.5.61' and @extension = '2017-04-01') and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.4.26' and not(@root = '2.16.840.1.113883.10.20.5.6.243' and @extension = '2017-04-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.5.61:2017-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.61-2017-04-01-errors-CL" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.61' and @extension='2017-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.61-2017-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.245-2017-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.245-2017-04-01-errors-abstract" abstract="true">
      <sch:assert id="a-3311-187" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:3311-187).</sch:assert>
      <sch:assert id="a-3311-188" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:3311-188).</sch:assert>
      <sch:assert id="a-3311-190" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.245'][@extension='2017-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:3311-190) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.245" (CONF:3311-199). SHALL contain exactly one [1..1] @extension="2017-04-01" (CONF:3311-200).</sch:assert>
      <sch:assert id="a-3311-193" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:3311-193).</sch:assert>
      <sch:assert id="a-3311-196" test="@classCode='PROC'">SHALL contain exactly one [1..1] @classCode="PROC" Procedure (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:3311-196).</sch:assert>
      <sch:assert id="a-3311-197" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:3311-197).</sch:assert>
      <sch:assert id="a-3311-198" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:3311-198).</sch:assert>
      <sch:assert id="a-3311-28444" test="cda:code[@nullFlavor='UNK']">This code SHALL contain exactly one [1..1] @nullFlavor="UNK" Unknown (CodeSystem: HL7NullFlavor urn:oid:2.16.840.1.113883.5.1008) (CONF:3311-28444).</sch:assert>
      <sch:assert id="a-3311-28453" test="count(cda:participant)=1">SHALL contain exactly one [1..1] participant (CONF:3311-28453).</sch:assert>
      <sch:assert id="a-3311-28454" test="cda:participant[count(cda:participantRole)=1]">This participant SHALL contain exactly one [1..1] participantRole (CONF:3311-28454).</sch:assert>
      <sch:assert id="a-3311-28458" test="cda:participant[@typeCode='DEV']">This participant SHALL contain exactly one [1..1] @typeCode="DEV" Device (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90) (CONF:3311-28458).</sch:assert>
      <sch:assert id="a-3311-28459" test="cda:participant/cda:participantRole[@classCode='MANU']">This participantRole SHALL contain exactly one [1..1] @classCode="MANU" Manufactured product (CodeSystem: HL7RoleClass urn:oid:2.16.840.1.113883.5.110) (CONF:3311-28459).</sch:assert>
      <sch:assert id="a-3311-28460" test="cda:participant/cda:participantRole[count(cda:playingDevice)=1]">This participantRole SHALL contain exactly one [1..1] playingDevice (CONF:3311-28460).</sch:assert>
      <sch:assert id="a-3311-28461" test="cda:participant/cda:participantRole/cda:playingDevice[count(cda:code)=1]">This playingDevice SHALL contain exactly one [1..1] code (CONF:3311-28461).</sch:assert>
      <sch:assert id="a-3311-28462" test="cda:participant/cda:participantRole/cda:playingDevice/cda:code[@code='450866001']">This code SHALL contain exactly one [1..1] @code="450866001" Hemodialysis catheter (CONF:3311-28462).</sch:assert>
      <sch:assert id="a-3311-28463" test="cda:participant/cda:participantRole/cda:playingDevice/cda:code[@codeSystem='2.16.840.1.113883.6.96']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.96" (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96) (CONF:3311-28463).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.245-2017-04-01-errors" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.245' and @extension='2017-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.245-2017-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.245-2017-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.245-2017-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-3311-9156-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.245' and @extension = '2017-04-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.245:2017-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.245-2017-04-01-errors-CL" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.245' and @extension='2017-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.245-2017-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.246-2017-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.246-2017-04-01-errors-abstract" abstract="true">
      <sch:assert id="a-3311-201" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:3311-201).</sch:assert>
      <sch:assert id="a-3311-202" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:3311-202).</sch:assert>
      <sch:assert id="a-3311-204" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.246'][@extension='2017-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:3311-204) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.246" (CONF:3311-210). SHALL contain exactly one [1..1] @extension="2017-04-01" (CONF:3311-211).</sch:assert>
      <sch:assert id="a-3311-207" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:3311-207).</sch:assert>
      <sch:assert id="a-3311-212" test="@classCode='PROC'">SHALL contain exactly one [1..1] @classCode="PROC" Procedure (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:3311-212).</sch:assert>
      <sch:assert id="a-3311-213" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:3311-213).</sch:assert>
      <sch:assert id="a-3311-214" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:3311-214).</sch:assert>
      <sch:assert id="a-3311-28434" test="count(cda:participant)=1">SHALL contain exactly one [1..1] participant (CONF:3311-28434).</sch:assert>
      <sch:assert id="a-3311-28435" test="cda:participant[count(cda:participantRole)=1]">This participant SHALL contain exactly one [1..1] participantRole (CONF:3311-28435).</sch:assert>
      <sch:assert id="a-3311-28436" test="cda:participant/cda:participantRole[count(cda:playingDevice)=1]">This participantRole SHALL contain exactly one [1..1] playingDevice (CONF:3311-28436).</sch:assert>
      <sch:assert id="a-3311-28437" test="cda:participant/cda:participantRole/cda:playingDevice[count(cda:code)=1]">This playingDevice SHALL contain exactly one [1..1] code (CONF:3311-28437).</sch:assert>
      <sch:assert id="a-3311-28438" test="cda:code[@nullFlavor='UNK']">This code SHALL contain exactly one [1..1] @nullFlavor="UNK" (CodeSystem: HL7NullFlavor urn:oid:2.16.840.1.113883.5.1008) (CONF:3311-28438).</sch:assert>
      <sch:assert id="a-3311-28439" test="cda:participant[@typeCode='DEV']">This participant SHALL contain exactly one [1..1] @typeCode="DEV" Device (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90) (CONF:3311-28439).</sch:assert>
      <sch:assert id="a-3311-28440" test="cda:participant/cda:participantRole[@classCode='MANU']">This participantRole SHALL contain exactly one [1..1] @classCode="MANU" manufactured product (CodeSystem: HL7RoleClass urn:oid:2.16.840.1.113883.5.110) (CONF:3311-28440).</sch:assert>
      <sch:assert id="a-3311-28441" test="cda:participant/cda:participantRole/cda:playingDevice/cda:code[@code='261258006']">This code SHALL contain exactly one [1..1] @code="261258006" Extracorporeal membrane oxygenation circuit (CONF:3311-28441).</sch:assert>
      <sch:assert id="a-3311-28442" test="cda:participant/cda:participantRole/cda:playingDevice/cda:code[@codeSystem='2.16.840.1.113883.6.96']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.96" (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96) (CONF:3311-28442).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.246-2017-04-01-errors" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.246' and @extension='2017-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.246-2017-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.246-2017-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.246-2017-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-3311-9157-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.246' and @extension = '2017-04-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.246:2017-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.246-2017-04-01-errors-CL" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.246' and @extension='2017-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.246-2017-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.247-2017-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.247-2017-04-01-errors-abstract" abstract="true">
      <sch:assert id="a-3311-215" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:3311-215).</sch:assert>
      <sch:assert id="a-3311-216" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:3311-216).</sch:assert>
      <sch:assert id="a-3311-218" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.247'][@extension='2017-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:3311-218) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.247" (CONF:3311-224). SHALL contain exactly one [1..1] @extension="2017-04-01" (CONF:3311-225).</sch:assert>
      <sch:assert id="a-3311-221" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:3311-221).</sch:assert>
      <sch:assert id="a-3311-226" test="@classCode='PROC'">SHALL contain exactly one [1..1] @classCode="PROC" Procedure (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:3311-226).</sch:assert>
      <sch:assert id="a-3311-227" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:3311-227).</sch:assert>
      <sch:assert id="a-3311-228" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:3311-228).</sch:assert>
      <sch:assert id="a-3311-28443" test="cda:code[@nullFlavor='UNK']">This code SHALL contain exactly one [1..1] @nullFlavor="UNK" Unknown (CodeSystem: HL7NullFlavor urn:oid:2.16.840.1.113883.5.1008) (CONF:3311-28443).</sch:assert>
      <sch:assert id="a-3311-28446" test="not(cda:participant) or cda:participant[count(cda:participantRole)=1]">The participant, if present, SHALL contain exactly one [1..1] participantRole (CONF:3311-28446).</sch:assert>
      <sch:assert id="a-3311-28447" test="not(cda:participant) or cda:participant[@typeCode='DEV']">The participant, if present, SHALL contain exactly one [1..1] @typeCode="DEV" Device (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90) (CONF:3311-28447).</sch:assert>
      <sch:assert id="a-3311-28448" test="not(cda:participant/cda:participantRole) or cda:participant/cda:participantRole[@classCode='MANU']">This participantRole SHALL contain exactly one [1..1] @classCode="MANU" Manufactured product (CodeSystem: HL7RoleClass urn:oid:2.16.840.1.113883.5.110) (CONF:3311-28448).</sch:assert>
      <sch:assert id="a-3311-28449" test="not(cda:participant/cda:participantRole) or cda:participant/cda:participantRole[count(cda:playingDevice)=1]">This participantRole SHALL contain exactly one [1..1] playingDevice (CONF:3311-28449).</sch:assert>
      <sch:assert id="a-3311-28450" test="not(cda:participant/cda:participantRole/cda:playingDevice) or cda:participant/cda:participantRole/cda:playingDevice[count(cda:code)=1]">This playingDevice SHALL contain exactly one [1..1] code (CONF:3311-28450).</sch:assert>
      <sch:assert id="a-3311-28451" test="not(cda:participant/cda:participantRole/cda:playingDevice/cda:code) or cda:participant/cda:participantRole/cda:playingDevice/cda:code[@code='360064003']">This code SHALL contain exactly one [1..1] @code="360064003" Ventricular assist device (CONF:3311-28451).</sch:assert>
      <sch:assert id="a-3311-28452" test="not(cda:participant/cda:participantRole/cda:playingDevice/cda:code) or cda:participant/cda:participantRole/cda:playingDevice/cda:code[@codeSystem='2.16.840.1.113883.6.96']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.96" (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96) (CONF:3311-28452).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.247-2017-04-01-errors" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.247' and @extension='2017-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.247-2017-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.247-2017-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.247-2017-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-3311-9158-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.247' and @extension = '2017-04-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.247:2017-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.247-2017-04-01-errors-CL" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.247' and @extension='2017-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.247-2017-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.244-2017-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.244-2017-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.12-errors-abstract" />
      <sch:assert id="a-3311-28367" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:3311-28367).</sch:assert>
      <sch:assert id="a-3311-28368" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:3311-28368).</sch:assert>
      <sch:assert id="a-3311-28369" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:3311-28369).</sch:assert>
      <sch:assert id="a-3311-28370" test="count(cda:participant)=1">SHALL contain exactly one [1..1] participant (CONF:3311-28370).</sch:assert>
      <sch:assert id="a-3311-28371" test="cda:participant[count(cda:participantRole)=1]">This participant SHALL contain exactly one [1..1] participantRole (CONF:3311-28371).</sch:assert>
      <sch:assert id="a-3311-28372" test="cda:participant/cda:participantRole[count(cda:id)=1]">This participantRole SHALL contain exactly one [1..1] id (CONF:3311-28372).</sch:assert>
      <sch:assert id="a-3311-28373" test="cda:participant/cda:participantRole/cda:id[@root]">This id SHALL contain exactly one [1..1] @root (CONF:3311-28373).</sch:assert>
      <sch:assert id="a-3311-28374" test="cda:participant/cda:participantRole[count(cda:playingEntity)=1]">This participantRole SHALL contain exactly one [1..1] playingEntity (CONF:3311-28374).</sch:assert>
      <sch:assert id="a-3311-28375" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.12'])=1">SHALL contain exactly one [1..1] templateId (CONF:3311-28375) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.12" (CONF:3311-28390).</sch:assert>
      <sch:assert id="a-3311-28376" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:3311-28376).</sch:assert>
      <sch:assert id="a-3311-28377" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.244'][@extension='2017-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:3311-28377) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.244" (CONF:3311-28392). SHALL contain exactly one [1..1] @extension="2017-04-01" (CONF:3311-28393).</sch:assert>
      <sch:assert id="a-3311-28378" test="@classCode='ACT'">SHALL contain exactly one [1..1] @classCode="ACT" (CONF:3311-28378).</sch:assert>
      <sch:assert id="a-3311-28379" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" (CONF:3311-28379).</sch:assert>
      <sch:assert id="a-3311-28380" test="cda:code[@code='2341-2']">This code SHALL contain exactly one [1..1] @code="2341-2" Mechanical ventilation initiation (CONF:3311-28380).</sch:assert>
      <sch:assert id="a-3311-28381" test="cda:code[@codeSystem='2.16.840.1.113883.6.277']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:3311-28381).</sch:assert>
      <sch:assert id="a-3311-28382" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:3311-28382).</sch:assert>
      <sch:assert id="a-3311-28383" test="cda:effectiveTime[count(cda:low)=1]">This effectiveTime SHALL contain exactly one [1..1] low (CONF:3311-28383).</sch:assert>
      <sch:assert id="a-3311-28384" test="cda:participant[@typeCode='LOC']">This participant SHALL contain exactly one [1..1] @typeCode="LOC" (CONF:3311-28384).</sch:assert>
      <sch:assert id="a-3311-28385" test="cda:participant/cda:participantRole[@classCode='SDLOC']">This participantRole SHALL contain exactly one [1..1] @classCode="SDLOC" (CONF:3311-28385).</sch:assert>
      <sch:assert id="a-3311-28386-c" test="not(tested-here)">This id/@root SHALL contain the facility identifier (CONF:3311-28386).</sch:assert>
      <sch:assert id="a-3311-28387" test="cda:participant/cda:participantRole/cda:id[@extension]">This id SHALL contain exactly one [1..1] @extension (CONF:3311-28387).</sch:assert>
      <sch:assert id="a-3311-28388" test="cda:participant/cda:participantRole/cda:playingEntity[@classCode='PLC']">This playingEntity SHALL contain exactly one [1..1] @classCode="PLC" (CodeSystem: HL7EntityClass urn:oid:2.16.840.1.113883.5.41 STATIC) (CONF:3311-28388).</sch:assert>
      <sch:assert id="a-3311-28389" test="cda:participant/cda:participantRole/cda:playingEntity[count(cda:code)=1]">This playingEntity SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNHealthcareServiceLocationCode urn:oid:2.16.840.1.113883.13.19 DYNAMIC (CONF:3311-28389).</sch:assert>
      <sch:assert id="a-3311-28391" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CodeSystem: HL7NullFlavor urn:oid:2.16.840.1.113883.5.1008) (CONF:3311-28391).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.244-2017-04-01-errors" context="cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.244' and @extension='2017-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.244-2017-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.244-2017-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.244-2017-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-3311-9184-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.244' and @extension = '2017-04-01') and @root != '2.16.840.1.113883.10.20.22.4.12' and @root != '2.16.840.1.113883.10.20.22.4.12'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.244:2017-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.244-2017-04-01-errors-CL" context="cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.244' and @extension='2017-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.244-2017-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.248-2017-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.248-2017-04-01-errors-abstract" abstract="true">
      <sch:assert id="a-3311-28396" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:3311-28396).</sch:assert>
      <sch:assert id="a-3311-28397" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:3311-28397).</sch:assert>
      <sch:assert id="a-3311-28398" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:3311-28398).</sch:assert>
      <sch:assert id="a-3311-28399" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.248'][@extension='2017-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:3311-28399) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.248" (CONF:3311-28408). SHALL contain exactly one [1..1] @extension="2017-04-01" (CONF:3311-28409).</sch:assert>
      <sch:assert id="a-3311-28400" test="cda:code[count(self::node()[@code='ASSERTION'])=1]">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:3311-28400).</sch:assert>
      <sch:assert id="a-3311-28401" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:3311-28401).</sch:assert>
      <sch:assert id="a-3311-28402" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:3311-28402).</sch:assert>
      <sch:assert id="a-3311-28403" test="cda:value[@xsi:type='CD'][@code='2342-6']">This value SHALL contain exactly one [1..1] @code="2342-6" Patient on Airway Pressure Release Ventilation (APRV) or a related mode of mechanical ventilation at the time of VAE (CONF:3311-28403).</sch:assert>
      <sch:assert id="a-3311-28404" test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']">This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:3311-28404).</sch:assert>
      <sch:assert id="a-3311-28405" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:3311-28405).</sch:assert>
      <sch:assert id="a-3311-28406" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:3311-28406).</sch:assert>
      <sch:assert id="a-3311-28407" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:3311-28407).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.248-2017-04-01-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.248' and @extension='2017-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.248-2017-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.248-2017-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.248-2017-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-3311-9185-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.248' and @extension = '2017-04-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.248:2017-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.248-2017-04-01-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.248' and @extension='2017-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.248-2017-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.249-2018-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.249-2018-04-01-errors-abstract" abstract="true">
      <sch:assert id="a-3357-28468" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.249'][@extension='2018-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:3357-28468) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.249" (CONF:3357-28470). SHALL contain exactly one [1..1] @extension="2018-04-01" (CONF:3357-28471).</sch:assert>
      <sch:assert id="a-3357-28469" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:3357-28469).</sch:assert>
      <sch:assert id="a-3357-30599" test="@classCode='ACT'">SHALL contain exactly one [1..1] @classCode="ACT" Act (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:3357-30599).</sch:assert>
      <sch:assert id="a-3357-30600" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:3357-30600).</sch:assert>
      <sch:assert id="a-3357-30905-c" test="not(tested_DYNAMIC_BINDING)">If this is a Neonatal Intensive Care Unit (NICU) Summary Report then the code SHALL be selected from ValueSet NHSNReportNoEventsNICU urn:oid:2.16.840.1.113883.10.20.5.9.19 **DYNAMIC** (CONF:3357-30905).</sch:assert>
      <sch:assert id="a-3357-30906-c" test="not(tested_DYNAMIC_BINDING)">If this is an Intensive Care Unit (ICU) Summary Report then the code SHALL be selected from ValueSet NHSNReportNoEventsICU urn:oid:2.16.840.1.113883.10.20.5.9.18 **DYNAMIC** (CONF:3357-30906).</sch:assert>
      <sch:assert id="a-3357-30907-c" test="not(tested_DYNAMIC_BINDING)">If this is a Vascular Access Type Report (VAT) Summary Report then the code SHALL be selected from ValueSet NHSNReportNoEventsDialysis urn:oid:2.16.840.1.113883.10.20.5.9.22 **DYNAMIC** (CONF:3357-30907).</sch:assert>
      <sch:assert id="a-3357-30908-c" test="not(tested_DYNAMIC_BINDING)">If this is a Prevention Process and Outcome Measures (POM) Summary Report then the code SHALL be selected from ValueSet NHSNReportNoEventsMDRO urn:oid:2.16.840.1.113883.10.20.5.9.21 **DYNAMIC** (CONF:3357-30908).</sch:assert>
      <sch:assert id="a-3357-30909-c" test="not(tested_DYNAMIC_BINDING)">If this is a Specialty Care Area (SCA) Summary Report then the code SHALL be selected from ValueSet NHSNReportNoEventsSCA urn:oid:2.16.840.1.113883.10.20.5.9.20 **DYNAMIC** (CONF:3357-30909).</sch:assert>
      <sch:assert id="a-3357-30913-c" test="not(tested_DYNAMIC_BINDING)">If this is an Outpatient Procedure Component Denominator for Same Day Outcome Measures Report then the code SHALL be selected from ValueSet NHSNReportNoEventsOPCSameDayOutcomeMeasures urn:oid:2.16.840.1.113883.10.20.5.9.33 **DYNAMIC** (CONF:3357-30913).</sch:assert>
      <sch:assert id="a-3357-30914-c" test="not(tested_DYNAMIC_BINDING)">If this is an Antimicrobial Resistance Option (ARO) Summary Report then the code SHALL be selected from ValueSet NHSNReportNoEventsAR urn:oid:2.16.840.1.113883.10.20.5.9.35 **DYNAMIC** (CONF:3357-30914).</sch:assert>
      <sch:assert id="a-3357-30915-c" test="not(tested_DYNAMIC_BINDING)">If this is an MDRO and CDI LabID Event Reporting Monthly Summary Data for LTCF then the code SHALL be selected from ValueSet NHSNReportNoEventsMDROCDI (urn:oid:2.16.840.1.113883.10.20.5.1.9.1) **DYNAMIC** (CONF:3357-30915).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.249-2018-04-01-errors" context="cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.249' and @extension='2018-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.249-2018-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.249-2018-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.249-2018-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-3357-9762-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.249' and @extension = '2018-04-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.249:2018-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.249-2018-04-01-errors-CL" context="cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.249' and @extension='2018-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.249-2018-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.41-2018-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.41-2018-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.28-errors-abstract" />
      <sch:assert id="a-3357-28323" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.3.3'])=1">SHALL contain exactly one [1..1] templateId (CONF:3357-28323) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.7.3.3" (CONF:3357-28324).</sch:assert>
      <sch:assert id="a-3357-22808" test="count(cda:documentationOf)=1">SHALL contain exactly one [1..1] documentationOf (CONF:3357-22808).</sch:assert>
      <sch:assert id="a-3357-22809" test="cda:documentationOf[count(cda:serviceEvent)=1]">This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:3357-22809).</sch:assert>
      <sch:assert id="a-3357-22810" test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]">This serviceEvent SHALL contain exactly one [1..1] code (CONF:3357-22810).</sch:assert>
      <sch:assert id="a-3357-22813" test="count(cda:component)=1">SHALL contain exactly one [1..1] component (CONF:3357-22813).</sch:assert>
      <sch:assert id="a-3357-22814" test="cda:component[count(cda:structuredBody)=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:3357-22814).</sch:assert>
      <sch:assert id="a-3357-22815" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.48' and @extension='2018-04-01']])=1])=1]">This structuredBody SHALL contain exactly one [1..1] component (CONF:3357-22815) such that it SHALL contain exactly one [1..1] Summary Data Section (NICU) (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.5.48:2018-04-01) (CONF:3357-22816).</sch:assert>
      <sch:assert id="a-3357-22805" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.41'][@extension='2018-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:3357-22805) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.41" (CONF:3357-22806). SHALL contain exactly one [1..1] @extension="2018-04-01" (CONF:3357-30595).</sch:assert>
      <sch:assert id="a-3357-22811" test="cda:documentationOf/cda:serviceEvent/cda:code[@code='1881-2']">This code SHALL contain exactly one [1..1] @code="1881-2" Summary data reporting catheter and ventilator use in a NICU (CONF:3357-22811).</sch:assert>
      <sch:assert id="a-3357-22812" test="cda:documentationOf/cda:serviceEvent/cda:code[@codeSystem='2.16.840.1.113883.6.277']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:3357-22812).</sch:assert>
      <sch:assert id="a-3357-30867" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:3357-30867).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.41-2018-04-01-errors" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.41' and @extension='2018-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.41-2018-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.41-2018-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.41-2018-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-3357-9763-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.41' and @extension = '2018-04-01') and @root != '2.16.840.1.113883.10.20.5.4.28' and @root != '2.16.840.1.113883.10.20.5.4.28' and not(@root = '2.16.840.1.113883.10.20.5.5.48' and @extension = '2018-04-01') and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.6.191' and @root != '2.16.840.1.113883.10.20.5.6.185' and not(@root = '2.16.840.1.113883.10.20.5.5.62' and @extension = '2018-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.249' and @extension = '2018-04-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.41:2018-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.41-2018-04-01-errors-CL" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.41' and @extension='2018-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.41-2018-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.48-2018-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.48-2018-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors-abstract" />
      <sch:assert id="a-3357-22837" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.48'][@extension='2018-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:3357-22837) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.48" (CONF:3357-22838). SHALL contain exactly one [1..1] @extension="2018-04-01" (CONF:3357-30598).</sch:assert>
      <sch:assert id="a-3357-22839" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:3357-22839).</sch:assert>
      <sch:assert id="a-3357-22841" test="count(cda:entry[count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.191']])=1]) &gt; 0">SHALL contain at least one [1..*] entry (CONF:3357-22841) such that it SHALL contain exactly one [1..1] Summary Encounter (NICU) (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.191) (CONF:3357-22842).</sch:assert>
      <sch:assert id="a-3357-22840" test="cda:code[@code='51900-9']">This code SHALL contain exactly one [1..1] @code="51900-9" Summary Data Section (CONF:3357-22840).</sch:assert>
      <sch:assert id="a-3357-28368" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:3357-28368).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.48-2018-04-01-errors" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.48' and @extension='2018-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.48-2018-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.48-2018-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.48-2018-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-3357-9774-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.5.48' and @extension = '2018-04-01') and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.6.191' and @root != '2.16.840.1.113883.10.20.5.6.185'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.5.48:2018-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.48-2018-04-01-errors-CL" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.48' and @extension='2018-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.48-2018-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.62-2018-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.62-2018-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors-abstract" />
      <sch:assert id="a-3357-30604" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.62'][@extension='2018-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:3357-30604) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.62" (CONF:3357-30608). SHALL contain exactly one [1..1] @extension="2018-04-01" (CONF:3357-30609).</sch:assert>
      <sch:assert id="a-3357-30605" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:3357-30605).</sch:assert>
      <sch:assert id="a-3357-30606" test="count(cda:entry[count(cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.249' and @extension='2018-04-01']])=1]) &gt; 0">SHALL contain at least one [1..*] entry (CONF:3357-30606) such that it SHALL contain exactly one [1..1] Report No Events (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.249:2018-04-01) (CONF:3357-30910).</sch:assert>
      <sch:assert id="a-3357-30610" test="cda:code[@code='90252-8']">This code SHALL contain exactly one [1..1] @code="90252-8" Report No Events section (CONF:3357-30610).</sch:assert>
      <sch:assert id="a-3357-30611" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:3357-30611).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.62-2018-04-01-errors" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.62' and @extension='2018-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.62-2018-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.62-2018-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.62-2018-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-3357-9778-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.5.62' and @extension = '2018-04-01') and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.4.26' and not(@root = '2.16.840.1.113883.10.20.5.6.249' and @extension = '2018-04-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.5.62:2018-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.62-2018-04-01-errors-CL" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.62' and @extension='2018-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.62-2018-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.250-2018-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.250-2018-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-errors-abstract" />
      <sch:assert id="a-3357-30614" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1">SHALL contain exactly one [1..1] templateId (CONF:3357-30614) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:3357-30623).</sch:assert>
      <sch:assert id="a-3357-30615" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:3357-30615).</sch:assert>
      <sch:assert id="a-3357-30616" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:3357-30616).</sch:assert>
      <sch:assert id="a-3357-30617" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:3357-30617).</sch:assert>
      <sch:assert id="a-3357-30618" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:3357-30618).</sch:assert>
      <sch:assert id="a-3357-30619" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.250'][@extension='2018-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:3357-30619) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.250" (CONF:3357-30630). SHALL contain exactly one [1..1] @extension="2018-04-01" (CONF:3357-30631).</sch:assert>
      <sch:assert id="a-3357-30620" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:3357-30620).</sch:assert>
      <sch:assert id="a-3357-30621" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:3357-30621).</sch:assert>
      <sch:assert id="a-3357-30622" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:3357-30622).</sch:assert>
      <sch:assert id="a-3357-30624" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:3357-30624).</sch:assert>
      <sch:assert id="a-3357-30625" test="cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:3357-30625).</sch:assert>
      <sch:assert id="a-3357-30626" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:3357-30626).</sch:assert>
      <sch:assert id="a-3357-30627" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:3357-30627).</sch:assert>
      <sch:assert id="a-3357-30628" test="cda:value[@xsi:type='CD'][count(self::node()[@code='3055-1'])=1]">This value SHALL contain exactly one [1..1] @code="3055-1" Known or suspected Munchausen Syndrome by Proxy during current admission  (CONF:3357-30628).</sch:assert>
      <sch:assert id="a-3357-30629" test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']">This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:3357-30629).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.250-2018-04-01-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.250' and @extension='2018-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.250-2018-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.250-2018-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.250-2018-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-3357-9793-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.250' and @extension = '2018-04-01') and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.22.4.4'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.250:2018-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.250-2018-04-01-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.250' and @extension='2018-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.250-2018-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.251-2018-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.251-2018-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-errors-abstract" />
      <sch:assert id="a-3357-30632" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1">SHALL contain exactly one [1..1] templateId (CONF:3357-30632) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:3357-30638).</sch:assert>
      <sch:assert id="a-3357-30633" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:3357-30633).</sch:assert>
      <sch:assert id="a-3357-30634" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:3357-30634).</sch:assert>
      <sch:assert id="a-3357-30635" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:3357-30635).</sch:assert>
      <sch:assert id="a-3357-30636" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:3357-30636).</sch:assert>
      <sch:assert id="a-3357-30637" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.251'][@extension='2018-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:3357-30637) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.251" (CONF:3357-30645). SHALL contain exactly one [1..1] @extension="2018-04-01" (CONF:3357-30646).</sch:assert>
      <sch:assert id="a-3357-30639" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:3357-30639).</sch:assert>
      <sch:assert id="a-3357-30640" test="cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:3357-30640).</sch:assert>
      <sch:assert id="a-3357-30641" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:3357-30641).</sch:assert>
      <sch:assert id="a-3357-30642" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:3357-30642).</sch:assert>
      <sch:assert id="a-3357-30643" test="cda:value[@xsi:type='CD'][count(self::node()[@code='3056-9'])=1]">This value SHALL contain exactly one [1..1] @code="3056-9" Observed or suspected patient injection into vascular line(s) within the BSI infection window (CONF:3357-30643).</sch:assert>
      <sch:assert id="a-3357-30644" test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']">This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:3357-30644).</sch:assert>
      <sch:assert id="a-3357-30647" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:3357-30647).</sch:assert>
      <sch:assert id="a-3357-30648" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:3357-30648).</sch:assert>
      <sch:assert id="a-3357-30649" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:3357-30649).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.251-2018-04-01-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.251' and @extension='2018-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.251-2018-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.251-2018-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.251-2018-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-3357-9794-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.251' and @extension = '2018-04-01') and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.22.4.4'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.251:2018-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.251-2018-04-01-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.251' and @extension='2018-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.251-2018-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.252-2018-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.252-2018-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-errors-abstract" />
      <sch:assert id="a-3357-30650" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1">SHALL contain exactly one [1..1] templateId (CONF:3357-30650) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:3357-30656).</sch:assert>
      <sch:assert id="a-3357-30651" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:3357-30651).</sch:assert>
      <sch:assert id="a-3357-30652" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:3357-30652).</sch:assert>
      <sch:assert id="a-3357-30653" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:3357-30653).</sch:assert>
      <sch:assert id="a-3357-30654" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:3357-30654).</sch:assert>
      <sch:assert id="a-3357-30655" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.252'][@extension='2018-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:3357-30655) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.252" (CONF:3357-30663). SHALL contain exactly one [1..1] @extension="2018-04-01" (CONF:3357-30664).</sch:assert>
      <sch:assert id="a-3357-30657" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:3357-30657).</sch:assert>
      <sch:assert id="a-3357-30658" test="cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:3357-30658).</sch:assert>
      <sch:assert id="a-3357-30659" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:3357-30659).</sch:assert>
      <sch:assert id="a-3357-30660" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:3357-30660).</sch:assert>
      <sch:assert id="a-3357-30661" test="cda:value[@xsi:type='CD'][count(self::node()[@code='3057-7'])=1]">This value SHALL contain exactly one [1..1] @code="3057-7" Epidermolysis bullosa during current admission  (CONF:3357-30661).</sch:assert>
      <sch:assert id="a-3357-30662" test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']">This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:3357-30662).</sch:assert>
      <sch:assert id="a-3357-30665" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:3357-30665).</sch:assert>
      <sch:assert id="a-3357-30666" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:3357-30666).</sch:assert>
      <sch:assert id="a-3357-30667" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:3357-30667).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.252-2018-04-01-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.252' and @extension='2018-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.252-2018-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.252-2018-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.252-2018-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-3357-9795-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.252' and @extension = '2018-04-01') and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.22.4.4'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.252:2018-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.252-2018-04-01-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.252' and @extension='2018-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.252-2018-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.33-2018-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.33-2018-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors-abstract" />
      <sch:assert id="a-3357-23203-c" test="count(cda:entry/cda:observation/cda:templateId[@root='2.16.840.1.113883.10.20.5.6.138'])&gt;=1 and count(cda:entry/cda:observation/cda:templateId[@root='2.16.840.1.113883.10.20.5.6.138'])&lt;=2">SHALL contain at least one and not more than 2 entry (CONF:3357-23203) such that it SHALL contain exactly one [1..1] Infection Risk Factors Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.138) (CONF:3357-23204).</sch:assert>
      <sch:assert id="a-3357-22266" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.33'][@extension='2018-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:3357-22266) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.33" (CONF:3357-22267). SHALL contain exactly one [1..1] @extension="2018-04-01" (CONF:3357-28433).</sch:assert>
      <sch:assert id="a-3357-22268" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:3357-22268).</sch:assert>
      <sch:assert id="a-3357-28361" test="count(cda:entry[count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.245' and @extension='2017-04-01']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:3357-28361) such that it SHALL contain exactly one [1..1] Hemodialysis Catheter Present (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.245:2017-04-01) (CONF:3357-28464).</sch:assert>
      <sch:assert id="a-3357-28362" test="count(cda:entry[count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.247' and @extension='2017-04-01']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:3357-28362) such that it SHALL contain exactly one [1..1] Ventricular Assist Device (VAD) Present (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.247:2017-04-01) (CONF:3357-28465).</sch:assert>
      <sch:assert id="a-3357-28363" test="count(cda:entry[count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.246' and @extension='2017-04-01']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:3357-28363) such that it SHALL contain exactly one [1..1] Extracorporeal Life Support Present (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.246:2017-04-01) (CONF:3357-28466).</sch:assert>
      <sch:assert id="a-3357-23205-c" test="not(/cda:ClinicalDocument/cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:code[document('hai_voc.xml')/voc:systems/voc:system/voc:code[@ICU-or-Other='X']/@value=@code]) or (count(cda:entry/cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.138'][cda:value/@code='1002-5' or cda:value/@code='1003-3' or cda:value/@code='1005-8'])=1)">If the location type represents an ICU/Other location (ICU or any other location except for SCA or NICU), this entry element SHALL be present containing an Infection Risk Factors Observation representing whether a central line was present (CONF:3357-23205).</sch:assert>
      <sch:assert id="a-3357-23206-c" test="not(/cda:ClinicalDocument/cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:code[document('hai_voc.xml')/voc:systems/voc:system/voc:code[@SCA='X']/@value=@code]) or (count(cda:entry/cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.138'][cda:value/@code='1003-3'])=1 and count(cda:entry/cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.138'][cda:value/@code='1005-8'])=1)">If  the location type represents an SCA location, an entry element SHALL be present containing an Infection Risk Factors Observation representing whether a permanent central line was present, and an entry element containing an Infection Risk Factors Observation representing whether a Temporary Central Line was present (CONF:3357-23206).</sch:assert>
      <sch:assert id="a-3357-23207-c" test="not(/cda:ClinicalDocument/cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:code[document('hai_voc.xml')/voc:systems/voc:system/voc:code[@NICU='X']/@value=@code]) or (count(cda:entry/cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.138'][cda:value/@code='1002-5' or cda:value/@code='1003-3' or cda:value/@code='1005-8'])=1)">If the location type represents an NICU location, an entry element SHALL be present containing an Infection Risk Factors Observation representing whether a central line was present (CONF:3357-23207).</sch:assert>
      <sch:assert id="a-3357-22269" test="cda:code[@code='51898-5']">This code SHALL contain exactly one [1..1] @code="51898-5" Risk Factors Section (CONF:3357-22269).</sch:assert>
      <sch:assert id="a-3357-28360" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:3357-28360).</sch:assert>
      <sch:assert id="a-3357-23210-c" test="not(/cda:ClinicalDocument/cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:code[document('hai_voc.xml')/voc:systems/voc:system/voc:code[@NICU='X']/@value=@code]) or (count(cda:entry/cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.137'][cda:code/@code='364589006'])=1)">If the location type represents an NICU location, an entry element SHALL be present containing an Infection Risk Factors Measurement Observation representing the birth weight (CONF:3357-23210).</sch:assert>
      <sch:assert id="a-3357-30668" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.250' and @extension='2018-04-01']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:3357-30668) such that it SHALL contain exactly one [1..1] Known or Suspected Munchhausen's By Proxy Observation (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.250:2018-04-01) (CONF:3357-30669).</sch:assert>
      <sch:assert id="a-3357-30670" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.252' and @extension='2018-04-01']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:3357-30670) such that it SHALL contain exactly one [1..1] Epidermolysis Bullosa Observation (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.252:2018-04-01) (CONF:3357-30671).</sch:assert>
      <sch:assert id="a-3357-30672" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.251' and @extension='2018-04-01']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:3357-30672) such that it SHALL contain exactly one [1..1] Observed or Suspected Patient Injection into Vascular Line Observation (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.251:2018-04-01) (CONF:3357-30673).</sch:assert>
      <sch:assert id="a-3357-30693" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.253' and @extension='2018-04-01']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:3357-30693) such that it SHALL contain exactly one [1..1] Pus Present in Specimen Site and Matching Organism in Blood and Specimen Observation (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.253:2018-04-01) (CONF:3357-30694).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.33-2018-04-01-errors" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.33' and @extension='2018-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.33-2018-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.33-2018-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.33-2018-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-3357-9796-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.5.33' and @extension = '2018-04-01') and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.6.138' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.5.6.122' and @root != '2.16.840.1.113883.10.20.22.4.14' and @root != '2.16.840.1.113883.10.20.5.6.137' and @root != '2.16.840.1.113883.10.20.22.4.27' and not(@root = '2.16.840.1.113883.10.20.5.6.245' and @extension = '2017-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.247' and @extension = '2017-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.246' and @extension = '2017-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.250' and @extension = '2018-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.252' and @extension = '2018-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.251' and @extension = '2018-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.253' and @extension = '2018-04-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.5.33:2018-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.33-2018-04-01-errors-CL" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.33' and @extension='2018-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.33-2018-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.253-2018-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.253-2018-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-errors-abstract" />
      <sch:assert id="a-3357-30674" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1">SHALL contain exactly one [1..1] templateId (CONF:3357-30674) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:3357-30680).</sch:assert>
      <sch:assert id="a-3357-30675" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:3357-30675).</sch:assert>
      <sch:assert id="a-3357-30676" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:3357-30676).</sch:assert>
      <sch:assert id="a-3357-30677" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:3357-30677).</sch:assert>
      <sch:assert id="a-3357-30678" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:3357-30678).</sch:assert>
      <sch:assert id="a-3357-30679" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.253'][@extension='2018-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:3357-30679) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.253" (CONF:3357-30687). SHALL contain exactly one [1..1] @extension="2018-04-01" (CONF:3357-30688).</sch:assert>
      <sch:assert id="a-3357-30681" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:3357-30681).</sch:assert>
      <sch:assert id="a-3357-30682" test="cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:3357-30682).</sch:assert>
      <sch:assert id="a-3357-30683" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:3357-30683).</sch:assert>
      <sch:assert id="a-3357-30684" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:3357-30684).</sch:assert>
      <sch:assert id="a-3357-30685" test="cda:value[@xsi:type='CD'][count(self::node()[@code='3059-3'])=1]">This value SHALL contain exactly one [1..1] @code="3059-3" Pus present at vascular specimen collection site and matching organism identified in blood and from site specific specimen(s) (CONF:3357-30685).</sch:assert>
      <sch:assert id="a-3357-30686" test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']">This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:3357-30686).</sch:assert>
      <sch:assert id="a-3357-30689" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:3357-30689).</sch:assert>
      <sch:assert id="a-3357-30690" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:3357-30690).</sch:assert>
      <sch:assert id="a-3357-30691" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:3357-30691).</sch:assert>
      <sch:assert id="a-3357-30696" test="not(cda:participant) or cda:participant[count(cda:participantRole)=1]">The participant, if present, SHALL contain exactly one [1..1] participantRole (CONF:3357-30696).</sch:assert>
      <sch:assert id="a-3357-30697" test="not(cda:participant/cda:participantRole) or cda:participant/cda:participantRole[count(cda:playingDevice)=1]">This participantRole SHALL contain exactly one [1..1] playingDevice (CONF:3357-30697).</sch:assert>
      <sch:assert id="a-3357-30698" test="not(cda:participant) or cda:participant[@typeCode='DEV']">The participant, if present, SHALL contain exactly one [1..1] @typeCode="DEV" Device (CONF:3357-30698).</sch:assert>
      <sch:assert id="a-3357-30700" test="not(cda:participant/cda:participantRole/cda:playingDevice) or cda:participant/cda:participantRole/cda:playingDevice[count(cda:code)=1]">This playingDevice SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNVascularSpecimenCollectionSite urn:oid:2.16.840.1.113883.10.20.5.9.24 DYNAMIC (CONF:3357-30700).</sch:assert>
      <sch:assert id="a-3357-30871" test="not(cda:participant/cda:participantRole) or cda:participant/cda:participantRole[@classCode='MANU']">This participantRole SHALL contain exactly one [1..1] @classCode="MANU" Manufactured device (CONF:3357-30871).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.253-2018-04-01-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.253' and @extension='2018-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.253-2018-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.253-2018-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.253-2018-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-3357-9800-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.253' and @extension = '2018-04-01') and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.22.4.4'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.253:2018-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.253-2018-04-01-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.253' and @extension='2018-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.253-2018-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.64-2018-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.64-2018-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors-abstract" />
      <sch:assert id="a-3357-30742" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.64'][@extension='2018-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:3357-30742) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.64" (CONF:3357-30743). SHALL contain exactly one [1..1] @extension="2018-04-01" (CONF:3357-30744).</sch:assert>
      <sch:assert id="a-3357-30784" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:3357-30784).</sch:assert>
      <sch:assert id="a-3357-30785" test="cda:code[@code='51899-3']">This code SHALL contain exactly one [1..1] @code="51899-3" Details Section (CONF:3357-30785).</sch:assert>
      <sch:assert id="a-3357-30786" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:3357-30786).</sch:assert>
      <sch:assert id="a-3357-30787" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.120']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:3357-30787) such that it SHALL contain exactly one [1..1] Death Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.120) (CONF:3357-30788).</sch:assert>
      <sch:assert id="a-3357-30816" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.139']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:3357-30816) such that it SHALL contain exactly one [1..1] Infection-Type Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.139) (CONF:3357-30817).</sch:assert>
      <sch:assert id="a-3357-30818" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.257' and @extension='2018-04-01']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:3357-30818) such that it SHALL contain exactly one [1..1] Inborn/Outborn Observation (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.257:2018-04-01) (CONF:3357-30819).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.64-2018-04-01-errors" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.64' and @extension='2018-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.64-2018-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.257-2018-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.257-2018-04-01-errors-abstract" abstract="true">
      <sch:assert id="a-3357-30831" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:3357-30831).</sch:assert>
      <sch:assert id="a-3357-30832" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:3357-30832).</sch:assert>
      <sch:assert id="a-3357-30834" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:3357-30834).</sch:assert>
      <sch:assert id="a-3357-30835" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:3357-30835).</sch:assert>
      <sch:assert id="a-3357-30836" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:3357-30836).</sch:assert>
      <sch:assert id="a-3357-30837" test="count(cda:templateId)=1">SHALL contain exactly one [1..1] templateId (CONF:3357-30837).</sch:assert>
      <sch:assert id="a-3357-30838" test="cda:templateId[@root='2.16.840.1.113883.10.20.5.6.257']">This templateId SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.257" (CONF:3357-30838).</sch:assert>
      <sch:assert id="a-3357-30839" test="cda:templateId[@extension='2018-04-01']">This templateId SHALL contain exactly one [1..1] @extension="2018-04-01" (CONF:3357-30839).</sch:assert>
      <sch:assert id="a-3357-30840" test="cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:3357-30840).</sch:assert>
      <sch:assert id="a-3357-30841" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:3357-30841).</sch:assert>
      <sch:assert id="a-3357-30872" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:3357-30872).</sch:assert>
      <sch:assert id="a-3357-30902" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:3357-30902).</sch:assert>
      <sch:assert id="a-3357-30903" test="cda:value[@xsi:type='CD'][@code='445087001']">This value SHALL contain exactly one [1..1] @code="445087001" Born before arrival to hospital (situation) (CONF:3357-30903).</sch:assert>
      <sch:assert id="a-3357-30904" test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.96']">This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.96" (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96) (CONF:3357-30904).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.257-2018-04-01-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.257' and @extension='2018-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.257-2018-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.40-2018-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.40-2018-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.28-errors-abstract" />
      <sch:assert id="a-3357-28321" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.3.3'])=1">SHALL contain exactly one [1..1] templateId (CONF:3357-28321) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.7.3.3" (CONF:3357-28322).</sch:assert>
      <sch:assert id="a-3357-22795" test="count(cda:component)=1">SHALL contain exactly one [1..1] component (CONF:3357-22795).</sch:assert>
      <sch:assert id="a-3357-22796" test="cda:component[count(cda:structuredBody)=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:3357-22796).</sch:assert>
      <sch:assert id="a-3357-22797" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.47']])=1])=1]">This structuredBody SHALL contain exactly one [1..1] component (CONF:3357-22797) such that it SHALL contain exactly one [1..1] Summary Data Section (identifier: urn:oid:2.16.840.1.113883.10.20.5.5.47) (CONF:3357-22798).</sch:assert>
      <sch:assert id="a-3357-22800" test="count(cda:documentationOf)=1">SHALL contain exactly one [1..1] documentationOf (CONF:3357-22800).</sch:assert>
      <sch:assert id="a-3357-22801" test="cda:documentationOf[count(cda:serviceEvent)=1]">This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:3357-22801).</sch:assert>
      <sch:assert id="a-3357-22802" test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]">This serviceEvent SHALL contain exactly one [1..1] code (CONF:3357-22802).</sch:assert>
      <sch:assert id="a-3357-22793" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.40'][@extension='2018-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:3357-22793) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.40" (CONF:3357-22794). SHALL contain exactly one [1..1] @extension="2018-04-01" (CONF:3357-30596).</sch:assert>
      <sch:assert id="a-3357-22803" test="cda:documentationOf/cda:serviceEvent/cda:code[@code='1879-6']">This code SHALL contain exactly one [1..1] @code="1879-6" Summary data reporting catheter and ventilator use in an ICU (CONF:3357-22803).</sch:assert>
      <sch:assert id="a-3357-22804" test="cda:documentationOf/cda:serviceEvent/cda:code[@codeSystem='2.16.840.1.113883.6.277']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:3357-22804).</sch:assert>
      <sch:assert id="a-3357-30866" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:3357-30866).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.40-2018-04-01-errors" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.40' and @extension='2018-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.40-2018-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.40-2018-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.40-2018-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-3357-9841-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.40' and @extension = '2018-04-01') and @root != '2.16.840.1.113883.10.20.5.4.28' and @root != '2.16.840.1.113883.10.20.5.4.28' and @root != '2.16.840.1.113883.10.20.5.5.47' and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.6.184' and @root != '2.16.840.1.113883.10.20.5.6.185' and not(@root = '2.16.840.1.113883.10.20.5.5.62' and @extension = '2018-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.249' and @extension = '2018-04-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.40:2018-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.40-2018-04-01-errors-CL" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.40' and @extension='2018-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.40-2018-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.42-2018-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.42-2018-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.28-errors-abstract" />
      <sch:assert id="a-3357-28327" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.3.3'])=1">SHALL contain exactly one [1..1] templateId (CONF:3357-28327) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.7.3.3" (CONF:3357-28328).</sch:assert>
      <sch:assert id="a-3357-22846" test="count(cda:documentationOf)=1">SHALL contain exactly one [1..1] documentationOf (CONF:3357-22846).</sch:assert>
      <sch:assert id="a-3357-22847" test="cda:documentationOf[count(cda:serviceEvent)=1]">This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:3357-22847).</sch:assert>
      <sch:assert id="a-3357-22848" test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]">This serviceEvent SHALL contain exactly one [1..1] code (CONF:3357-22848).</sch:assert>
      <sch:assert id="a-3357-22851" test="count(cda:component)=1">SHALL contain exactly one [1..1] component (CONF:3357-22851).</sch:assert>
      <sch:assert id="a-3357-22852" test="cda:component[count(cda:structuredBody)=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:3357-22852).</sch:assert>
      <sch:assert id="a-3357-22853" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.47']])=1])=1]">This structuredBody SHALL contain exactly one [1..1] component (CONF:3357-22853) such that it SHALL contain exactly one [1..1] Summary Data Section (identifier: urn:oid:2.16.840.1.113883.10.20.5.5.47) (CONF:3357-22854).</sch:assert>
      <sch:assert id="a-3357-22843" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.42'][@extension='2018-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:3357-22843) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.42" (CONF:3357-22844). SHALL contain exactly one [1..1] @extension="2018-04-01" (CONF:3357-30594).</sch:assert>
      <sch:assert id="a-3357-22849" test="cda:documentationOf/cda:serviceEvent/cda:code[@code='1880-4']">This code SHALL contain exactly one [1..1] @code="1880-4" Summary data reporting catheter and ventilator use in a SCA (CONF:3357-22849).</sch:assert>
      <sch:assert id="a-3357-22850" test="cda:documentationOf/cda:serviceEvent/cda:code[@codeSystem='2.16.840.1.113883.6.277']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:3357-22850).</sch:assert>
      <sch:assert id="a-3357-30869" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:3357-30869).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.42-2018-04-01-errors" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.42' and @extension='2018-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.42-2018-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.42-2018-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.42-2018-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-3357-9842-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.42' and @extension = '2018-04-01') and @root != '2.16.840.1.113883.10.20.5.4.28' and @root != '2.16.840.1.113883.10.20.5.4.28' and @root != '2.16.840.1.113883.10.20.5.5.47' and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.6.184' and @root != '2.16.840.1.113883.10.20.5.6.185' and not(@root = '2.16.840.1.113883.10.20.5.5.62' and @extension = '2018-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.249' and @extension = '2018-04-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.42:2018-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.42-2018-04-01-errors-CL" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.42' and @extension='2018-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.42-2018-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.45-2018-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.45-2018-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.28-errors-abstract" />
      <sch:assert id="a-3357-28329" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.3.3'])=1">SHALL contain exactly one [1..1] templateId (CONF:3357-28329) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.7.3.3" (CONF:3357-28330).</sch:assert>
      <sch:assert id="a-3357-22924" test="count(cda:documentationOf)=1">SHALL contain exactly one [1..1] documentationOf (CONF:3357-22924).</sch:assert>
      <sch:assert id="a-3357-22925" test="cda:documentationOf[count(cda:serviceEvent)=1]">This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:3357-22925).</sch:assert>
      <sch:assert id="a-3357-22926" test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]">This serviceEvent SHALL contain exactly one [1..1] code (CONF:3357-22926).</sch:assert>
      <sch:assert id="a-3357-22929" test="count(cda:component)=1">SHALL contain exactly one [1..1] component (CONF:3357-22929).</sch:assert>
      <sch:assert id="a-3357-22930" test="cda:component[count(cda:structuredBody)=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:3357-22930).</sch:assert>
      <sch:assert id="a-3357-22931" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.50']])=1])=1]">This structuredBody SHALL contain exactly one [1..1] component (CONF:3357-22931) such that it SHALL contain exactly one [1..1] Summary Data Section (VAT) (identifier: urn:oid:2.16.840.1.113883.10.20.5.5.50) (CONF:3357-22932).</sch:assert>
      <sch:assert id="a-3357-22921" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.45'][@extension='2018-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:3357-22921) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.45" (CONF:3357-22922). SHALL contain exactly one [1..1] @extension="2018-04-01" (CONF:3357-30860).</sch:assert>
      <sch:assert id="a-3357-22927" test="cda:documentationOf/cda:serviceEvent/cda:code[@code='2316-8']">This code SHALL contain exactly one [1..1] @code="2316-8" Summary dialysis data reporting vascular access types in maintenance (chronic) hemodialysis patients (CONF:3357-22927).</sch:assert>
      <sch:assert id="a-3357-22928" test="cda:documentationOf/cda:serviceEvent/cda:code[@codeSystem='2.16.840.1.113883.6.277']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:3357-22928).</sch:assert>
      <sch:assert id="a-3357-30870" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:3357-30870).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.45-2018-04-01-errors" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.45' and @extension='2018-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.45-2018-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.45-2018-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.45-2018-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-3357-9844-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.45' and @extension = '2018-04-01') and @root != '2.16.840.1.113883.10.20.5.4.28' and @root != '2.16.840.1.113883.10.20.5.4.28' and @root != '2.16.840.1.113883.10.20.5.5.50' and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.6.196' and @root != '2.16.840.1.113883.10.20.5.6.195' and @root != '2.16.840.1.113883.10.20.5.6.185' and not(@root = '2.16.840.1.113883.10.20.5.5.62' and @extension = '2018-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.249' and @extension = '2018-04-01') and not(@root = '2.16.840.1.113883.10.20.5.5.61' and @extension = '2017-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.243' and @extension = '2017-04-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.45:2018-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.45-2018-04-01-errors-CL" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.45' and @extension='2018-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.45-2018-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.55-2019-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.55-2019-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.28-errors-abstract" />
      <sch:assert id="a-4395-55" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.3.4'])=1">SHALL contain exactly one [1..1] templateId (CONF:4395-55) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.7.3.4" (CONF:4395-64).</sch:assert>
      <sch:assert id="a-4395-59" test="count(cda:component)=1">SHALL contain exactly one [1..1] component (CONF:4395-59).</sch:assert>
      <sch:assert id="a-4395-60" test="cda:component[count(cda:structuredBody)=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:4395-60).</sch:assert>
      <sch:assert id="a-4395-61" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.47']])=1])=1]">This structuredBody SHALL contain exactly one [1..1] component (CONF:4395-61) such that it SHALL contain exactly one [1..1] Summary Data Section (identifier: urn:oid:2.16.840.1.113883.10.20.5.5.47) (CONF:4395-62).</sch:assert>
      <sch:assert id="a-4395-63" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.55'][@extension='2019-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4395-63) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.55" (CONF:4395-68). SHALL contain exactly one [1..1] @extension="2019-04-01" (CONF:4395-69).</sch:assert>
      <sch:assert id="a-4395-67" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:4395-67).</sch:assert>
      <sch:assert id="a-4395-30898" test="count(cda:documentationOf)=1">SHALL contain exactly one [1..1] documentationOf (CONF:4395-30898).</sch:assert>
      <sch:assert id="a-4395-30899" test="cda:documentationOf[count(cda:serviceEvent)=1]">This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:4395-30899).</sch:assert>
      <sch:assert id="a-4395-30900" test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]">This serviceEvent SHALL contain exactly one [1..1] code (CONF:4395-30900).</sch:assert>
      <sch:assert id="a-4395-30901" test="cda:documentationOf/cda:serviceEvent/cda:code[@code='1657-6']">This code SHALL contain exactly one [1..1] @code="1657-6" Summary data reporting outpatient procedure component events at a facility (CONF:4395-30901).</sch:assert>
      <sch:assert id="a-4395-30902" test="cda:documentationOf/cda:serviceEvent/cda:code[@codeSystem='2.16.840.1.113883.6.277']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:4395-30902).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.55-2019-04-01-errors" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.55' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.55-2019-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.55-2019-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.55-2019-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4395-11272-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.55' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.5.4.28' and @root != '2.16.840.1.113883.10.20.5.4.28' and @root != '2.16.840.1.113883.10.20.5.5.47' and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.6.184' and @root != '2.16.840.1.113883.10.20.5.6.185' and not(@root = '2.16.840.1.113883.10.20.5.5.62' and @extension = '2018-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.249' and @extension = '2018-04-01') and not(@root = '2.16.840.1.113883.10.20.5.5.61' and @extension = '2017-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.243' and @extension = '2017-04-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.55:2019-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.55-2019-04-01-errors-CL" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.55' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.55-2019-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.46-2019-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.46-2019-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.28-errors-abstract" />
      <sch:assert id="a-4395-28301" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.3.4'])=1">SHALL contain exactly one [1..1] templateId (CONF:4395-28301) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.7.3.4" (CONF:4395-28302).</sch:assert>
      <sch:assert id="a-4395-22972" test="count(cda:documentationOf)=1">SHALL contain exactly one [1..1] documentationOf (CONF:4395-22972).</sch:assert>
      <sch:assert id="a-4395-22973" test="cda:documentationOf[count(cda:serviceEvent)=1]">This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:4395-22973).</sch:assert>
      <sch:assert id="a-4395-22974" test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]">This serviceEvent SHALL contain exactly one [1..1] code (CONF:4395-22974).</sch:assert>
      <sch:assert id="a-4395-22977" test="count(cda:component)=1">SHALL contain exactly one [1..1] component (CONF:4395-22977).</sch:assert>
      <sch:assert id="a-4395-22978" test="cda:component[count(cda:structuredBody)=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:4395-22978).</sch:assert>
      <sch:assert id="a-4395-22979" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.52' and @extension='2019-04-01']])=1])=1]">This structuredBody SHALL contain exactly one [1..1] component (CONF:4395-22979) such that it SHALL contain exactly one [1..1] Summary Data Section (ARO) (V3) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.5.52:2019-04-01) (CONF:4395-22980).</sch:assert>
      <sch:assert id="a-4395-22969" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.46'][@extension='2019-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4395-22969) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.46" (CONF:4395-2970). SHALL contain exactly one [1..1] @extension="2019-04-01" (CONF:4395-30544).</sch:assert>
      <sch:assert id="a-4395-22975" test="cda:documentationOf/cda:serviceEvent/cda:code[@code='2410-9']">This code SHALL contain exactly one [1..1] @code="2410-9" Summary data reporting antimicrobial resistance patterns at a facility (CONF:4395-22975).</sch:assert>
      <sch:assert id="a-4395-22976" test="cda:documentationOf/cda:serviceEvent/cda:code[@codeSystem='2.16.840.1.113883.6.277']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:4395-22976).</sch:assert>
      <sch:assert id="a-4395-22971" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:4395-22971).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.46-2019-04-01-errors" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.46' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.46-2019-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.46-2019-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.46-2019-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4395-11388-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.46' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.5.4.28' and @root != '2.16.840.1.113883.10.20.5.4.28' and not(@root = '2.16.840.1.113883.10.20.5.5.52' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.5.4.26' and not(@root = '2.16.840.1.113883.10.20.5.6.199' and @extension = '2019-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.229' and @extension = '2015-04-01') and not(@root = '2.16.840.1.113883.10.20.5.5.62' and @extension = '2018-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.249' and @extension = '2018-04-01') and not(@root = '2.16.840.1.113883.10.20.5.5.61' and @extension = '2017-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.243' and @extension = '2017-04-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.46:2019-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.46-2019-04-01-errors-CL" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.46' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.46-2019-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.66-2019-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.66-2019-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors-abstract" />
      <sch:assert id="a-4395-30551" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.66'][@extension='2019-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4395-30551) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.66" (CONF:4395-30555). SHALL contain exactly one [1..1] @extension="2019-04-01" (CONF:4395-30558).</sch:assert>
      <sch:assert id="a-4395-30552" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:4395-30552).</sch:assert>
      <sch:assert id="a-4395-30556" test="cda:code[@code='51899-3']">This code SHALL contain exactly one [1..1] @code="51899-3" Event Details (CONF:4395-30556).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.66-2019-04-01-errors" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.66' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.66-2019-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.66-2019-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.66-2019-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4395-11401-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.5.66' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.4.26' and not(@root = '2.16.840.1.113883.10.20.5.6.212' and @extension = '2019-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.208' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.22.4.4'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.5.66:2019-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.66-2019-04-01-errors-CL" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.66' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.66-2019-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.212-2019-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.212-2019-04-01-errors-abstract" abstract="true">
      <sch:assert id="a-4395-21780" test="count(cda:component) &gt; 0">SHALL contain at least one [1..*] component (CONF:4395-21780).</sch:assert>
      <sch:assert id="a-4395-21783" test="cda:component[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.208' and @extension='2019-04-01']])=1]">Such components SHALL contain exactly one [1..1] Same Day Outcome Measure Observation (V3) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.208:2019-04-01) (CONF:4395-21783).</sch:assert>
      <sch:assert id="a-4395-21781" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.212'][@extension='2019-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4395-21781) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.212" (CONF:4395-21786). SHALL contain exactly one [1..1] @extension="2019-04-01" (CONF:4395-30560).</sch:assert>
      <sch:assert id="a-4395-21782" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:4395-21782).</sch:assert>
      <sch:assert id="a-4395-21787" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:4395-21787).</sch:assert>
      <sch:assert id="a-4395-21784" test="@classCode='CLUSTER'">SHALL contain exactly one [1..1] @classCode="CLUSTER" Cluster (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:4395-21784).</sch:assert>
      <sch:assert id="a-4395-21785" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:4395-21785).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.212-2019-04-01-errors" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.212' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.212-2019-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.212-2019-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.212-2019-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4395-11402-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.212' and @extension = '2019-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.208' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.22.4.4'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.212:2019-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.212-2019-04-01-errors-CL" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.212' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.212-2019-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.208-2019-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.208-2019-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-errors-abstract" />
      <sch:assert id="a-4395-21866" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1">SHALL contain exactly one [1..1] templateId (CONF:4395-21866) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:4395-21867).</sch:assert>
      <sch:assert id="a-4395-21659" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:4395-21659).</sch:assert>
      <sch:assert id="a-4395-21663" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:4395-21663).</sch:assert>
      <sch:assert id="a-4395-21665" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:4395-21665).</sch:assert>
      <sch:assert id="a-4395-21657" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.208'][@extension='2019-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4395-21657) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.208" (CONF:4395-21658). SHALL contain exactly one [1..1] @extension="2019-04-01" (CONF:4395-30559).</sch:assert>
      <sch:assert id="a-4395-21660" test="cda:code[@code='1655-0']">This code SHALL contain exactly one [1..1] @code="1655-0" Same day outcome measure (CONF:4395-21660).</sch:assert>
      <sch:assert id="a-4395-21664" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:4395-21664).</sch:assert>
      <sch:assert id="a-4395-21666" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:4395-21666).</sch:assert>
      <sch:assert id="a-4395-21655" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:4395-21655).</sch:assert>
      <sch:assert id="a-4395-21656" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:4395-21656).</sch:assert>
      <sch:assert id="a-4395-21662" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHALL be selected from ValueSet NHSNSameDayOutcomeMeasure urn:oid:2.16.840.1.114222.4.11.7214 DYNAMIC (CONF:4395-21662).</sch:assert>
      <sch:assert id="a-4395-21779" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:4395-21779).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.208-2019-04-01-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.208' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.208-2019-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.208-2019-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.208-2019-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4395-11403-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.208' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.22.4.4'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.208:2019-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.208-2019-04-01-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.208' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.208-2019-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.259-2019-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.259-2019-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.14-errors-abstract" />
      <sch:assert id="a-4395-30563" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.14'])=1">SHALL contain exactly one [1..1] templateId (CONF:4395-30563) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.14" (CONF:4395-30586).</sch:assert>
      <sch:assert id="a-4395-30564" test="count(cda:code)=1">SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNOPCProcedureCategoryCode urn:oid:2.16.840.1.113883.10.20.5.9.34 DYNAMIC (CONF:4395-30564).</sch:assert>
      <sch:assert id="a-4395-30565" test="cda:code[count(cda:translation)=1]">This code SHALL contain exactly one [1..1] translation, which SHALL be selected from CodeSystem CPT4 (urn:oid:2.16.840.1.113883.6.12) (CONF:4395-30565).</sch:assert>
      <sch:assert id="a-4395-30566" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:4395-30566).</sch:assert>
      <sch:assert id="a-4395-30571" test="not(cda:performer) or cda:performer[count(cda:assignedEntity)=1]">The performer, if present, SHALL contain exactly one [1..1] assignedEntity (CONF:4395-30571).</sch:assert>
      <sch:assert id="a-4395-30572" test="not(cda:performer/cda:assignedEntity) or cda:performer/cda:assignedEntity[count(cda:id) &gt; 0]">This assignedEntity SHALL contain at least one [1..*] id (CONF:4395-30572).</sch:assert>
      <sch:assert id="a-4395-30573" test="not(cda:performer/cda:assignedEntity/cda:id) or cda:performer/cda:assignedEntity/cda:id[@root]">Such ids SHALL contain exactly one [1..1] @root (CONF:4395-30573).</sch:assert>
      <sch:assert id="a-4395-30574" test="not(cda:performer/cda:assignedEntity/cda:id) or cda:performer/cda:assignedEntity/cda:id[@extension]">Such ids SHALL contain exactly one [1..1] @extension (CONF:4395-30574).</sch:assert>
      <sch:assert id="a-4395-30575" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.112']])=1])=1">SHALL contain exactly one [1..1] entryRelationship (CONF:4395-30575) such that it SHALL contain exactly one [1..1] Anesthesia Administration Clinical Statement (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.112) (CONF:4395-30576). SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:4395-30603).</sch:assert>
      <sch:assert id="a-4395-30583" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.259'][@extension='2019-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4395-30583) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.259" (CONF:4395-30609). SHALL contain exactly one [1..1] @extension="2019-04-01" (CONF:4395-30610).</sch:assert>
      <sch:assert id="a-4395-30584" test="@classCode='PROC'">SHALL contain exactly one [1..1] @classCode="PROC" Procedure (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:4395-30584).</sch:assert>
      <sch:assert id="a-4395-30585" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:4395-30585).</sch:assert>
      <sch:assert id="a-4395-30587" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:4395-30587).</sch:assert>
      <sch:assert id="a-4395-30589" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode, which SHALL be selected from ValueSet ProcedureAct statusCode urn:oid:2.16.840.1.113883.11.20.9.22 DYNAMIC (CONF:4395-30589).</sch:assert>
      <sch:assert id="a-4395-30590" test="cda:effectiveTime[count(cda:low)=1]">This effectiveTime SHALL contain exactly one [1..1] low (CONF:4395-30590).</sch:assert>
      <sch:assert id="a-4395-30591" test="cda:effectiveTime[count(cda:width)=1]">This effectiveTime SHALL contain exactly one [1..1] width (CONF:4395-30591).</sch:assert>
      <sch:assert id="a-4395-30600" test="not(cda:performer) or cda:performer[@typeCode='PRF']">The performer, if present, SHALL contain exactly one [1..1] @typeCode="PRF" (CONF:4395-30600).</sch:assert>
      <sch:assert id="a-4395-30601-c" test="not(tested-here)">This @root SHALL be the facility's identifier - this code is assigned by NHSN (CONF:4395-30601).</sch:assert>
      <sch:assert id="a-4395-30602-c" test="not(tested-here)">This @extension SHALL be the surgeon's identifier - this code is assigned by the facility (CONF:4395-30602).</sch:assert>
      <sch:assert id="a-4395-30950" test="cda:id[@root]">This id SHALL contain exactly one [1..1] @root (CONF:4395-30950).</sch:assert>
      <sch:assert id="a-4395-30951" test="cda:id[@extension]">This id SHALL contain exactly one [1..1] @extension (CONF:4395-30951).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.259-2019-04-01-errors" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.259' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.259-2019-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.259-2019-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.259-2019-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4395-11404-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.259' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.22.4.14' and @root != '2.16.840.1.113883.10.20.22.4.14' and @root != '2.16.840.1.113883.10.20.5.6.112' and @root != '2.16.840.1.113883.10.20.22.4.16'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.259:2019-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.259-2019-04-01-errors-CL" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.259' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.259-2019-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.67-2019-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.67-2019-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors-abstract" />
      <sch:assert id="a-4395-30611" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.67'][@extension='2019-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4395-30611) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.67" (CONF:4395-30615). SHALL contain exactly one [1..1] @extension="2019-04-01" (CONF:4395-30618).</sch:assert>
      <sch:assert id="a-4395-30612" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:4395-30612).</sch:assert>
      <sch:assert id="a-4395-30613" test="count(cda:entry)=1">SHALL contain exactly one [1..1] entry (CONF:4395-30613).</sch:assert>
      <sch:assert id="a-4395-30614" test="cda:entry[count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.259' and @extension='2019-04-01']])=1]">This entry SHALL contain exactly one [1..1] Procedure Details in an OPC Denominator for Procedure (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.259:2019-04-01) (CONF:4395-30614).</sch:assert>
      <sch:assert id="a-4395-30616" test="cda:code[@code='51899-3']">This code SHALL contain exactly one [1..1] @code="51899-3" Details Section (CONF:4395-30616).</sch:assert>
      <sch:assert id="a-4395-30617" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:4395-30617).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.67-2019-04-01-errors" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.67' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.67-2019-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.67-2019-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.67-2019-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4395-11405-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.5.67' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.4.26' and not(@root = '2.16.840.1.113883.10.20.5.6.259' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.22.4.14' and @root != '2.16.840.1.113883.10.20.5.6.112' and @root != '2.16.840.1.113883.10.20.22.4.16'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.5.67:2019-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.67-2019-04-01-errors-CL" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.67' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.67-2019-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.68-2019-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.68-2019-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors-abstract" />
      <sch:assert id="a-4395-30645" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.68'][@extension='2019-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4395-30645) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.68" (CONF:4395-30661). SHALL contain exactly one [1..1] @extension="2019-04-01" (CONF:4395-30664).</sch:assert>
      <sch:assert id="a-4395-30646" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:4395-30646).</sch:assert>
      <sch:assert id="a-4395-30647" test="count(cda:entry[count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.156']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:4395-30647) such that it SHALL contain exactly one [1..1] Procedure Risk Factors Clinical Statement in a Procedure Report (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.156) (CONF:4395-30648).</sch:assert>
      <sch:assert id="a-4395-30651" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.123']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:4395-30651) such that it SHALL contain exactly one [1..1] Diabetes Mellitus Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.123) (CONF:4395-30652).</sch:assert>
      <sch:assert id="a-4395-30653" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.131']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:4395-30653) such that it SHALL contain exactly one [1..1] Height Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.131) (CONF:4395-30654).</sch:assert>
      <sch:assert id="a-4395-30655" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.173']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:4395-30655) such that it SHALL contain exactly one [1..1] Weight Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.173) (CONF:4395-30656).</sch:assert>
      <sch:assert id="a-4395-30662" test="cda:code[@code='51898-5']">This code SHALL contain exactly one [1..1] @code="51898-5" Risk Factors Section (CONF:4395-30662).</sch:assert>
      <sch:assert id="a-4395-30663" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:4395-30663).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.68-2019-04-01-errors" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.68' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.68-2019-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.68-2019-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.68-2019-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4395-11407-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.5.68' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.6.156' and @root != '2.16.840.1.113883.10.20.5.6.174' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.5.6.128' and @root != '2.16.840.1.113883.10.20.22.4.14' and @root != '2.16.840.1.113883.10.20.5.6.123' and @root != '2.16.840.1.113883.10.20.5.6.131' and @root != '2.16.840.1.113883.10.20.22.4.27' and @root != '2.16.840.1.113883.10.20.5.6.173' and @root != '2.16.840.1.113883.10.20.5.6.113'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.5.68:2019-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.68-2019-04-01-errors-CL" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.68' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.68-2019-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.140-2019-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.140-2019-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.16-errors-abstract" />
      <sch:assert id="a-4395-21174" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:4395-21174).</sch:assert>
      <sch:assert id="a-4395-21176" test="count(cda:consumable)=1">SHALL contain exactly one [1..1] consumable (CONF:4395-21176).</sch:assert>
      <sch:assert id="a-4395-21177" test="cda:consumable[count(cda:manufacturedProduct)=1]">This consumable SHALL contain exactly one [1..1] manufacturedProduct (CONF:4395-21177).</sch:assert>
      <sch:assert id="a-4395-21178" test="cda:consumable/cda:manufacturedProduct[count(cda:manufacturedMaterial)=1]">This manufacturedProduct SHALL contain exactly one [1..1] manufacturedMaterial (CONF:4395-21178).</sch:assert>
      <sch:assert id="a-4395-21179" test="cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial[count(cda:code)=1]">This manufacturedMaterial SHALL contain exactly one [1..1] code (CONF:4395-21179).</sch:assert>
      <sch:assert id="a-4395-28338" test="cda:consumable/cda:manufacturedProduct[count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.23'])=1]">This manufacturedProduct SHALL contain exactly one [1..1] templateId (CONF:4395-28338) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.23" (CONF:4395-28339).</sch:assert>
      <sch:assert id="a-4395-28253" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.16'])=1">SHALL contain exactly one [1..1] templateId (CONF:4395-28253) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.16" (CONF:4395-28254).</sch:assert>
      <sch:assert id="a-4395-21428" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:4395-21428).</sch:assert>
      <sch:assert id="a-4395-21429" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:4395-21429).</sch:assert>
      <sch:assert id="a-4395-21496" test="count(cda:effectiveTime[@xsi:type='IVL_TS'])=1">SHALL contain exactly one [1..1] effectiveTime (CONF:4395-21496).</sch:assert>
      <sch:assert id="a-4395-21497" test="cda:effectiveTime[@xsi:type='IVL_TS'][count(cda:low)=1]">This effectiveTime SHALL contain exactly one [1..1] low (CONF:4395-21497).</sch:assert>
      <sch:assert id="a-4395-21498" test="cda:effectiveTime[@xsi:type='IVL_TS'][count(cda:high)=1]">This effectiveTime SHALL contain exactly one [1..1] high (CONF:4395-21498).</sch:assert>
      <sch:assert id="a-4395-21426" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.140'][@extension='2019-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4395-21426) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.140" (CONF:4395-21427). SHALL contain exactly one [1..1] @extension="2019-04-01" (CONF:4395-30671).</sch:assert>
      <sch:assert id="a-4395-21175" test="cda:code[@code='281790008']">This code SHALL contain exactly one [1..1] @code="281790008" Intravenous antibiotic therapy (CONF:4395-21175).</sch:assert>
      <sch:assert id="a-4395-28187" test="cda:code[@codeSystem='2.16.840.1.113883.6.96']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.96" (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96) (CONF:4395-28187).</sch:assert>
      <sch:assert id="a-4395-21180-c" test="not(/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37']) or (/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37'] and cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial/cda:code[(@code='11124' and @codeSystem='2.16.840.1.113883.6.88')  or @nullFlavor='NI'])">In an Evidence of Infection (Dialysis) Report, if the antimicrobial started was Vancomycin, the value of @code SHALL be  '11124' Vancomycin [[]CodeSystem: 2.16.840.1.113883.6.88 RxNorm]. Otherwise, the value of @nullFlavor SHALL be 'NI' (CONF:4395-21180).</sch:assert>
      <sch:assert id="a-4395-28348" test="cda:consumable/cda:manufacturedProduct[@classCode='MANU']">This manufacturedProduct SHALL contain exactly one [1..1] @classCode="MANU" (CodeSystem: HL7RoleClass urn:oid:2.16.840.1.113883.5.110) (CONF:4395-28348).</sch:assert>
      <sch:assert id="a-4395-22766" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:4395-22766).</sch:assert>
      <sch:assert id="a-4395-28109" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:4395-28109).</sch:assert>
      <sch:assert id="a-4395-22768" test="cda:effectiveTime[@xsi:type='IVL_TS']/cda:high[@nullFlavor='NA']">This high SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:4395-22768).</sch:assert>
      <sch:assert id="a-4395-21171" test="@classCode='SBADM'">SHALL contain exactly one [1..1] @classCode="SBADM" Substance Administration (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:4395-21171).</sch:assert>
      <sch:assert id="a-4395-21172" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:4395-21172).</sch:assert>
      <sch:assert id="a-4395-21173" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:4395-21173).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.140-2019-04-01-errors" context="cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.140' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.140-2019-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.140-2019-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.140-2019-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4395-11453-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.140' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.22.4.16' and @root != '2.16.840.1.113883.10.20.22.4.16' and not(@root = '2.16.840.1.113883.10.20.5.6.230' and @extension = '2015-10-01') and not(@root = '2.16.840.1.113883.10.20.5.6.239' and @extension = '2016-08-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.140:2019-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.140-2019-04-01-errors-CL" context="cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.140' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.140-2019-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.181-2019-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.181-2019-04-01-errors-abstract" abstract="true">
      <sch:assert id="a-4395-22231" test="count(cda:component[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.157' and @extension='2019-04-01']])=1])=1">SHALL contain exactly one [1..1] component (CONF:4395-22231) such that it SHALL contain exactly one [1..1] Pus, Redness, or Increased Swelling Observation (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.157:2019-04-01) (CONF:4395-22232).</sch:assert>
      <sch:assert id="a-4395-22224" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.181'][@extension='2019-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4395-22224) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.181" (CONF:4395-22225). SHALL contain exactly one [1..1] @extension="2019-04-01" (CONF:4395-30287).</sch:assert>
      <sch:assert id="a-4395-22226" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:4395-22226).</sch:assert>
      <sch:assert id="a-4395-22227" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:4395-22227).</sch:assert>
      <sch:assert id="a-4395-22229" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:4395-22229).</sch:assert>
      <sch:assert id="a-4395-22233" test="count(cda:component[count(cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.140' and @extension='2019-04-01']])=1])=1">SHALL contain exactly one [1..1] component (CONF:4395-22233) such that it SHALL contain exactly one [1..1] IV Antibiotic Start Clinical Statement (V4) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.140:2019-04-01) (CONF:4395-22234).</sch:assert>
      <sch:assert id="a-4395-22235" test="count(cda:component[count(cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.141']])=1])=1">SHALL contain exactly one [1..1] component (CONF:4395-22235) such that it SHALL contain exactly one [1..1] IV Antifungal Start Clinical Statement (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.141) (CONF:4395-22236).</sch:assert>
      <sch:assert id="a-4395-22237" test="count(cda:component[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.149' and @extension='2019-04-01']])=1])=1">SHALL contain exactly one [1..1] component (CONF:4395-22237) such that it SHALL contain exactly one [1..1] Positive Blood Culture Observation (V3) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.149:2019-04-01) (CONF:4395-30429).</sch:assert>
      <sch:assert id="a-4395-22771" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:4395-22771).</sch:assert>
      <sch:assert id="a-4395-22228" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:4395-22228).</sch:assert>
      <sch:assert id="a-4395-22230" test="cda:effectiveTime[count(cda:low)=1]">This effectiveTime SHALL contain exactly one [1..1] low (CONF:4395-22230).</sch:assert>
      <sch:assert id="a-4395-22222" test="@classCode='CLUSTER'">SHALL contain exactly one [1..1] @classCode="CLUSTER" Cluster (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:4395-22222).</sch:assert>
      <sch:assert id="a-4395-22223" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:4395-22223).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.181-2019-04-01-errors" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.181' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.181-2019-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.181-2019-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.181-2019-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4395-11454-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.181' and @extension = '2019-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.157' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.22.4.4' and not(@root = '2.16.840.1.113883.10.20.5.6.140' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.22.4.16' and not(@root = '2.16.840.1.113883.10.20.5.6.230' and @extension = '2015-10-01') and not(@root = '2.16.840.1.113883.10.20.5.6.239' and @extension = '2016-08-01') and @root != '2.16.840.1.113883.10.20.5.6.141' and not(@root = '2.16.840.1.113883.10.20.5.6.149' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.5.6.168' and @root != '2.16.840.1.113883.10.20.5.6.134' and not(@root = '2.16.840.1.113883.10.20.5.6.219' and @extension = '2014-12-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.181:2019-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.181-2019-04-01-errors-CL" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.181' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.181-2019-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.41-2019-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.41-2019-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors-abstract" />
      <sch:assert id="a-4395-22342" test="count(cda:entry[count(cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.181' and @extension='2019-04-01']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:4395-22342) such that it SHALL contain exactly one [1..1] Infection Indicator Organizer (V5) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.181:2019-04-01) (CONF:4395-30428).</sch:assert>
      <sch:assert id="a-4395-22338" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.41'][@extension='2019-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4395-22338) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.41" (CONF:4395-30224). SHALL contain exactly one [1..1] @extension="2019-04-01" (CONF:4395-30282).</sch:assert>
      <sch:assert id="a-4395-22340" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:4395-22340).</sch:assert>
      <sch:assert id="a-4395-22344" test="count(cda:entry[count(cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.180']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:4395-22344) such that it SHALL contain exactly one [1..1] Criteria of Diagnosis Organizer (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.180) (CONF:4395-22345).</sch:assert>
      <sch:assert id="a-4395-22346" test="count(cda:entry[count(cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.133']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:4395-22346) such that it SHALL contain exactly one [1..1] Hospital Admission Clinical Statement (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.133) (CONF:4395-22347).</sch:assert>
      <sch:assert id="a-4395-22348" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.121']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:4395-22348) such that it SHALL contain exactly one [1..1] Death Observation in an Evidence of Infection (Dialysis) Report (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.121) (CONF:4395-22349).</sch:assert>
      <sch:assert id="a-4395-22350" test="count(cda:entry[count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.124']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:4395-22350) such that it SHALL contain exactly one [1..1] Dialysis Clinic Admission Clinical Statement (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.124) (CONF:4395-22351).</sch:assert>
      <sch:assert id="a-4395-30222" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.203']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:4395-30222) such that it SHALL contain exactly one [1..1] Loss of Vascular Access Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.203) (CONF:4395-30223).</sch:assert>
      <sch:assert id="a-4395-22341" test="cda:code[@code='51899-3']">This code SHALL contain exactly one [1..1] @code="51899-3" Details Section (CONF:4395-22341).</sch:assert>
      <sch:assert id="a-4395-30598" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:4395-30598).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.41-2019-04-01-errors" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.41' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.41-2019-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.41-2019-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.41-2019-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4395-11455-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.5.41' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.4.26' and not(@root = '2.16.840.1.113883.10.20.5.6.181' and @extension = '2019-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.157' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.22.4.4' and not(@root = '2.16.840.1.113883.10.20.5.6.140' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.22.4.16' and not(@root = '2.16.840.1.113883.10.20.5.6.230' and @extension = '2015-10-01') and not(@root = '2.16.840.1.113883.10.20.5.6.239' and @extension = '2016-08-01') and @root != '2.16.840.1.113883.10.20.5.6.141' and not(@root = '2.16.840.1.113883.10.20.5.6.149' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.5.6.168' and @root != '2.16.840.1.113883.10.20.5.6.134' and not(@root = '2.16.840.1.113883.10.20.5.6.219' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.5.6.180' and @root != '2.16.840.1.113883.10.20.5.6.119' and @root != '2.16.840.1.113883.10.20.22.4.19' and @root != '2.16.840.1.113883.10.20.5.6.133' and @root != '2.16.840.1.113883.10.20.5.6.121' and @root != '2.16.840.1.113883.10.20.22.4.79' and @root != '2.16.840.1.113883.10.20.5.6.124' and @root != '2.16.840.1.113883.10.20.5.6.203'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.5.41:2019-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.41-2019-04-01-errors-CL" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.41' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.41-2019-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.149-2019-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.149-2019-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-errors-abstract" />
      <sch:assert id="a-4395-19821" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:4395-19821).</sch:assert>
      <sch:assert id="a-4395-19823" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:4395-19823).</sch:assert>
      <sch:assert id="a-4395-19825" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:4395-19825).</sch:assert>
      <sch:assert id="a-4395-19827-c" test="not(tested-here)">If the value of @negationInd is 'false' (CONF:4395-19827).</sch:assert>
      <sch:assert id="a-4395-19833-c" test="not(tested-here)">If the value of @negationInd is ‘true’ (CONF:4395-19833).</sch:assert>
      <sch:assert id="a-4395-30528" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1">SHALL contain exactly one [1..1] templateId (CONF:4395-30528) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:4395-30529).</sch:assert>
      <sch:assert id="a-4395-19839" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:4395-19839).</sch:assert>
      <sch:assert id="a-4395-19837" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.149'][@extension='2019-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4395-19837) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.149" (CONF:4395-19838). SHALL contain exactly one [1..1] @extension="2019-04-01" (CONF:4395-30530).</sch:assert>
      <sch:assert id="a-4395-19822" test="cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:4395-19822).</sch:assert>
      <sch:assert id="a-4395-30605" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:4395-30605).</sch:assert>
      <sch:assert id="a-4395-19824" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:4395-19824).</sch:assert>
      <sch:assert id="a-4395-19826" test="cda:value[@xsi:type='CD'][@code='1955-4']">This value SHALL contain exactly one [1..1] @code="1955-4" Positive blood culture (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277 STATIC) (CONF:4395-19826).</sch:assert>
      <sch:assert id="a-4395-19832-c" test="not(testable)">The report *SHALL* contain a Findings Section (CONF:4395-19832).</sch:assert>
      <sch:assert id="a-4395-19834-c" test="(@negationInd = 'false') or (@negationInd = 'true' and not(/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section/cda:templateId[@root='2.16.840.1.113883.10.20.5.5.28']))">The report *SHALL NOT* contain a Findings Section (CONF:4395-19834).</sch:assert>
      <sch:assert id="a-4395-22781" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:4395-22781).</sch:assert>
      <sch:assert id="a-4395-19818" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:4395-19818).</sch:assert>
      <sch:assert id="a-4395-19819" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:4395-19819).</sch:assert>
      <sch:assert id="a-4395-19820" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:4395-19820).</sch:assert>
      <sch:assert id="a-4395-30676" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:4395-30676).</sch:assert>
      <sch:assert id="a-4395-30677" test="cda:effectiveTime[count(cda:low)=1]">This effectiveTime SHALL contain exactly one [1..1] low (CONF:4395-30677).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.149-2019-04-01-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.149' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.149-2019-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.149-2019-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.149-2019-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4395-11457-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.149' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.5.6.168' and @root != '2.16.840.1.113883.10.20.5.6.134' and not(@root = '2.16.840.1.113883.10.20.5.6.219' and @extension = '2014-12-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.149:2019-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.149-2019-04-01-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.149' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.149-2019-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.157-2019-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.157-2019-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-errors-abstract" />
      <sch:assert id="a-4395-28271" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1">SHALL contain exactly one [1..1] templateId (CONF:4395-28271) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:4395-28272).</sch:assert>
      <sch:assert id="a-4395-19907" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:4395-19907).</sch:assert>
      <sch:assert id="a-4395-19908" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:4395-19908).</sch:assert>
      <sch:assert id="a-4395-19910" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:4395-19910).</sch:assert>
      <sch:assert id="a-4395-19912" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:4395-19912).</sch:assert>
      <sch:assert id="a-4395-19914-c" test="(@negationInd != 'false') or count(cda:participant) &gt; 0">If the value of @negationInd is 'false', this observation SHALL contain one or more [1..\*] participant elements representing the access site which displayed this infection indicator (CONF:4395-19914).</sch:assert>
      <sch:assert id="a-4395-19916-c" test="not(cda:participant) or cda:participant[count(cda:participantRole) = 1]">SHALL contain exactly one [1..1] participantRole (CONF:4395-19916).</sch:assert>
      <sch:assert id="a-4395-19917-c" test="not(cda:participant) or cda:participant/cda:participantRole[count(cda:playingDevice) = 1]">This participantRole SHALL contain exactly one [1..1] playingDevice (CONF:4395-19917).</sch:assert>
      <sch:assert id="a-4395-19918-c" test="not(cda:participant) or cda:participant/cda:participantRole/cda:playingDevice[count(cda:code) = 1]">This playingDevice SHALL contain exactly one [1..1] code (CONF:4395-19918).</sch:assert>
      <sch:assert id="a-4395-19905" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.157'][@extension='2019-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4395-19905) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.157" (CONF:4395-19906). SHALL contain exactly one [1..1] @extension="2019-04-01" (CONF:4395-30682).</sch:assert>
      <sch:assert id="a-4395-19900" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:4395-19900).</sch:assert>
      <sch:assert id="a-4395-19901" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:4395-19901).</sch:assert>
      <sch:assert id="a-4395-19902" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:4395-19902).</sch:assert>
      <sch:assert id="a-4395-22788" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:4395-22788).</sch:assert>
      <sch:assert id="a-4395-19909" test="cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:4395-19909).</sch:assert>
      <sch:assert id="a-4395-28396" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:4395-28396).</sch:assert>
      <sch:assert id="a-4395-19911" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:4395-19911).</sch:assert>
      <sch:assert id="a-4395-19913" test="cda:value[@xsi:type='CD'][@code='2305-1']">This value SHALL contain exactly one [1..1] @code="2305-1" Pus, redness, or increased swelling (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277 STATIC) (CONF:4395-19913).</sch:assert>
      <sch:assert id="a-4395-19915-c" test="not(cda:participant) or cda:participant/@typeCode='DEV'">SHALL contain exactly one [1..1] @typeCode="DEV" Device (CONF:4395-19915).</sch:assert>
      <sch:assert id="a-4395-19919-c" test="not(cda:participant) or cda:participant/cda:participantRole/cda:playingDevice/cda:code[@nullFlavor and not(@code)] or cda:participant/cda:participantRole/cda:playingDevice/cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.6042']/voc:code/@value]">To record a vascular access site as a code, the value of @code SHALL be selected from ValueSet 2.16.840.1.114222.4.11.6042 NHSNVascularAccessSiteCode **DYNAMIC** (CONF:4395-19919).</sch:assert>
      <sch:assert id="a-4395-19920-c" test="not(cda:participant) or cda:participant/cda:participantRole/cda:playingDevice/cda:code[@nullFlavor='OTH' or @code]">To represent a site of vascular access  that is not listed in the NHSNVascularAccessSiteCode value set, set the value of @nullFlavor to OTH (other) (CONF:4395-19920).</sch:assert>
      <sch:assert id="a-4395-19921-c" test="not(cda:participant) or cda:participant/cda:participantRole[@classCode='MANU']">This participantRole SHALL contain exactly one [1..1] @classCode="MANU" (CONF:4395-19921).</sch:assert>
      <sch:assert id="a-4395-30680" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:4395-30680).</sch:assert>
      <sch:assert id="a-4395-30681" test="cda:effectiveTime[count(cda:low)=1]">This effectiveTime SHALL contain exactly one [1..1] low (CONF:4395-30681).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.157-2019-04-01-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.157' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.157-2019-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.157-2019-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.157-2019-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4395-11458-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.157' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.22.4.4'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.157:2019-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.157-2019-04-01-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.157' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.157-2019-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.69-2019-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.69-2019-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors-abstract" />
      <sch:assert id="a-4395-30722" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.69'][@extension='2019-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4395-30722) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.69" (CONF:4395-30734). SHALL contain exactly one [1..1] @extension="2019-04-01" (CONF:4395-30737).</sch:assert>
      <sch:assert id="a-4395-30723" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:4395-30723).</sch:assert>
      <sch:assert id="a-4395-30724" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.263' and @extension='2019-04-01']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:4395-30724) such that it SHALL contain exactly one [1..1] Infection-Type Observation in an OPC SSI Event (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.263:2019-04-01) (CONF:4395-30725).</sch:assert>
      <sch:assert id="a-4395-30732" test="count(cda:entry[count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.265' and @extension='2019-04-01']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:4395-30732) such that it SHALL contain exactly one [1..1] Procedure Details in an OPC SSI Event (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.265:2019-04-01) (CONF:4395-30733).</sch:assert>
      <sch:assert id="a-4395-30735" test="cda:code[@code='51899-3']">This code SHALL contain exactly one [1..1] @code="51899-3" Details Section (CONF:4395-30735).</sch:assert>
      <sch:assert id="a-4395-30736" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:4395-30736).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.69-2019-04-01-errors" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.69' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.69-2019-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.69-2019-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.69-2019-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4395-11501-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.5.69' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.4.26' and not(@root = '2.16.840.1.113883.10.20.5.6.263' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.5.6.180' and @root != '2.16.840.1.113883.10.20.5.6.119' and @root != '2.16.840.1.113883.10.20.22.4.19' and @root != '2.16.840.1.113883.10.20.5.6.135' and not(@root = '2.16.840.1.113883.10.20.5.6.261' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.22.4.13' and not(@root = '2.16.840.1.113883.10.20.5.6.265' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.22.4.14'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.5.69:2019-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.69-2019-04-01-errors-CL" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.69' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.69-2019-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.70-2019-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.70-2019-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors-abstract" />
      <sch:assert id="a-4395-30776" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.70'][@extension='2019-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4395-30776) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.70" (CONF:4395-30781). SHALL contain exactly one [1..1] @extension="2019-04-01" (CONF:4395-30785).</sch:assert>
      <sch:assert id="a-4395-30777" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:4395-30777).</sch:assert>
      <sch:assert id="a-4395-30780-c" test="not(not(cda:entry/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.145'])) or (cda:entry/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.182'])">If pathogens were identified, the Findings Section SHALL contain at least one and no more than three entry elements containing a Findings Organizer reporting pathogens identified (CONF:4395-30780).</sch:assert>
      <sch:assert id="a-4395-30782" test="cda:code[@code='18769-0']">This code SHALL contain exactly one [1..1] @code="18769-0" Findings Section (CONF:4395-30782).</sch:assert>
      <sch:assert id="a-4395-30783" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:4395-30783).</sch:assert>
      <sch:assert id="a-4395-30784-c" test="not(not(cda:entry/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.182'])) or (cda:entry/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.145'])">If no pathogens were identified, the Findings Section SHALL contain a single entry element containing a Pathogen Identified Observation reporting that no pathogens were identified (CONF:4395-30784).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.70-2019-04-01-errors" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.70' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.70-2019-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.70-2019-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.70-2019-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4395-11546-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.5.70' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.6.182' and @root != '2.16.840.1.113883.10.20.5.6.145' and @root != '2.16.840.1.113883.10.20.22.4.2' and @root != '2.16.840.1.113883.10.20.5.6.147' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.5.6.126'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.5.70:2019-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.70-2019-04-01-errors-CL" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.70' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.70-2019-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.261-2019-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.261-2019-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.13-errors-abstract" />
      <sch:assert id="a-4395-30788" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.261'][@extension='2019-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4395-30788) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.261" (CONF:4395-30797). SHALL contain exactly one [1..1] @extension="2019-04-01" (CONF:4395-30804).</sch:assert>
      <sch:assert id="a-4395-30791" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:4395-30791).</sch:assert>
      <sch:assert id="a-4395-30794" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:4395-30794).</sch:assert>
      <sch:assert id="a-4395-30795" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:4395-30795).</sch:assert>
      <sch:assert id="a-4395-30801" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:4395-30801).</sch:assert>
      <sch:assert id="a-4395-30805" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:4395-30805).</sch:assert>
      <sch:assert id="a-4395-30806" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CodeSystem: HL7NullFlavor urn:oid:2.16.840.1.113883.5.1008) (CONF:4395-30806).</sch:assert>
      <sch:assert id="a-4395-30846" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:4395-30846).</sch:assert>
      <sch:assert id="a-4395-30847" test="cda:code[@code]">This code SHALL contain exactly one [1..1] @code, which SHALL be selected from ValueSet NHSNSSIDetectionMethodType urn:oid:2.16.840.1.113883.10.20.5.9.31 DYNAMIC (CONF:4395-30847).</sch:assert>
      <sch:assert id="a-4395-30848" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:4395-30848).</sch:assert>
      <sch:assert id="a-4395-30849" test="cda:value[@xsi:type='CD'][@code]">This value SHALL contain exactly one [1..1] @code, which SHALL be selected from ValueSet NHSNSSIDetectionMethod urn:oid:2.16.840.1.113883.10.20.5.9.29 DYNAMIC (CONF:4395-30849).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.261-2019-04-01-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.261' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.261-2019-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.261-2019-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.261-2019-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4395-11548-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.261' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.22.4.13' and @root != '2.16.840.1.113883.10.20.22.4.13'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.261:2019-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.261-2019-04-01-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.261' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.261-2019-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.71-2019-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.71-2019-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors-abstract" />
      <sch:assert id="a-4395-30809" test="count(cda:entry[count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.262' and @extension='2019-04-01']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:4395-30809) such that it SHALL contain exactly one [1..1] Location Within Facility Encounter (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.262:2019-04-01) (CONF:4395-30810).</sch:assert>
      <sch:assert id="a-4395-30811" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.71'][@extension='2019-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4395-30811) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.71" (CONF:4395-30817). SHALL contain exactly one [1..1] @extension="2019-04-01" (CONF:4395-30818).</sch:assert>
      <sch:assert id="a-4395-30812" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:4395-30812).</sch:assert>
      <sch:assert id="a-4395-30819" test="cda:code[@code='46240-8']">This code SHALL contain exactly one [1..1] @code="46240-8" History of Encounters (CONF:4395-30819).</sch:assert>
      <sch:assert id="a-4395-30820" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:4395-30820).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.71-2019-04-01-errors" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.71' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.71-2019-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.71-2019-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.71-2019-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4395-11553-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.5.71' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.4.26' and not(@root = '2.16.840.1.113883.10.20.5.6.262' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.22.4.49'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.5.71:2019-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.71-2019-04-01-errors-CL" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.71' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.71-2019-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.262-2019-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.262-2019-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.49-errors-abstract" />
      <sch:assert id="a-4395-30823" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:4395-30823).</sch:assert>
      <sch:assert id="a-4395-30824" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:4395-30824).</sch:assert>
      <sch:assert id="a-4395-30825" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:4395-30825).</sch:assert>
      <sch:assert id="a-4395-30826" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.49'])=1">SHALL contain exactly one [1..1] templateId (CONF:4395-30826) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.49" (CONF:4395-30835).</sch:assert>
      <sch:assert id="a-4395-30827" test="count(cda:participant)=1">SHALL contain exactly one [1..1] participant (CONF:4395-30827).</sch:assert>
      <sch:assert id="a-4395-30828" test="cda:participant[count(cda:participantRole)=1]">This participant SHALL contain exactly one [1..1] participantRole (CONF:4395-30828).</sch:assert>
      <sch:assert id="a-4395-30829" test="cda:participant/cda:participantRole[count(cda:code)=1]">This participantRole SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNHealthcareServiceLocationCode urn:oid:2.16.840.1.113883.13.19 DYNAMIC (CONF:4395-30829).</sch:assert>
      <sch:assert id="a-4395-30830" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.262'][@extension='2019-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4395-30830) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.262" (CONF:4395-30841). SHALL contain exactly one [1..1] @extension="2019-04-01" (CONF:4395-30842).</sch:assert>
      <sch:assert id="a-4395-30831" test="cda:id[@nullFlavor='NA']">Such ids SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:4395-30831).</sch:assert>
      <sch:assert id="a-4395-30832" test="cda:code[@code='IMP']">This code SHALL contain exactly one [1..1] @code="IMP" inpatient encounter (CONF:4395-30832).</sch:assert>
      <sch:assert id="a-4395-30833" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:4395-30833).</sch:assert>
      <sch:assert id="a-4395-30837" test="cda:participant/cda:participantRole[@classCode='SDLOC']">This participantRole SHALL contain exactly one [1..1] @classCode="SDLOC" Service Delivery Location (CodeSystem: HL7EntityClass urn:oid:2.16.840.1.113883.5.41) (CONF:4395-30837).</sch:assert>
      <sch:assert id="a-4395-30838" test="cda:participant[@typeCode='LOC']">This participant SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90) (CONF:4395-30838).</sch:assert>
      <sch:assert id="a-4395-30839" test="@classCode='ENC'">SHALL contain exactly one [1..1] @classCode="ENC" Encounter (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:4395-30839).</sch:assert>
      <sch:assert id="a-4395-30840" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:4395-30840).</sch:assert>
      <sch:assert id="a-4395-30843" test="cda:effectiveTime[count(cda:low)=1]">This effectiveTime SHALL contain exactly one [1..1] low (CONF:4395-30843).</sch:assert>
      <sch:assert id="a-4395-30845" test="count(sdtc:dischargeDispositionCode)=1">SHALL contain exactly one [1..1] sdtc:dischargeDispositionCode, which SHALL be selected from ValueSet NHSNLOS/MENDischargeDisposition urn:oid:2.16.840.1.113883.10.20.5.9.30 DYNAMIC (CONF:4395-30845).</sch:assert>
      <sch:assert id="a-4395-30947" test="cda:participant/cda:participantRole[count(cda:id)=1]">This participantRole SHALL contain exactly one [1..1] id (CONF:4395-30947).</sch:assert>
      <sch:assert id="a-4395-30948" test="cda:participant/cda:participantRole/cda:id[@root]">This id SHALL contain exactly one [1..1] @root (CONF:4395-30948).</sch:assert>
      <sch:assert id="a-4395-30949" test="cda:participant/cda:participantRole/cda:id[@extension]">This id SHALL contain exactly one [1..1] @extension (CONF:4395-30949).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.262-2019-04-01-errors" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.262' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.262-2019-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.262-2019-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.262-2019-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4395-11554-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.262' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.22.4.49' and @root != '2.16.840.1.113883.10.20.22.4.49'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.262:2019-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.262-2019-04-01-errors-CL" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.262' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.262-2019-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.263-2019-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.263-2019-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-errors-abstract" />
      <sch:assert id="a-4395-30850" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:4395-30850).</sch:assert>
      <sch:assert id="a-4395-30851" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:4395-30851).</sch:assert>
      <sch:assert id="a-4395-30852" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:4395-30852).</sch:assert>
      <sch:assert id="a-4395-30853" test="count(cda:entryRelationship[@typeCode='SPRT'][count(cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.180']])=1])=1">SHALL contain exactly one [1..1] entryRelationship (CONF:4395-30853) such that it SHALL contain exactly one [1..1] Criteria of Diagnosis Organizer (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.180) (CONF:4395-30854). SHALL contain exactly one [1..1] @typeCode="SPRT" Supports (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:4395-30874).</sch:assert>
      <sch:assert id="a-4395-30855" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1">SHALL contain exactly one [1..1] templateId (CONF:4395-30855) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:4395-30875).</sch:assert>
      <sch:assert id="a-4395-30856" test="count(cda:entryRelationship[@typeCode='REFR'][count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.135']])=1])=1">SHALL contain exactly one [1..1] entryRelationship (CONF:4395-30856) such that it SHALL contain exactly one [1..1] Infection Condition Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.135) (CONF:4395-30857). SHALL contain exactly one [1..1] @typeCode="REFR" (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002) (CONF:4395-30876).</sch:assert>
      <sch:assert id="a-4395-30862" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.261' and @extension='2019-04-01']])=1])=1">SHALL contain exactly one [1..1] entryRelationship (CONF:4395-30862) such that it SHALL contain exactly one [1..1] SSI Detection Method (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.261:2019-04-01) (CONF:4395-30863). SHALL contain exactly one [1..1] @typeCode="COMP" (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002) (CONF:4395-30882).</sch:assert>
      <sch:assert id="a-4395-30864" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.263'][@extension='2019-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4395-30864) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.263" (CONF:4395-30884). SHALL contain exactly one [1..1] @extension="2019-04-01" (CONF:4395-30885).</sch:assert>
      <sch:assert id="a-4395-30865" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:4395-30865).</sch:assert>
      <sch:assert id="a-4395-30866" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:4395-30866).</sch:assert>
      <sch:assert id="a-4395-30867" test="@negationInd='false'">SHALL contain exactly one [1..1] @negationInd="false" (CONF:4395-30867).</sch:assert>
      <sch:assert id="a-4395-30868" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:4395-30868).</sch:assert>
      <sch:assert id="a-4395-30869" test="cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:4395-30869).</sch:assert>
      <sch:assert id="a-4395-30870" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:4395-30870).</sch:assert>
      <sch:assert id="a-4395-30871" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:4395-30871).</sch:assert>
      <sch:assert id="a-4395-30872" test="cda:effectiveTime[count(cda:low)=1]">This effectiveTime SHALL contain exactly one [1..1] low (CONF:4395-30872).</sch:assert>
      <sch:assert id="a-4395-30873" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHALL be selected from ValueSet NHSNInfectionTypeCode urn:oid:2.16.840.1.113883.13.20 DYNAMIC (CONF:4395-30873).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.263-2019-04-01-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.263' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.263-2019-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.263-2019-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.263-2019-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4395-11560-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.263' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.5.6.180' and @root != '2.16.840.1.113883.10.20.5.6.119' and @root != '2.16.840.1.113883.10.20.22.4.19' and @root != '2.16.840.1.113883.10.20.5.6.135' and not(@root = '2.16.840.1.113883.10.20.5.6.261' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.22.4.13'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.263:2019-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.263-2019-04-01-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.263' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.263-2019-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.72-2019-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.72-2019-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors-abstract" />
      <sch:assert id="a-4395-30886" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.72'][@extension='2019-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4395-30886) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.72" (CONF:4395-30894). SHALL contain exactly one [1..1] @extension="2019-04-01" (CONF:4395-30895).</sch:assert>
      <sch:assert id="a-4395-30887" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.137']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:4395-30887) such that it SHALL contain exactly one [1..1] Infection Risk Factors Measurement Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.137) (CONF:4395-30888).</sch:assert>
      <sch:assert id="a-4395-30889" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:4395-30889).</sch:assert>
      <sch:assert id="a-4395-30892" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.255' and @extension='2019-04-01']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:4395-30892) such that it SHALL contain exactly one [1..1] Gestational Age at Birth Observation (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.255:2019-04-01) (CONF:4395-30893).</sch:assert>
      <sch:assert id="a-4395-30896" test="cda:code[@code='51898-5']">This code SHALL contain exactly one [1..1] @code="51898-5" Risk Factors Section (CONF:4395-30896).</sch:assert>
      <sch:assert id="a-4395-30897" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:4395-30897).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.72-2019-04-01-errors" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.72' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.72-2019-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.72-2019-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.72-2019-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4395-11562-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.5.72' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.6.137' and @root != '2.16.840.1.113883.10.20.22.4.27' and not(@root = '2.16.840.1.113883.10.20.5.6.255' and @extension = '2019-04-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.5.72:2019-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.72-2019-04-01-errors-CL" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.72' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.72-2019-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.199-2019-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.199-2019-04-01-errors-abstract" abstract="true">
      <sch:assert id="a-4395-23092" test="count(cda:entryRelationship) &gt; 0">SHALL contain at least one [1..*] entryRelationship (CONF:4395-23092).</sch:assert>
      <sch:assert id="a-4395-23094" test="cda:entryRelationship[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.229' and @extension='2015-04-01']])=1]">Such entryRelationships SHALL contain exactly one [1..1] Summary Data Observation (AU/AR) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.229:2015-04-01) (CONF:4395-23094).</sch:assert>
      <sch:assert id="a-4395-23079" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.199'][@extension='2019-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4395-23079) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.199" (CONF:4395-23080). SHALL contain exactly one [1..1] @extension="2019-04-01" (CONF:4395-30919).</sch:assert>
      <sch:assert id="a-4395-23081" test="count(cda:participant[@typeCode='LOC'][count(cda:participantRole[@classCode='SDLOC'][count(cda:id[@root][@extension])=1][count(cda:code)=1])=1])=1">SHALL contain exactly one [1..1] participant (CONF:4395-23081) such that it SHALL contain exactly one [1..1] participantRole (CONF:4395-23083). This participantRole SHALL contain exactly one [1..1] id (CONF:4395-23085). This id SHALL contain exactly one [1..1] @root (CONF:4395-23086). This id SHALL contain exactly one [1..1] @extension (CONF:4395-23087). This participantRole SHALL contain exactly one [1..1] code, which SHOULD be selected from ValueSet NHSNHealthcareServiceLocationCode urn:oid:2.16.840.1.113883.13.19 DYNAMIC (CONF:4395-23088). This participantRole SHALL contain exactly one [1..1] @classCode="SDLOC" Service Delivery Location (CodeSystem: HL7EntityClass urn:oid:2.16.840.1.113883.5.41 STATIC) (CONF:4395-23084). SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:4395-23082).</sch:assert>
      <sch:assert id="a-4395-23093" test="cda:entryRelationship[@typeCode='COMP']">Such entryRelationships SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:4395-23093).</sch:assert>
      <sch:assert id="a-4395-23077" test="@classCode='ENC'">SHALL contain exactly one [1..1] @classCode="ENC" Encounter (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:4395-23077).</sch:assert>
      <sch:assert id="a-4395-23078" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:4395-23078).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.199-2019-04-01-errors" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.199' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.199-2019-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.199-2019-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.199-2019-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4395-11566-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.199' and @extension = '2019-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.229' and @extension = '2015-04-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.199:2019-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.199-2019-04-01-errors-CL" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.199' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.199-2019-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.52-2019-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.52-2019-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors-abstract" />
      <sch:assert id="a-4395-23074" test="count(cda:entry) &gt; 0">SHALL contain at least one [1..*] entry (CONF:4395-23074).</sch:assert>
      <sch:assert id="a-4395-23075" test="cda:entry[count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.199' and @extension='2019-04-01']])=1]">Such entries SHALL contain exactly one [1..1] Summary Encounter (ARO) (V3) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.199:2019-04-01) (CONF:4395-23075).</sch:assert>
      <sch:assert id="a-4395-23070" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.52'][@extension='2019-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4395-23070) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.52" (CONF:4395-23071). SHALL contain exactly one [1..1] @extension="2019-04-01" (CONF:4395-30920).</sch:assert>
      <sch:assert id="a-4395-23072" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:4395-23072).</sch:assert>
      <sch:assert id="a-4395-23073" test="cda:code[@code='51900-9']">This code SHALL contain exactly one [1..1] @code="51900-9" Summary Data Section (CONF:4395-23073).</sch:assert>
      <sch:assert id="a-4395-28366" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:4395-28366).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.52-2019-04-01-errors" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.52' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.52-2019-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.52-2019-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.52-2019-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4395-11567-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.5.52' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.4.26' and not(@root = '2.16.840.1.113883.10.20.5.6.199' and @extension = '2019-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.229' and @extension = '2015-04-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.5.52:2019-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.52-2019-04-01-errors-CL" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.52' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.52-2019-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.265-2019-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.265-2019-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.14-errors-abstract" />
      <sch:assert id="a-4395-30921" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (ValueSet: NHSNOPCProcedureCategoryCode urn:oid:2.16.840.1.113883.10.20.5.9.34 DYNAMIC) (CONF:4395-30921).</sch:assert>
      <sch:assert id="a-4395-30923" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:4395-30923).</sch:assert>
      <sch:assert id="a-4395-30924" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.14'])=1">SHALL contain exactly one [1..1] templateId (CONF:4395-30924) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.14" (CONF:4395-30931).</sch:assert>
      <sch:assert id="a-4395-30925" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.265'][@extension='2019-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4395-30925) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.265" (CONF:4395-30933). SHALL contain exactly one [1..1] @extension="2019-04-01" (CONF:4395-30934).</sch:assert>
      <sch:assert id="a-4395-30926" test="@classCode='PROC'">SHALL contain exactly one [1..1] @classCode="PROC" Procedure (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:4395-30926).</sch:assert>
      <sch:assert id="a-4395-30927" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:4395-30927).</sch:assert>
      <sch:assert id="a-4395-30928" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:4395-30928).</sch:assert>
      <sch:assert id="a-4395-30930" test="cda:effectiveTime[count(cda:low)=1]">This effectiveTime SHALL contain exactly one [1..1] low (CONF:4395-30930).</sch:assert>
      <sch:assert id="a-4395-30932" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (ValueSet: ProcedureAct statusCode urn:oid:2.16.840.1.113883.11.20.9.22 DYNAMIC) (CONF:4395-30932).</sch:assert>
      <sch:assert id="a-4395-30935" test="cda:code[count(cda:translation)=1]">This code SHALL contain exactly one [1..1] translation, which SHALL be selected from CodeSystem CPT4 (urn:oid:2.16.840.1.113883.6.12) (CONF:4395-30935).</sch:assert>
      <sch:assert id="a-4395-30952" test="cda:id[@root]">This id SHALL contain exactly one [1..1] @root (CONF:4395-30952).</sch:assert>
      <sch:assert id="a-4395-30953" test="cda:id[@extension]">This id SHALL contain exactly one [1..1] @extension (CONF:4395-30953).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.265-2019-04-01-errors" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.265' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.265-2019-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.265-2019-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.265-2019-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4395-11568-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.265' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.22.4.14' and @root != '2.16.840.1.113883.10.20.22.4.14'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.265:2019-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.265-2019-04-01-errors-CL" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.265' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.265-2019-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.255-2019-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.255-2019-04-01-errors-abstract" abstract="true">
      <sch:assert id="a-4395-30764" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.255'][@extension='2019-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4395-30764) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.255" (CONF:4395-30773). SHALL contain exactly one [1..1] @extension="2019-04-01" (CONF:4395-30976).</sch:assert>
      <sch:assert id="a-4395-30765" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:4395-30765).</sch:assert>
      <sch:assert id="a-4395-30768" test="count(cda:value[@xsi:type='PQ'])=1">SHALL contain exactly one [1..1] value with @xsi:type="PQ" (CONF:4395-30768).</sch:assert>
      <sch:assert id="a-4395-30977" test="cda:code[@code='76516-4']">This code SHALL contain exactly one [1..1] @code="76516-4" Gestational age at birth (CONF:4395-30977).</sch:assert>
      <sch:assert id="a-4395-30978" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:4395-30978).</sch:assert>
      <sch:assert id="a-4395-30769" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:4395-30769).</sch:assert>
      <sch:assert id="a-4395-30770" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:4395-30770).</sch:assert>
      <sch:assert id="a-4395-30771" test="@negationInd='false'">SHALL contain exactly one [1..1] @negationInd="false" (CONF:4395-30771).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.255-2019-04-01-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.255' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.255-2019-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.255-2019-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.255-2019-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4395-12003-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.255' and @extension = '2019-04-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.255:2019-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.255-2019-04-01-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.255' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.255-2019-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.65-2019-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.65-2019-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors-abstract" />
      <sch:assert id="a-4395-30753" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.65'][@extension='2019-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4395-30753) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.65" (CONF:4395-30756). SHALL contain exactly one [1..1] @extension="2019-04-01" (CONF:4395-30757).</sch:assert>
      <sch:assert id="a-4395-30754" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.137']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:4395-30754) such that it SHALL contain exactly one [1..1] Infection Risk Factors Measurement Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.137) (CONF:4395-30755).</sch:assert>
      <sch:assert id="a-4395-30758" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:4395-30758).</sch:assert>
      <sch:assert id="a-4395-30981" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.255' and @extension='2019-04-01']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:4395-30981) such that it SHALL contain exactly one [1..1] Gestational Age at Birth Observation (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.255:2019-04-01) (CONF:4395-30982).</sch:assert>
      <sch:assert id="a-4395-30759" test="cda:code[@code='51898-5']">This code SHALL contain exactly one [1..1] @code="51898-5" Risk Factors Section (CONF:4395-30759).</sch:assert>
      <sch:assert id="a-4395-30760" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:4395-30760).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.65-2019-04-01-errors" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.65' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.65-2019-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.65-2019-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.65-2019-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4395-12004-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.5.65' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.6.137' and @root != '2.16.840.1.113883.10.20.22.4.27' and @root != '2.16.840.1.113883.10.20.5.6.138' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.5.6.122' and @root != '2.16.840.1.113883.10.20.22.4.14' and not(@root = '2.16.840.1.113883.10.20.5.6.255' and @extension = '2019-04-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.5.65:2019-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.65-2019-04-01-errors-CL" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.65' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.65-2019-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.266-2020-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.266-2020-04-01-errors-abstract" abstract="true">
      <sch:assert id="a-4459-1" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:4459-1).</sch:assert>
      <sch:assert id="a-4459-3" test="count(cda:value[@xsi:type='BL'])=1">SHALL contain exactly one [1..1] value with @xsi:type="BL" (CONF:4459-3).</sch:assert>
      <sch:assert id="a-4459-4" test="count(cda:templateId)=1">SHALL contain exactly one [1..1] templateId (CONF:4459-4).</sch:assert>
      <sch:assert id="a-4459-5" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:4459-5).</sch:assert>
      <sch:assert id="a-4459-6" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:4459-6).</sch:assert>
      <sch:assert id="a-4459-7" test="cda:code[@code='95415-6']">This code SHALL contain exactly one [1..1] @code="95415-6" Patient admitted as an inpatient (CONF:4459-7).</sch:assert>
      <sch:assert id="a-4459-8" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:4459-8).</sch:assert>
      <sch:assert id="a-4459-12" test="cda:templateId[@root='2.16.840.1.113883.10.20.5.6.266']">This templateId SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.266" (CONF:4459-12).</sch:assert>
      <sch:assert id="a-4459-13" test="cda:templateId[@extension='2020-04-01']">This templateId SHALL contain exactly one [1..1] @extension="2020-04-01" (CONF:4459-13).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.266-2020-04-01-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.266' and @extension='2020-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.266-2020-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.32-2020-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.32-2020-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors-abstract" />
      <sch:assert id="a-4459-21136" test="count(cda:entry)=1">SHALL contain exactly one [1..1] entry (CONF:4459-21136).</sch:assert>
      <sch:assert id="a-4459-30473" test="cda:entry[count(cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.188' and @extension='2020-04-01']])=1]">This entry SHALL contain exactly one [1..1] Specimen Collection Procedure (ARO) (V4) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.188:2020-04-01) (CONF:4459-30473).</sch:assert>
      <sch:assert id="a-4459-21128" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.32'][@extension='2020-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4459-21128) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.32" (CONF:4459-21129). SHALL contain exactly one [1..1] @extension="2020-04-01" (CONF:4459-30475).</sch:assert>
      <sch:assert id="a-4459-21132" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:4459-21132).</sch:assert>
      <sch:assert id="a-4459-21133" test="cda:code[@code='18769-0']">This code SHALL contain exactly one [1..1] @code="18769-0" Findings Section (CONF:4459-21133).</sch:assert>
      <sch:assert id="a-4459-30601" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:4459-30601).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.32-2020-04-01-errors" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.32' and @extension='2020-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.32-2020-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.32-2020-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.32-2020-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4459-12137-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.5.32' and @extension = '2020-04-01') and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.4.26' and not(@root = '2.16.840.1.113883.10.20.5.6.188' and @extension = '2020-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.187' and @extension = '2020-04-01') and @root != '2.16.840.1.113883.10.20.22.4.49' and not(@root = '2.16.840.1.113883.10.20.5.6.266' and @extension = '2020-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.201' and @extension = '2020-04-01') and @root != '2.16.840.1.113883.10.20.5.6.190' and @root != '2.16.840.1.113883.10.20.22.4.1' and @root != '2.16.840.1.113883.10.20.5.6.189' and @root != '2.16.840.1.113883.10.20.22.4.2' and not(@root = '2.16.840.1.113883.10.20.5.6.177' and @extension = '2016-08-01') and not(@root = '2.16.840.1.113883.10.20.5.6.200' and @extension = '2016-08-01') and not(@root = '2.16.840.1.113883.10.20.5.6.186' and @extension = '2016-08-01') and @root != '2.16.840.1.113883.10.20.5.6.175' and not(@root = '2.16.840.1.113883.10.20.5.6.202' and @extension = '2020-04-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.5.32:2020-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.32-2020-04-01-errors-CL" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.32' and @extension='2020-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.32-2020-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.188-2020-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.188-2020-04-01-errors-abstract" abstract="true">
      <sch:assert id="a-4459-22681" test="count(cda:entryRelationship[@typeCode='COMP'][@inversionInd='true'][count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.187' and @extension='2020-04-01']])=1])=1">SHALL contain exactly one [1..1] entryRelationship (CONF:4459-22681) such that it SHALL contain exactly one [1..1] Specimen Collection Encounter (ARO) (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.187:2020-04-01) (CONF:4459-22684). SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:4459-22682). SHALL contain exactly one [1..1] @inversionInd="true" (CONF:4459-22683).</sch:assert>
      <sch:assert id="a-4459-22670" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.188'][@extension='2020-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4459-22670) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.188" (CONF:4459-22671). SHALL contain exactly one [1..1] @extension="2020-04-01" (CONF:4459-30472).</sch:assert>
      <sch:assert id="a-4459-22672" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:4459-22672).</sch:assert>
      <sch:assert id="a-4459-27160" test="count(cda:specimen)=1">SHALL contain exactly one [1..1] specimen (CONF:4459-27160).</sch:assert>
      <sch:assert id="a-4459-27161" test="cda:specimen[count(cda:specimenRole)=1]">This specimen SHALL contain exactly one [1..1] specimenRole (CONF:4459-27161).</sch:assert>
      <sch:assert id="a-4459-27162" test="cda:specimen/cda:specimenRole[count(cda:specimenPlayingEntity)=1]">This specimenRole SHALL contain exactly one [1..1] specimenPlayingEntity (CONF:4459-27162).</sch:assert>
      <sch:assert id="a-4459-27164" test="count(cda:entryRelationship[@typeCode='COMP'][@inversionInd='true'][count(cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.201' and @extension='2020-04-01']])=1]) &gt; 0">SHALL contain at least one [1..*] entryRelationship (CONF:4459-27164) such that it SHALL contain exactly one [1..1] Isolate Susceptibility Tests Organizer (V4) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.201:2020-04-01) (CONF:4459-30471). SHALL contain exactly one [1..1] @typeCode="COMP" (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002) (CONF:4459-27165). SHALL contain exactly one [1..1] @inversionInd="true" (CONF:4459-27432).</sch:assert>
      <sch:assert id="a-4459-22673" test="cda:effectiveTime[@value]">This effectiveTime SHALL contain exactly one [1..1] @value (CONF:4459-22673).</sch:assert>
      <sch:assert id="a-4459-27163" test="cda:specimen/cda:specimenRole/cda:specimenPlayingEntity[count(cda:code)=1]">This specimenPlayingEntity SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNSpecimenTypeCode urn:oid:2.16.840.1.114222.4.11.3249 DYNAMIC (CONF:4459-27163).</sch:assert>
      <sch:assert id="a-4459-22668" test="@classCode='PROC'">SHALL contain exactly one [1..1] @classCode="PROC" Procedure (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:4459-22668).</sch:assert>
      <sch:assert id="a-4459-22669" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:4459-22669).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.188-2020-04-01-errors" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.188' and @extension='2020-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.188-2020-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.188-2020-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.188-2020-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4459-12138-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.188' and @extension = '2020-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.187' and @extension = '2020-04-01') and @root != '2.16.840.1.113883.10.20.22.4.49' and not(@root = '2.16.840.1.113883.10.20.5.6.266' and @extension = '2020-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.201' and @extension = '2020-04-01') and @root != '2.16.840.1.113883.10.20.5.6.190' and @root != '2.16.840.1.113883.10.20.22.4.1' and @root != '2.16.840.1.113883.10.20.5.6.189' and @root != '2.16.840.1.113883.10.20.22.4.2' and not(@root = '2.16.840.1.113883.10.20.5.6.177' and @extension = '2016-08-01') and not(@root = '2.16.840.1.113883.10.20.5.6.200' and @extension = '2016-08-01') and not(@root = '2.16.840.1.113883.10.20.5.6.186' and @extension = '2016-08-01') and @root != '2.16.840.1.113883.10.20.5.6.175' and not(@root = '2.16.840.1.113883.10.20.5.6.202' and @extension = '2020-04-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.188:2020-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.188-2020-04-01-errors-CL" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.188' and @extension='2020-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.188-2020-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.187-2020-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.187-2020-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.49-errors-abstract" />
      <sch:assert id="a-4459-28279" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.49'])=1">SHALL contain exactly one [1..1] templateId (CONF:4459-28279) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.49" (CONF:4459-28280).</sch:assert>
      <sch:assert id="a-4459-22653" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:4459-22653).</sch:assert>
      <sch:assert id="a-4459-22655" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:4459-22655).</sch:assert>
      <sch:assert id="a-4459-22657" test="count(cda:participant)=1">SHALL contain exactly one [1..1] participant (CONF:4459-22657).</sch:assert>
      <sch:assert id="a-4459-22659" test="cda:participant[count(cda:participantRole)=1]">This participant SHALL contain exactly one [1..1] participantRole (CONF:4459-22659).</sch:assert>
      <sch:assert id="a-4459-22661" test="cda:participant/cda:participantRole[count(cda:id)=1]">This participantRole SHALL contain exactly one [1..1] id (CONF:4459-22661).</sch:assert>
      <sch:assert id="a-4459-22664" test="cda:participant/cda:participantRole[count(cda:playingEntity)=1]">This participantRole SHALL contain exactly one [1..1] playingEntity (CONF:4459-22664).</sch:assert>
      <sch:assert id="a-4459-22651" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.187'][@extension='2020-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4459-22651) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.187" (CONF:4459-22652). SHALL contain exactly one [1..1] @extension="2020-04-01" (CONF:4459-30795).</sch:assert>
      <sch:assert id="a-4459-22649" test="@classCode='ENC'">SHALL contain exactly one [1..1] @classCode="ENC" Encounter (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:4459-22649).</sch:assert>
      <sch:assert id="a-4459-22650" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:4459-22650).</sch:assert>
      <sch:assert id="a-4459-22654" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002) (CONF:4459-22654).</sch:assert>
      <sch:assert id="a-4459-22656" test="cda:effectiveTime[@nullFlavor='NA']">This effectiveTime SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:4459-22656).</sch:assert>
      <sch:assert id="a-4459-22658" test="cda:participant[@typeCode='LOC']">This participant SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType urn:oid:2.16.840.1.113883.5.90 STATIC) (CONF:4459-22658).</sch:assert>
      <sch:assert id="a-4459-22660" test="cda:participant/cda:participantRole[@classCode='SDLOC']">This participantRole SHALL contain exactly one [1..1] @classCode="SDLOC" Service delivery location (CodeSystem: HL7RoleClass urn:oid:2.16.840.1.113883.5.110 STATIC) (CONF:4459-22660).</sch:assert>
      <sch:assert id="a-4459-22662" test="cda:participant/cda:participantRole/cda:id[@root]">This id SHALL contain exactly one [1..1] @root (CONF:4459-22662).</sch:assert>
      <sch:assert id="a-4459-22663" test="cda:participant/cda:participantRole/cda:id[@extension]">This id SHALL contain exactly one [1..1] @extension (CONF:4459-22663).</sch:assert>
      <sch:assert id="a-4459-22665" test="cda:participant/cda:participantRole/cda:playingEntity[@classCode='PLC']">This playingEntity SHALL contain exactly one [1..1] @classCode="PLC" Place (CodeSystem: HL7EntityClass urn:oid:2.16.840.1.113883.5.41 STATIC) (CONF:4459-22665).</sch:assert>
      <sch:assert id="a-4459-22666" test="cda:participant/cda:participantRole/cda:playingEntity[count(cda:code)=1]">This playingEntity SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNHealthcareServiceLocationCode urn:oid:2.16.840.1.113883.13.19 DYNAMIC (CONF:4459-22666).</sch:assert>
      <sch:assert id="a-4459-30796" test="count(cda:entryRelationship)=1">SHALL contain exactly one [1..1] entryRelationship (CONF:4459-30796).</sch:assert>
      <sch:assert id="a-4459-30797" test="cda:entryRelationship[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.266' and @extension='2020-04-01']])=1]">This entryRelationship SHALL contain exactly one [1..1] Patient Admitted This Encounter Observation (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.266:2020-04-01) (CONF:4459-30797).</sch:assert>
      <sch:assert id="a-4459-30798" test="cda:entryRelationship[@typeCode='COMP']">This entryRelationship SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002) (CONF:4459-30798).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.187-2020-04-01-errors" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.187' and @extension='2020-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.187-2020-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.187-2020-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.187-2020-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4459-12139-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.187' and @extension = '2020-04-01') and @root != '2.16.840.1.113883.10.20.22.4.49' and @root != '2.16.840.1.113883.10.20.22.4.49' and not(@root = '2.16.840.1.113883.10.20.5.6.266' and @extension = '2020-04-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.187:2020-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.187-2020-04-01-errors-CL" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.187' and @extension='2020-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.187-2020-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.202-2020-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.202-2020-04-01-errors-abstract" abstract="true">
      <sch:assert id="a-4459-27137" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.202'][@extension='2020-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4459-27137) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.202" (CONF:4459-27138). SHALL contain exactly one [1..1] @extension="2020-04-01" (CONF:4459-30799).</sch:assert>
      <sch:assert id="a-4459-27151" test="count(cda:participantRole)=1">SHALL contain exactly one [1..1] participantRole (CONF:4459-27151).</sch:assert>
      <sch:assert id="a-4459-27154" test="cda:participantRole[count(cda:playingEntity)=1]">This participantRole SHALL contain exactly one [1..1] playingEntity (CONF:4459-27154).</sch:assert>
      <sch:assert id="a-4459-27150" test="@typeCode='SBJ'">SHALL contain exactly one [1..1] @typeCode="SBJ" (CONF:4459-27150).</sch:assert>
      <sch:assert id="a-4459-27152" test="cda:participantRole[@classCode='ISLT']">This participantRole SHALL contain exactly one [1..1] @classCode="ISLT" (CONF:4459-27152).</sch:assert>
      <sch:assert id="a-4459-27153" test="cda:participantRole[count(cda:id) &gt; 0]">This participantRole SHALL contain at least one [1..*] id (CONF:4459-27153).</sch:assert>
      <sch:assert id="a-4459-27155" test="cda:participantRole/cda:playingEntity[count(cda:code)=1]">This playingEntity SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNPathogenCodeARO urn:oid:2.16.840.1.113762.1.4.1190.6 DYNAMIC (CONF:4459-27155).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.202-2020-04-01-errors" context="cda:participant[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.202' and @extension='2020-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.202-2020-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.202-2020-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.202-2020-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4459-12141-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.202' and @extension = '2020-04-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.202:2020-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.202-2020-04-01-errors-CL" context="cda:participant[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.202' and @extension='2020-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.202-2020-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.201-2020-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.201-2020-04-01-errors-abstract" abstract="true">
      <sch:assert id="a-4459-27122" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.201'][@extension='2020-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4459-27122) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.201" (CONF:4459-27123). SHALL contain exactly one [1..1] @extension="2020-04-01" (CONF:4459-30470).</sch:assert>
      <sch:assert id="a-4459-27124" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:4459-27124).</sch:assert>
      <sch:assert id="a-4459-27126" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:4459-27126).</sch:assert>
      <sch:assert id="a-4459-27128" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:4459-27128).</sch:assert>
      <sch:assert id="a-4459-27158" test="count(cda:component[count(cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.177' and @extension='2016-08-01']])=1]) &gt; 0">SHALL contain at least one [1..*] component (CONF:4459-27158) such that it SHALL contain exactly one [1..1] Antimicrobial Susceptibility Tests Organizer (V3) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.177:2016-08-01) (CONF:4459-30469).</sch:assert>
      <sch:assert id="a-4459-27130" test="count(cda:participant[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.202' and @extension='2020-04-01']])=1">SHALL contain exactly one [1..1] Antimicrobial Susceptibility Isolate Participant (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.202:2020-04-01) (CONF:4459-27130).</sch:assert>
      <sch:assert id="a-4459-27125-c" test="not(tested)">Such ids SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:4459-27125).</sch:assert>
      <sch:assert id="a-4459-27127" test="cda:code[@code='18725-2' and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code="18725-2" Microbiology studies (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:4459-27127).</sch:assert>
      <sch:assert id="a-4459-27129" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:4459-27129).</sch:assert>
      <sch:assert id="a-4459-27120" test="@classCode='CLUSTER'">SHALL contain exactly one [1..1] @classCode="CLUSTER" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:4459-27120).</sch:assert>
      <sch:assert id="a-4459-27121" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:4459-27121).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.201-2020-04-01-errors" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.201' and @extension='2020-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.201-2020-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.201-2020-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.201-2020-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4459-12142-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.201' and @extension = '2020-04-01') and @root != '2.16.840.1.113883.10.20.5.6.190' and @root != '2.16.840.1.113883.10.20.22.4.1' and @root != '2.16.840.1.113883.10.20.5.6.189' and @root != '2.16.840.1.113883.10.20.22.4.2' and not(@root = '2.16.840.1.113883.10.20.5.6.177' and @extension = '2016-08-01') and not(@root = '2.16.840.1.113883.10.20.5.6.200' and @extension = '2016-08-01') and not(@root = '2.16.840.1.113883.10.20.5.6.186' and @extension = '2016-08-01') and @root != '2.16.840.1.113883.10.20.5.6.175' and not(@root = '2.16.840.1.113883.10.20.5.6.202' and @extension = '2020-04-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.201:2020-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.201-2020-04-01-errors-CL" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.201' and @extension='2020-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.201-2020-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.270-2021-01-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.270-2021-01-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-errors-abstract" />
      <sch:assert id="a-4475-1" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1">SHALL contain exactly one [1..1] templateId (CONF:4475-1) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:4475-7).</sch:assert>
      <sch:assert id="a-4475-2" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:4475-2).</sch:assert>
      <sch:assert id="a-4475-3" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:4475-3).</sch:assert>
      <sch:assert id="a-4475-4" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:4475-4).</sch:assert>
      <sch:assert id="a-4475-5" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHALL be selected from ValueSet NHSN COVID19 Case Classification urn:oid:2.16.840.1.113883.10.20.5.9.40 DYNAMIC (CONF:4475-5).</sch:assert>
      <sch:assert id="a-4475-6" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.270'][@extension='2021-01-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4475-6) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.270" (CONF:4475-14). SHALL contain exactly one [1..1] @extension="2021-01-01" (CONF:4475-15).</sch:assert>
      <sch:assert id="a-4475-8" test="cda:id[@nullFlavor='NA']">This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:4475-8).</sch:assert>
      <sch:assert id="a-4475-9" test="cda:code[@code='55607006']">This code SHALL contain exactly one [1..1] @code="55607006" Problem (CONF:4475-9).</sch:assert>
      <sch:assert id="a-4475-10" test="cda:code[@codeSystem='2.16.840.1.113883.6.96']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.96" (CodeSystem: SNOMED CT urn:oid:2.16.840.1.113883.6.96) (CONF:4475-10).</sch:assert>
      <sch:assert id="a-4475-11" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14 STATIC) (CONF:4475-11).</sch:assert>
      <sch:assert id="a-4475-16" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:4475-16).</sch:assert>
      <sch:assert id="a-4475-17" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:4475-17).</sch:assert>
      <sch:assert id="a-4475-18" test="@negationInd='false'">SHALL contain exactly one [1..1] @negationInd="false" (CONF:4475-18).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.270-2021-01-01-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.270' and @extension='2021-01-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.270-2021-01-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.270-2021-01-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.270-2021-01-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4475-12244-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.270' and @extension = '2021-01-01') and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.22.4.4'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.270:2021-01-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.270-2021-01-01-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.270' and @extension='2021-01-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.270-2021-01-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.80-2021-01-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.80-2021-01-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors-abstract" />
      <sch:assert id="a-4475-19" test="count(cda:entry)=1">SHALL contain exactly one [1..1] entry (CONF:4475-19).</sch:assert>
      <sch:assert id="a-4475-20" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.80'][@extension='2021-01-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4475-20) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.80" (CONF:4475-23). SHALL contain exactly one [1..1] @extension="2021-01-01" (CONF:4475-24).</sch:assert>
      <sch:assert id="a-4475-21" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:4475-21).</sch:assert>
      <sch:assert id="a-4475-25" test="cda:code[@code='94721-8']">This code SHALL contain exactly one [1..1] @code="94721-8" COVID-19 Evaluation note (CONF:4475-25).</sch:assert>
      <sch:assert id="a-4475-26" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:4475-26).</sch:assert>
      <sch:assert id="a-4475-27" test="cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.270' and @extension='2021-01-01']])=1]">This entry SHALL contain exactly one [1..1] NHSN COVID-19 Condition Observation (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.270:2021-01-01) (CONF:4475-27).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.80-2021-01-01-errors" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.80' and @extension='2021-01-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.80-2021-01-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.80-2021-01-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.80-2021-01-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4475-12245-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.5.80' and @extension = '2021-01-01') and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.4.26' and not(@root = '2.16.840.1.113883.10.20.5.6.270' and @extension = '2021-01-01') and @root != '2.16.840.1.113883.10.20.22.4.4'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.5.80:2021-01-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.80-2021-01-01-errors-CL" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.80' and @extension='2021-01-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.80-2021-01-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.34.3.45-2022-06-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.34.3.45-2022-06-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.22.4.38-2015-08-01-errors-abstract" />
      <sch:assert id="a-4515-1221" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.34.3.45'][@extension='2022-06-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4515-1221) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.34.3.45" (CONF:4515-1225). SHALL contain exactly one [1..1] @extension="2022-06-01" (CONF:4515-1226).</sch:assert>
      <sch:assert id="a-4515-1222" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:4515-1222).</sch:assert>
      <sch:assert id="a-4515-1223" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHALL be selected from ValueSet Gender Identity USCDI core urn:oid:2.16.840.1.113762.1.4.1021.101 DYNAMIC (CONF:4515-1223).</sch:assert>
      <sch:assert id="a-4515-1227" test="cda:code[@code='76691-5']">This code SHALL contain exactly one [1..1] @code=" 76691-5" Gender identity (CONF:4515-1227).</sch:assert>
      <sch:assert id="a-4515-1228" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1 STATIC) (CONF:4515-1228).</sch:assert>
      <sch:assert id="a-4515-1230" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6 STATIC) (CONF:4515-1230).</sch:assert>
      <sch:assert id="a-4515-1231" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001 STATIC) (CONF:4515-1231).</sch:assert>
      <sch:assert id="a-4515-33031" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:4515-33031).</sch:assert>
      <sch:assert id="a-4515-33032" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:4515-33032).</sch:assert>
      <sch:assert id="a-4515-33033" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:4515-33033).</sch:assert>
      <sch:assert id="a-4515-33034" test="cda:effectiveTime[count(cda:low)=1]">This effectiveTime SHALL contain exactly one [1..1] low (CONF:4515-33034).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.34.3.45-2022-06-01-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.34.3.45' and @extension='2022-06-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.34.3.45-2022-06-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.81-2022-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.81-2022-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors-abstract" />
      <sch:assert id="a-4523-4" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:4523-4).</sch:assert>
      <sch:assert id="a-4523-9" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.200' and @extension='2016-06-01']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:4523-9) such that it SHALL contain exactly one [1..1] Birth Sex Observation (identifier: urn:hl7ii:2.16.840.1.113883.10.20.22.4.200:2016-06-01) (CONF:4523-10).</sch:assert>
      <sch:assert id="a-4523-19" test="cda:code[@code='29762-2']">This code SHALL contain exactly one [1..1] @code="29762-2" Social History (CONF:4523-19).</sch:assert>
      <sch:assert id="a-4523-20" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:4523-20).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.81-2022-04-01-errors" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.81' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.81-2022-04-01-errors-abstract" />
      <sch:assert id="a-4523-3" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.81'][@extension='2022-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4523-3) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.81" (CONF:4523-17). SHALL contain exactly one [1..1] @extension="2022-04-01" (CONF:4523-18).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.4.27-2022-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.4.27-2022-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.25-errors-abstract" />
      <sch:assert id="a-4523-22415" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27'][@extension='2022-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4523-22415) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.27" (CONF:4523-22416). SHALL contain exactly one [1..1] @extension="2022-04-01" (CONF:4523-30795).</sch:assert>
      <sch:assert id="a-4523-22417" test="count(cda:recordTarget)=1">SHALL contain exactly one [1..1] recordTarget (CONF:4523-22417).</sch:assert>
      <sch:assert id="a-4523-22418" test="cda:recordTarget[count(cda:patientRole)=1]">This recordTarget SHALL contain exactly one [1..1] patientRole (CONF:4523-22418).</sch:assert>
      <sch:assert id="a-4523-22419" test="cda:recordTarget/cda:patientRole[count(cda:id) &gt; 0]">This patientRole SHALL contain at least one [1..*] id (CONF:4523-22419).</sch:assert>
      <sch:assert id="a-4523-22422" test="cda:recordTarget/cda:patientRole[count(cda:patient)=1]">This patientRole SHALL contain exactly one [1..1] patient (CONF:4523-22422).</sch:assert>
      <sch:assert id="a-4523-22424" test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:administrativeGenderCode)=1]">This patient SHALL contain exactly one [1..1] administrativeGenderCode (CONF:4523-22424).</sch:assert>
      <sch:assert id="a-4523-22426" test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:birthTime)=1]">This patient SHALL contain exactly one [1..1] birthTime (CONF:4523-22426).</sch:assert>
      <sch:assert id="a-4523-22420" test="cda:recordTarget/cda:patientRole/cda:id[@root]">Such ids SHALL contain exactly one [1..1] @root (CONF:4523-22420).</sch:assert>
      <sch:assert id="a-4523-22421" test="cda:recordTarget/cda:patientRole/cda:id[@extension]">Such ids SHALL contain exactly one [1..1] @extension (CONF:4523-22421).</sch:assert>
      <sch:assert id="a-4523-22425" test="cda:recordTarget/cda:patientRole/cda:patient/cda:administrativeGenderCode[@code]">This administrativeGenderCode SHALL contain exactly one [1..1] @code, which SHALL be selected from ValueSet Administrative Gender (HL7 V3) urn:oid:2.16.840.1.113883.1.11.1 DYNAMIC (CONF:4523-22425).</sch:assert>
      <sch:assert id="a-4523-22427" test="cda:recordTarget/cda:patientRole/cda:patient/cda:birthTime[@value]">This birthTime SHALL contain exactly one [1..1] @value (CONF:4523-22427).</sch:assert>
      <sch:assert id="a-4523-22431" test="count(cda:component)=1">SHALL contain exactly one [1..1] component (CONF:4523-22431).</sch:assert>
      <sch:assert id="a-4523-22432" test="cda:component[count(cda:structuredBody)=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:4523-22432).</sch:assert>
      <sch:assert id="a-4523-22433" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.81' and @extension='2022-04-01']])=1]) &gt; 0]">This structuredBody SHALL contain at least one [1..*] component (CONF:4523-22433) such that it SHALL contain exactly one [1..1] NHSN Social History Section (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.5.81:2022-04-01) (CONF:4523-22434).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.4.27-2022-04-01-errors" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.4.27-2022-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.31-2022-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.31-2022-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.4.27-2022-04-01-errors-abstract" />
      <sch:assert id="a-4523-21139" test="count(cda:componentOf)=1">SHALL contain exactly one [1..1] componentOf (CONF:4523-21139).</sch:assert>
      <sch:assert id="a-4523-21140" test="cda:componentOf[count(cda:encompassingEncounter)=1]">This componentOf SHALL contain exactly one [1..1] encompassingEncounter (CONF:4523-21140).</sch:assert>
      <sch:assert id="a-4523-21143" test="cda:componentOf/cda:encompassingEncounter[count(cda:effectiveTime)=1]">This encompassingEncounter SHALL contain exactly one [1..1] effectiveTime (CONF:4523-21143).</sch:assert>
      <sch:assert id="a-4523-21144" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime[count(cda:low)=1]">This effectiveTime SHALL contain exactly one [1..1] low (CONF:4523-21144).</sch:assert>
      <sch:assert id="a-4523-21146" test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]">This encompassingEncounter SHALL contain exactly one [1..1] location (CONF:4523-21146).</sch:assert>
      <sch:assert id="a-4523-21147" test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]">This location SHALL contain exactly one [1..1] healthCareFacility (CONF:4523-21147).</sch:assert>
      <sch:assert id="a-4523-21148" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]">This healthCareFacility SHALL contain exactly one [1..1] id (CONF:4523-21148).</sch:assert>
      <sch:assert id="a-4523-21150" test="count(cda:component)=1">SHALL contain exactly one [1..1] component (CONF:4523-21150).</sch:assert>
      <sch:assert id="a-4523-21151" test="cda:component[count(cda:structuredBody)=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:4523-21151).</sch:assert>
      <sch:assert id="a-4523-21152" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.32' and @extension='2020-04-01']])=1])=1]">This structuredBody SHALL contain exactly one [1..1] component (CONF:4523-21152) such that it SHALL contain exactly one [1..1] Findings Section in an ARO Report (V4) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.5.32:2020-04-01) (CONF:4523-21153).</sch:assert>
      <sch:assert id="a-4523-30540" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.4.2'])=1">SHALL contain exactly one [1..1] templateId (CONF:4523-30540) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.7.4.2" (CONF:4523-30541).</sch:assert>
      <sch:assert id="a-4523-21951" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.31'][@extension='2022-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4523-21951) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.31" (CONF:4523-21952). SHALL contain exactly one [1..1] @extension="2022-04-01" (CONF:4523-30542).</sch:assert>
      <sch:assert id="a-4523-21145" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:low[@value]">This low SHALL contain exactly one [1..1] @value (CONF:4523-21145).</sch:assert>
      <sch:assert id="a-4523-23358-c" test="not(tested-here)">The value of the admission date SHALL NOT be earlier than January 1, 1986; SHALL NOT be earlier than the date of birth; and SHALL NOT be later than the event date (CONF:4523-23358).</sch:assert>
      <sch:assert id="a-4523-21149" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]">This id SHALL contain exactly one [1..1] @root (CONF:4523-21149).</sch:assert>
      <sch:assert id="a-4523-21141" test="cda:componentOf/cda:encompassingEncounter[count(cda:code)=1]">This encompassingEncounter SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNEncounterTypeCode urn:oid:2.16.840.1.113883.13.1 DYNAMIC (CONF:4523-21141).</sch:assert>
      <sch:assert id="a-4523-30794" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:4523-30794).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.31-2022-04-01-errors" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.31' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.31-2022-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.31-2022-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.31-2022-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4523-12523-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.31' and @extension = '2022-04-01') and not(@root = '2.16.840.1.113883.10.20.5.4.27' and @extension = '2022-04-01') and not(@root = '2.16.840.1.113883.10.20.5.4.27' and @extension = '2022-04-01') and not(@root = '2.16.840.1.113883.10.20.5.5.32' and @extension = '2020-04-01') and @root != '2.16.840.1.113883.10.20.5.4.26' and not(@root = '2.16.840.1.113883.10.20.5.6.188' and @extension = '2020-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.187' and @extension = '2020-04-01') and @root != '2.16.840.1.113883.10.20.22.4.49' and not(@root = '2.16.840.1.113883.10.20.5.6.266' and @extension = '2020-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.201' and @extension = '2020-04-01') and @root != '2.16.840.1.113883.10.20.5.6.190' and @root != '2.16.840.1.113883.10.20.22.4.1' and @root != '2.16.840.1.113883.10.20.5.6.189' and @root != '2.16.840.1.113883.10.20.22.4.2' and not(@root = '2.16.840.1.113883.10.20.5.6.177' and @extension = '2016-08-01') and not(@root = '2.16.840.1.113883.10.20.5.6.200' and @extension = '2016-08-01') and not(@root = '2.16.840.1.113883.10.20.5.6.186' and @extension = '2016-08-01') and @root != '2.16.840.1.113883.10.20.5.6.175' and not(@root = '2.16.840.1.113883.10.20.5.6.202' and @extension = '2020-04-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.31:2022-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.31-2022-04-01-errors-CL" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.31' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.31-2022-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.56-2022-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.56-2022-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.4.27-2022-04-01-errors-abstract" />
      <sch:assert id="a-4523-30619" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.4.2'])=1">SHALL contain exactly one [1..1] templateId (CONF:4523-30619) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.7.4.2" (CONF:4523-30632).</sch:assert>
      <sch:assert id="a-4523-30620" test="count(cda:componentOf)=1">SHALL contain exactly one [1..1] componentOf (CONF:4523-30620).</sch:assert>
      <sch:assert id="a-4523-30621" test="cda:componentOf[count(cda:encompassingEncounter)=1]">This componentOf SHALL contain exactly one [1..1] encompassingEncounter (CONF:4523-30621).</sch:assert>
      <sch:assert id="a-4523-30622" test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]">This encompassingEncounter SHALL contain exactly one [1..1] location (CONF:4523-30622).</sch:assert>
      <sch:assert id="a-4523-30623" test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]">This location SHALL contain exactly one [1..1] healthCareFacility (CONF:4523-30623).</sch:assert>
      <sch:assert id="a-4523-30624" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]">This healthCareFacility SHALL contain exactly one [1..1] id (CONF:4523-30624).</sch:assert>
      <sch:assert id="a-4523-30633" test="cda:componentOf/cda:encompassingEncounter[count(cda:code)=1]">This encompassingEncounter SHALL contain exactly one [1..1] code (CONF:4523-30633).</sch:assert>
      <sch:assert id="a-4523-30639" test="cda:componentOf/cda:encompassingEncounter[count(cda:effectiveTime)=1]">This encompassingEncounter SHALL contain exactly one [1..1] effectiveTime (CONF:4523-30639).</sch:assert>
      <sch:assert id="a-4523-30640" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime[count(cda:low)=1]">This effectiveTime SHALL contain exactly one [1..1] low (CONF:4523-30640).</sch:assert>
      <sch:assert id="a-4523-30625" test="count(cda:component)=1">SHALL contain exactly one [1..1] component (CONF:4523-30625).</sch:assert>
      <sch:assert id="a-4523-30626" test="cda:component[count(cda:structuredBody)=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:4523-30626).</sch:assert>
      <sch:assert id="a-4523-30627" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.67' and @extension='2019-04-01']])=1])=1]">This structuredBody SHALL contain exactly one [1..1] component (CONF:4523-30627) such that it SHALL contain exactly one [1..1] Procedure Details Section in an OPC Denominator for Procedure (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.5.67:2019-04-01) (CONF:4523-30628).</sch:assert>
      <sch:assert id="a-4523-30629" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.68' and @extension='2019-04-01']])=1])=1]">This structuredBody SHALL contain exactly one [1..1] component (CONF:4523-30629) such that it SHALL contain exactly one [1..1] Infection Risk Factors Section in an OPC Denominator for Procedure (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.5.68:2019-04-01) (CONF:4523-30630).</sch:assert>
      <sch:assert id="a-4523-30631" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.56'][@extension='2022-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4523-30631) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.56" (CONF:4523-30638). SHALL contain exactly one [1..1] @extension="2022-04-01" (CONF:4523-30641).</sch:assert>
      <sch:assert id="a-4523-30634" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]">This id SHALL contain exactly one [1..1] @root (CONF:4523-30634).</sch:assert>
      <sch:assert id="a-4523-30642" test="cda:componentOf/cda:encompassingEncounter/cda:code[@code='AMB']">This code SHALL contain exactly one [1..1] @code="AMB" Outpatient (CONF:4523-30642).</sch:assert>
      <sch:assert id="a-4523-30643" test="cda:componentOf/cda:encompassingEncounter/cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:4523-30643).</sch:assert>
      <sch:assert id="a-4523-30644" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:low[@value]">This low SHALL contain exactly one [1..1] @value (CONF:4523-30644).</sch:assert>
      <sch:assert id="a-4523-30713" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:4523-30713).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.56-2022-04-01-errors" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.56' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.56-2022-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.56-2022-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.56-2022-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4523-12524-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.56' and @extension = '2022-04-01') and not(@root = '2.16.840.1.113883.10.20.5.4.27' and @extension = '2022-04-01') and not(@root = '2.16.840.1.113883.10.20.5.4.27' and @extension = '2022-04-01') and not(@root = '2.16.840.1.113883.10.20.5.5.67' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.5.4.26' and not(@root = '2.16.840.1.113883.10.20.5.6.259' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.22.4.14' and @root != '2.16.840.1.113883.10.20.5.6.112' and @root != '2.16.840.1.113883.10.20.22.4.16' and not(@root = '2.16.840.1.113883.10.20.5.5.68' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.5.6.156' and @root != '2.16.840.1.113883.10.20.5.6.174' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.5.6.128' and @root != '2.16.840.1.113883.10.20.5.6.123' and @root != '2.16.840.1.113883.10.20.5.6.131' and @root != '2.16.840.1.113883.10.20.22.4.27' and @root != '2.16.840.1.113883.10.20.5.6.173' and @root != '2.16.840.1.113883.10.20.5.6.113' and not(@root = '2.16.840.1.113883.10.20.5.5.61' and @extension = '2017-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.243' and @extension = '2017-04-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.56:2022-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.56-2022-04-01-errors-CL" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.56' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.56-2022-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.32-2022-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.32-2022-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.4.27-2022-04-01-errors-abstract" />
      <sch:assert id="a-4523-28307" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.4.2'])=1">SHALL contain exactly one [1..1] templateId (CONF:4523-28307) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.7.4.2" (CONF:4523-28308).</sch:assert>
      <sch:assert id="a-4523-22462" test="count(cda:componentOf)=1">SHALL contain exactly one [1..1] componentOf (CONF:4523-22462).</sch:assert>
      <sch:assert id="a-4523-22463" test="cda:componentOf[count(cda:encompassingEncounter)=1]">This componentOf SHALL contain exactly one [1..1] encompassingEncounter (CONF:4523-22463).</sch:assert>
      <sch:assert id="a-4523-22464" test="cda:componentOf/cda:encompassingEncounter[count(cda:effectiveTime)=1]">This encompassingEncounter SHALL contain exactly one [1..1] effectiveTime (CONF:4523-22464).</sch:assert>
      <sch:assert id="a-4523-22465" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime[count(cda:low)=1]">This effectiveTime SHALL contain exactly one [1..1] low (CONF:4523-22465).</sch:assert>
      <sch:assert id="a-4523-22469" test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]">This encompassingEncounter SHALL contain exactly one [1..1] location (CONF:4523-22469).</sch:assert>
      <sch:assert id="a-4523-22470" test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]">This location SHALL contain exactly one [1..1] healthCareFacility (CONF:4523-22470).</sch:assert>
      <sch:assert id="a-4523-22471" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]">This healthCareFacility SHALL contain exactly one [1..1] id (CONF:4523-22471).</sch:assert>
      <sch:assert id="a-4523-22476" test="count(cda:component)=1">SHALL contain exactly one [1..1] component (CONF:4523-22476).</sch:assert>
      <sch:assert id="a-4523-22477" test="cda:component[count(cda:structuredBody)=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:4523-22477).</sch:assert>
      <sch:assert id="a-4523-22478" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.33' and @extension='2018-04-01']])=1])=1]">This structuredBody SHALL contain exactly one [1..1] component (CONF:4523-22478) such that it SHALL contain exactly one [1..1] Infection Risk Factors Section in a BSI Report (V3) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.5.33:2018-04-01) (CONF:4523-22479).</sch:assert>
      <sch:assert id="a-4523-22480" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.38']])=1])=1]">This structuredBody SHALL contain exactly one [1..1] component (CONF:4523-22480) such that it SHALL contain exactly one [1..1] Infection Details Section in a BSI Report (identifier: urn:oid:2.16.840.1.113883.10.20.5.5.38) (CONF:4523-22481).</sch:assert>
      <sch:assert id="a-4523-22482" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.45']])=1])=1]">This structuredBody SHALL contain exactly one [1..1] component (CONF:4523-22482) such that it SHALL contain exactly one [1..1] Findings Section in an Infection-Type Report (identifier: urn:oid:2.16.840.1.113883.10.20.5.5.45) (CONF:4523-22483).</sch:assert>
      <sch:assert id="a-4523-30866" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.80' and @extension='2021-01-01']])=1])=1]">This structuredBody SHALL contain exactly one [1..1] component (CONF:4523-30866) such that it SHALL contain exactly one [1..1] COVID-19 Section (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.5.80:2021-01-01) (CONF:4523-30867).</sch:assert>
      <sch:assert id="a-4523-22460" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.32'][@extension='2022-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4523-22460) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.32" (CONF:4523-22461). SHALL contain exactly one [1..1] @extension="2022-04-01" (CONF:4523-28432).</sch:assert>
      <sch:assert id="a-4523-22466" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:low[@value]">This low SHALL contain exactly one [1..1] @value (CONF:4523-22466).</sch:assert>
      <sch:assert id="a-4523-22468" test="not(cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:high) or cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:high[@value]">The high, if present, SHALL contain exactly one [1..1] @value (CONF:4523-22468).</sch:assert>
      <sch:assert id="a-4523-23359-c" test="not(tested-here)">The value of the admission date SHALL NOT be earlier than January 1, 1986; SHALL NOT be earlier than the date of birth; and SHALL NOT be later than the event date (CONF:4523-23359).</sch:assert>
      <sch:assert id="a-4523-22472" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]">This id SHALL contain exactly one [1..1] @root (CONF:4523-22472).</sch:assert>
      <sch:assert id="a-4523-22473" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@extension]">This id SHALL contain exactly one [1..1] @extension (CONF:4523-22473).</sch:assert>
      <sch:assert id="a-4523-22474" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:code)=1]">This healthCareFacility SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNHealthcareServiceLocationCode urn:oid:2.16.840.1.113883.13.19 DYNAMIC (CONF:4523-22474).</sch:assert>
      <sch:assert id="a-4523-30865" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:4523-30865).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.32-2022-04-01-errors" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.32' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.32-2022-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.32-2022-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.32-2022-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4523-12525-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.32' and @extension = '2022-04-01') and not(@root = '2.16.840.1.113883.10.20.5.4.27' and @extension = '2022-04-01') and not(@root = '2.16.840.1.113883.10.20.5.4.27' and @extension = '2022-04-01') and not(@root = '2.16.840.1.113883.10.20.5.5.33' and @extension = '2018-04-01') and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.6.138' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.5.6.122' and @root != '2.16.840.1.113883.10.20.22.4.14' and @root != '2.16.840.1.113883.10.20.5.6.137' and @root != '2.16.840.1.113883.10.20.22.4.27' and not(@root = '2.16.840.1.113883.10.20.5.6.245' and @extension = '2017-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.247' and @extension = '2017-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.246' and @extension = '2017-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.250' and @extension = '2018-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.252' and @extension = '2018-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.251' and @extension = '2018-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.253' and @extension = '2018-04-01') and @root != '2.16.840.1.113883.10.20.5.5.38' and @root != '2.16.840.1.113883.10.20.5.6.139' and @root != '2.16.840.1.113883.10.20.5.6.180' and @root != '2.16.840.1.113883.10.20.5.6.119' and @root != '2.16.840.1.113883.10.20.22.4.19' and @root != '2.16.840.1.113883.10.20.5.6.135' and @root != '2.16.840.1.113883.10.20.5.6.160' and @root != '2.16.840.1.113883.10.20.5.6.114' and @root != '2.16.840.1.113883.10.20.5.6.144' and @root != '2.16.840.1.113883.10.20.5.6.120' and @root != '2.16.840.1.113883.10.20.22.4.79' and @root != '2.16.840.1.113883.10.20.5.6.136' and @root != '2.16.840.1.113883.10.20.5.6.150' and @root != '2.16.840.1.113883.10.20.5.6.154' and @root != '2.16.840.1.113883.10.20.5.5.45' and @root != '2.16.840.1.113883.10.20.5.6.182' and @root != '2.16.840.1.113883.10.20.5.6.145' and @root != '2.16.840.1.113883.10.20.22.4.2' and @root != '2.16.840.1.113883.10.20.5.6.147' and @root != '2.16.840.1.113883.10.20.5.6.126' and @root != '2.16.840.1.113883.10.20.5.6.142' and not(@root = '2.16.840.1.113883.10.20.5.5.61' and @extension = '2017-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.243' and @extension = '2017-04-01') and not(@root = '2.16.840.1.113883.10.20.5.5.80' and @extension = '2021-01-01') and not(@root = '2.16.840.1.113883.10.20.5.6.270' and @extension = '2021-01-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.32:2022-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.32-2022-04-01-errors-CL" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.32' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.32-2022-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.36-2022-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.36-2022-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.4.27-2022-04-01-errors-abstract" />
      <sch:assert id="a-4523-30543" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.4.2'])=1">SHALL contain exactly one [1..1] templateId (CONF:4523-30543) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.7.4.2" (CONF:4523-30544).</sch:assert>
      <sch:assert id="a-4523-22555" test="count(cda:componentOf)=1">SHALL contain exactly one [1..1] componentOf (CONF:4523-22555).</sch:assert>
      <sch:assert id="a-4523-22556" test="cda:componentOf[count(cda:encompassingEncounter)=1]">This componentOf SHALL contain exactly one [1..1] encompassingEncounter (CONF:4523-22556).</sch:assert>
      <sch:assert id="a-4523-22557" test="cda:componentOf/cda:encompassingEncounter[count(cda:effectiveTime)=1]">This encompassingEncounter SHALL contain exactly one [1..1] effectiveTime (CONF:4523-22557).</sch:assert>
      <sch:assert id="a-4523-22558" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime[count(cda:low)=1]">This effectiveTime SHALL contain exactly one [1..1] low (CONF:4523-22558).</sch:assert>
      <sch:assert id="a-4523-22560" test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]">This encompassingEncounter SHALL contain exactly one [1..1] location (CONF:4523-22560).</sch:assert>
      <sch:assert id="a-4523-22561" test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]">This location SHALL contain exactly one [1..1] healthCareFacility (CONF:4523-22561).</sch:assert>
      <sch:assert id="a-4523-22562" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]">This healthCareFacility SHALL contain exactly one [1..1] id (CONF:4523-22562).</sch:assert>
      <sch:assert id="a-4523-22567" test="count(cda:component)=1">SHALL contain exactly one [1..1] component (CONF:4523-22567).</sch:assert>
      <sch:assert id="a-4523-22568" test="cda:component[count(cda:structuredBody)=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:4523-22568).</sch:assert>
      <sch:assert id="a-4523-22569" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.34' and @extension='2014-12-01']])=1])=1]">This structuredBody SHALL contain exactly one [1..1] component (CONF:4523-22569) such that it SHALL contain exactly one [1..1] Infection Risk Factors Section in a CLIP Report (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.5.34:2014-12-01) (CONF:4523-30424).</sch:assert>
      <sch:assert id="a-4523-22571" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.42']])=1])=1]">This structuredBody SHALL contain exactly one [1..1] component (CONF:4523-22571) such that it SHALL contain exactly one [1..1] Procedure Details Section in a CLIP Report (identifier: urn:oid:2.16.840.1.113883.10.20.5.5.42) (CONF:4523-22572).</sch:assert>
      <sch:assert id="a-4523-22553" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.36'][@extension='2022-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4523-22553) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.36" (CONF:4523-22554). SHALL contain exactly one [1..1] @extension="2022-04-01" (CONF:4523-30284).</sch:assert>
      <sch:assert id="a-4523-22559" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:low[count(self::node()[@nullFlavor='NI'])=1]">This low SHALL contain exactly one [1..1] @nullFlavor="NI" No information (CodeSystem: HL7NullFlavor urn:oid:2.16.840.1.113883.5.1008 STATIC) (CONF:4523-22559).</sch:assert>
      <sch:assert id="a-4523-22563" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]">This id SHALL contain exactly one [1..1] @root (CONF:4523-22563).</sch:assert>
      <sch:assert id="a-4523-22564" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@extension]">This id SHALL contain exactly one [1..1] @extension (CONF:4523-22564).</sch:assert>
      <sch:assert id="a-4523-22565" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:code)=1]">This healthCareFacility SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNHealthcareServiceLocationCode urn:oid:2.16.840.1.113883.13.19 DYNAMIC (CONF:4523-22565).</sch:assert>
      <sch:assert id="a-4523-30609" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:4523-30609).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.36-2022-04-01-errors" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.36' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.36-2022-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.36-2022-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.36-2022-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4523-12526-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.36' and @extension = '2022-04-01') and not(@root = '2.16.840.1.113883.10.20.5.4.27' and @extension = '2022-04-01') and not(@root = '2.16.840.1.113883.10.20.5.4.27' and @extension = '2022-04-01') and not(@root = '2.16.840.1.113883.10.20.5.5.34' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.5.4.26' and not(@root = '2.16.840.1.113883.10.20.5.6.116' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.22.4.12' and not(@root = '2.16.840.1.113883.10.20.5.6.179' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.5.6.130' and @root != '2.16.840.1.113883.10.20.22.4.14' and not(@root = '2.16.840.1.113883.10.20.5.6.183' and @extension = '2014-12-01') and not(@root = '2.16.840.1.113883.10.20.5.6.162' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.22.4.16' and not(@root = '2.16.840.1.113883.10.20.5.6.118' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.22.4.19' and not(@root = '2.16.840.1.113883.10.20.5.6.216' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.5.6.167' and @root != '2.16.840.1.113883.10.20.5.6.163' and @root != '2.16.840.1.113883.10.20.22.4.4' and not(@root = '2.16.840.1.113883.10.20.5.6.217' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.5.5.42' and @root != '2.16.840.1.113883.10.20.5.6.155' and @root != '2.16.840.1.113883.10.20.5.6.159' and @root != '2.16.840.1.113883.10.20.5.6.158' and @root != '2.16.840.1.113883.10.20.5.6.129' and @root != '2.16.840.1.113883.10.20.5.6.148'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.36:2022-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.36-2022-04-01-errors-CL" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.36' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.36-2022-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.37-2022-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.37-2022-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.4.27-2022-04-01-errors-abstract" />
      <sch:assert id="a-4523-30674" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.4.2'])=1">SHALL contain exactly one [1..1] templateId (CONF:4523-30674) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.7.4.2" (CONF:4523-30675).</sch:assert>
      <sch:assert id="a-4523-22575" test="count(cda:componentOf)=1">SHALL contain exactly one [1..1] componentOf (CONF:4523-22575).</sch:assert>
      <sch:assert id="a-4523-22576" test="cda:componentOf[count(cda:encompassingEncounter)=1]">This componentOf SHALL contain exactly one [1..1] encompassingEncounter (CONF:4523-22576).</sch:assert>
      <sch:assert id="a-4523-22577" test="cda:componentOf/cda:encompassingEncounter[count(cda:code)=1]">This encompassingEncounter SHALL contain exactly one [1..1] code (CONF:4523-22577).</sch:assert>
      <sch:assert id="a-4523-22579" test="cda:componentOf/cda:encompassingEncounter[count(cda:effectiveTime)=1]">This encompassingEncounter SHALL contain exactly one [1..1] effectiveTime (CONF:4523-22579).</sch:assert>
      <sch:assert id="a-4523-22580" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime[count(cda:low)=1]">This effectiveTime SHALL contain exactly one [1..1] low (CONF:4523-22580).</sch:assert>
      <sch:assert id="a-4523-22582" test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]">This encompassingEncounter SHALL contain exactly one [1..1] location (CONF:4523-22582).</sch:assert>
      <sch:assert id="a-4523-22583" test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]">This location SHALL contain exactly one [1..1] healthCareFacility (CONF:4523-22583).</sch:assert>
      <sch:assert id="a-4523-22584" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]">This healthCareFacility SHALL contain exactly one [1..1] id (CONF:4523-22584).</sch:assert>
      <sch:assert id="a-4523-22589" test="count(cda:component)=1">SHALL contain exactly one [1..1] component (CONF:4523-22589).</sch:assert>
      <sch:assert id="a-4523-22590" test="cda:component[count(cda:structuredBody)=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:4523-22590).</sch:assert>
      <sch:assert id="a-4523-22591" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.37' and @extension='2022-04-01']])=1])=1]">This structuredBody SHALL contain exactly one [1..1] component (CONF:4523-22591) such that it SHALL contain exactly one [1..1] Risk Factors Section in an Evidence of Infection (Dialysis) Report (V3) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.5.37:2022-04-01) (CONF:4523-22592).</sch:assert>
      <sch:assert id="a-4523-22593" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.41' and @extension='2019-04-01']])=1])=1]">This structuredBody SHALL contain exactly one [1..1] component (CONF:4523-22593) such that it SHALL contain exactly one [1..1] Details Section in an Evidence of Infection (Dialysis) Report (V6) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.5.41:2019-04-01) (CONF:4523-30253).</sch:assert>
      <sch:assert id="a-4523-22573" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.37'][@extension='2022-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4523-22573) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.37" (CONF:4523-30254). SHALL contain exactly one [1..1] @extension="2022-04-01" (CONF:4523-30285).</sch:assert>
      <sch:assert id="a-4523-22578" test="cda:componentOf/cda:encompassingEncounter/cda:code[@code='AMB' and @codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @code="AMB" Ambulatory (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4 STATIC) (CONF:4523-22578).</sch:assert>
      <sch:assert id="a-4523-22581" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:low[@nullFlavor='NA']">This low SHALL contain exactly one [1..1] @nullFlavor="NA" (CodeSystem: HL7NullFlavor urn:oid:2.16.840.1.113883.5.1008 STATIC) (CONF:4523-22581).</sch:assert>
      <sch:assert id="a-4523-22585" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]">This id SHALL contain exactly one [1..1] @root (CONF:4523-22585).</sch:assert>
      <sch:assert id="a-4523-22586" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@extension]">This id SHALL contain exactly one [1..1] @extension (CONF:4523-22586).</sch:assert>
      <sch:assert id="a-4523-22587" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:code)=1]">This healthCareFacility SHALL contain exactly one [1..1] code (ValueSet: NHSNHealthcareServiceLocationCode urn:oid:2.16.840.1.113883.13.19 DYNAMIC) (CONF:4523-22587).</sch:assert>
      <sch:assert id="a-4523-30984-c" test="(//cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.149'][@negationInd='false'] and cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.45']])=1])=1]) or (//cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.149'][@negationInd='true'] and cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.45']])=1])=0])">If a positive blood culture was obtained (Positive Blood Culture Observation/@negationInd="false") the component containing Findings Section in an Infection-Type Report **SHALL** be present (CONF:4523-30984).</sch:assert>
      <sch:assert id="a-4523-30983" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:4523-30983).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.37-2022-04-01-errors" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.37' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.37-2022-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.37-2022-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.37-2022-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4523-12527-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.37' and @extension = '2022-04-01') and not(@root = '2.16.840.1.113883.10.20.5.4.27' and @extension = '2022-04-01') and not(@root = '2.16.840.1.113883.10.20.5.4.27' and @extension = '2022-04-01') and not(@root = '2.16.840.1.113883.10.20.5.5.37' and @extension = '2022-04-01') and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.6.125' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.5.6.169' and @root != '2.16.840.1.113883.10.20.5.6.172' and @root != '2.16.840.1.113883.10.20.5.6.115' and @root != '2.16.840.1.113883.10.20.22.4.13' and not(@root = '2.16.840.1.113883.10.20.5.5.41' and @extension = '2019-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.181' and @extension = '2019-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.157' and @extension = '2019-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.140' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.22.4.16' and not(@root = '2.16.840.1.113883.10.20.5.6.230' and @extension = '2015-10-01') and not(@root = '2.16.840.1.113883.10.20.5.6.239' and @extension = '2016-08-01') and @root != '2.16.840.1.113883.10.20.5.6.141' and not(@root = '2.16.840.1.113883.10.20.5.6.149' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.5.6.168' and @root != '2.16.840.1.113883.10.20.5.6.134' and not(@root = '2.16.840.1.113883.10.20.5.6.219' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.5.6.180' and @root != '2.16.840.1.113883.10.20.5.6.119' and @root != '2.16.840.1.113883.10.20.22.4.19' and @root != '2.16.840.1.113883.10.20.5.6.133' and @root != '2.16.840.1.113883.10.20.5.6.121' and @root != '2.16.840.1.113883.10.20.22.4.79' and @root != '2.16.840.1.113883.10.20.5.6.124' and @root != '2.16.840.1.113883.10.20.5.6.203' and @root != '2.16.840.1.113883.10.20.5.5.45' and @root != '2.16.840.1.113883.10.20.5.6.182' and @root != '2.16.840.1.113883.10.20.5.6.145' and @root != '2.16.840.1.113883.10.20.22.4.2' and @root != '2.16.840.1.113883.10.20.5.6.147' and @root != '2.16.840.1.113883.10.20.5.6.126' and @root != '2.16.840.1.113883.10.20.5.6.142'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.37:2022-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.37-2022-04-01-errors-CL" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.37' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.37-2022-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.38-2022-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.38-2022-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.4.27-2022-04-01-errors-abstract" />
      <sch:assert id="a-4523-30547" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.4.2'])=1">SHALL contain exactly one [1..1] templateId (CONF:4523-30547) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.7.4.2" (CONF:4523-30548).</sch:assert>
      <sch:assert id="a-4523-22599" test="count(cda:componentOf)=1">SHALL contain exactly one [1..1] componentOf (CONF:4523-22599).</sch:assert>
      <sch:assert id="a-4523-22600" test="cda:componentOf[count(cda:encompassingEncounter)=1]">This componentOf SHALL contain exactly one [1..1] encompassingEncounter (CONF:4523-22600).</sch:assert>
      <sch:assert id="a-4523-22603" test="cda:componentOf/cda:encompassingEncounter[count(cda:effectiveTime)=1]">This encompassingEncounter SHALL contain exactly one [1..1] effectiveTime (CONF:4523-22603).</sch:assert>
      <sch:assert id="a-4523-22604" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime[count(cda:low)=1]">This effectiveTime SHALL contain exactly one [1..1] low (CONF:4523-22604).</sch:assert>
      <sch:assert id="a-4523-22606" test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]">This encompassingEncounter SHALL contain exactly one [1..1] location (CONF:4523-22606).</sch:assert>
      <sch:assert id="a-4523-22607" test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]">This location SHALL contain exactly one [1..1] healthCareFacility (CONF:4523-22607).</sch:assert>
      <sch:assert id="a-4523-22608" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]">This healthCareFacility SHALL contain exactly one [1..1] id (CONF:4523-22608).</sch:assert>
      <sch:assert id="a-4523-22610" test="count(cda:component)=1">SHALL contain exactly one [1..1] component (CONF:4523-22610).</sch:assert>
      <sch:assert id="a-4523-22611" test="cda:component[count(cda:structuredBody)=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:4523-22611).</sch:assert>
      <sch:assert id="a-4523-22612" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.46' and @extension='2014-12-01']])=1])=1]">This structuredBody SHALL contain exactly one [1..1] component (CONF:4523-22612) such that it SHALL contain exactly one [1..1] Findings Section in a LIO Report (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.5.46:2014-12-01) (CONF:4523-30420).</sch:assert>
      <sch:assert id="a-4523-22614" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.44' and @extension='2014-12-01']])=1])=1]">This structuredBody SHALL contain exactly one [1..1] component (CONF:4523-22614) such that it SHALL contain exactly one [1..1] Encounters Section in a LIO Report (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.5.44:2014-12-01) (CONF:4523-30421).</sch:assert>
      <sch:assert id="a-4523-22597" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.38'][@extension='2022-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4523-22597) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.38" (CONF:4523-22598). SHALL contain exactly one [1..1] @extension="2022-04-01" (CONF:4523-30286).</sch:assert>
      <sch:assert id="a-4523-23306-c" test="not(tested-here)">If encounter type is IMP, effectiveTime/low/@value is required; if encounter type is AMB, effectiveTime/low/@value is required (use (copy) Date Specimen Collected) (CONF:4523-23306).</sch:assert>
      <sch:assert id="a-4523-23360-c" test="not(tested-here)">The value of the admission date SHALL NOT be earlier than January 1, 1986; SHALL NOT be earlier than the date of birth; and SHALL NOT be later than the event date (CONF:4523-23360).</sch:assert>
      <sch:assert id="a-4523-22609" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]">This id SHALL contain exactly one [1..1] @root (CONF:4523-22609).</sch:assert>
      <sch:assert id="a-4523-22601" test="cda:componentOf/cda:encompassingEncounter[count(cda:code)=1]">This encompassingEncounter SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNEncounterTypeCode urn:oid:2.16.840.1.113883.13.1 DYNAMIC (CONF:4523-22601).</sch:assert>
      <sch:assert id="a-4523-30610" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:4523-30610).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.38-2022-04-01-errors" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.38' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.38-2022-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.38-2022-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.38-2022-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4523-12528-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.38' and @extension = '2022-04-01') and not(@root = '2.16.840.1.113883.10.20.5.4.27' and @extension = '2022-04-01') and not(@root = '2.16.840.1.113883.10.20.5.4.27' and @extension = '2022-04-01') and not(@root = '2.16.840.1.113883.10.20.5.5.46' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.5.4.26' and not(@root = '2.16.840.1.113883.10.20.5.6.146' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.22.4.2' and @root != '2.16.840.1.113883.10.20.5.6.165' and @root != '2.16.840.1.113883.10.20.5.6.164' and @root != '2.16.840.1.113883.10.20.22.4.49' and not(@root = '2.16.840.1.113883.10.20.5.6.222' and @extension = '2014-12-01') and not(@root = '2.16.840.1.113883.10.20.5.6.223' and @extension = '2014-12-01') and @root != '2.16.840.1.113883.10.20.22.4.1' and not(@root = '2.16.840.1.113883.10.20.5.6.224' and @extension = '2014-12-01') and not(@root = '2.16.840.1.113883.10.20.5.6.225' and @extension = '2014-12-01') and not(@root = '2.16.840.1.113883.10.20.5.6.226' and @extension = '2014-12-01') and not(@root = '2.16.840.1.113883.10.20.5.5.44' and @extension = '2014-12-01') and not(@root = '2.16.840.1.113883.10.20.5.6.151' and @extension = '2014-12-01') and not(@root = '2.16.840.1.113883.10.20.5.6.228' and @extension = '2014-12-01') and not(@root = '2.16.840.1.113883.10.20.5.6.218' and @extension = '2014-12-01') and not(@root = '2.16.840.1.113883.10.20.5.6.227' and @extension = '2014-12-01') and not(@root = '2.16.840.1.113883.10.20.5.6.220' and @extension = '2014-12-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.38:2022-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.38-2022-04-01-errors-CL" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.38' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.38-2022-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.33.2-2022-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.33.2-2022-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.4.27-2022-04-01-errors-abstract" />
      <sch:assert id="a-4523-30311" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.4.2'])=1">SHALL contain exactly one [1..1] templateId (CONF:4523-30311) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.7.4.2" (CONF:4523-30312).</sch:assert>
      <sch:assert id="a-4523-22486" test="count(cda:componentOf)=1">SHALL contain exactly one [1..1] componentOf (CONF:4523-22486).</sch:assert>
      <sch:assert id="a-4523-22487" test="cda:componentOf[count(cda:encompassingEncounter)=1]">This componentOf SHALL contain exactly one [1..1] encompassingEncounter (CONF:4523-22487).</sch:assert>
      <sch:assert id="a-4523-22490" test="cda:componentOf/cda:encompassingEncounter[count(cda:effectiveTime)=1]">This encompassingEncounter SHALL contain exactly one [1..1] effectiveTime (CONF:4523-22490).</sch:assert>
      <sch:assert id="a-4523-27762" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime[count(cda:low)=1]">This effectiveTime SHALL contain exactly one [1..1] low (CONF:4523-27762).</sch:assert>
      <sch:assert id="a-4523-22493" test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]">This encompassingEncounter SHALL contain exactly one [1..1] location (CONF:4523-22493).</sch:assert>
      <sch:assert id="a-4523-22494" test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]">This location SHALL contain exactly one [1..1] healthCareFacility (CONF:4523-22494).</sch:assert>
      <sch:assert id="a-4523-22495" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]">This healthCareFacility SHALL contain exactly one [1..1] id (CONF:4523-22495).</sch:assert>
      <sch:assert id="a-4523-22501" test="count(cda:component)=1">SHALL contain exactly one [1..1] component (CONF:4523-22501).</sch:assert>
      <sch:assert id="a-4523-22502" test="cda:component[count(cda:structuredBody)=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:4523-22502).</sch:assert>
      <sch:assert id="a-4523-22503" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.39.2']])=1])=1]">This structuredBody SHALL contain exactly one [1..1] component (CONF:4523-22503) such that it SHALL contain exactly one [1..1] Infection Details Section in an SSI Report (V2) (identifier: urn:oid:2.16.840.1.113883.10.20.5.5.39.2) (CONF:4523-22504).</sch:assert>
      <sch:assert id="a-4523-22505" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.45']])=1])=1]">This structuredBody SHALL contain exactly one [1..1] component (CONF:4523-22505) such that it SHALL contain exactly one [1..1] Findings Section in an Infection-Type Report (identifier: urn:oid:2.16.840.1.113883.10.20.5.5.45) (CONF:4523-22506).</sch:assert>
      <sch:assert id="a-4523-30869" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.80' and @extension='2021-01-01']])=1])=1]">This structuredBody SHALL contain exactly one [1..1] component (CONF:4523-30869) such that it SHALL contain exactly one [1..1] COVID-19 Section (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.5.80:2021-01-01) (CONF:4523-30870).</sch:assert>
      <sch:assert id="a-4523-22484" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.33.2'][@extension='2022-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4523-22484) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.33.2" (CONF:4523-30276). SHALL contain zero or one [0..1] @extension="2022-04-01" (CONF:4523-30868).</sch:assert>
      <sch:assert id="a-4523-27763" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:low[@value]">This low SHALL contain exactly one [1..1] @value (CONF:4523-27763).</sch:assert>
      <sch:assert id="a-4523-22492" test="not(cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:high) or cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:high[@value]">The high, if present, SHALL contain exactly one [1..1] @value (CONF:4523-22492).</sch:assert>
      <sch:assert id="a-4523-22496" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]">This id SHALL contain exactly one [1..1] @root (CONF:4523-22496).</sch:assert>
      <sch:assert id="a-4523-22488" test="cda:componentOf/cda:encompassingEncounter[count(cda:code)=1]">This encompassingEncounter SHALL contain exactly one [1..1] code (ValueSet: NHSNEncounterTypeCode urn:oid:2.16.840.1.113883.13.1 DYNAMIC) (CONF:4523-22488).</sch:assert>
      <sch:assert id="a-4523-30316" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:4523-30316).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.33.2-2022-04-01-errors" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.33.2' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.33.2-2022-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.33.2-2022-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.33.2-2022-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4523-12529-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.33.2' and @extension = '2022-04-01') and not(@root = '2.16.840.1.113883.10.20.5.4.27' and @extension = '2022-04-01') and not(@root = '2.16.840.1.113883.10.20.5.4.27' and @extension = '2022-04-01') and @root != '2.16.840.1.113883.10.20.5.5.39.2' and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.6.139' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.5.6.180' and @root != '2.16.840.1.113883.10.20.5.6.119' and @root != '2.16.840.1.113883.10.20.22.4.19' and @root != '2.16.840.1.113883.10.20.5.6.135' and @root != '2.16.840.1.113883.10.20.5.6.160' and @root != '2.16.840.1.113883.10.20.5.6.114' and @root != '2.16.840.1.113883.10.20.5.6.144' and @root != '2.16.840.1.113883.10.20.5.6.120' and @root != '2.16.840.1.113883.10.20.22.4.79' and @root != '2.16.840.1.113883.10.20.5.6.136' and @root != '2.16.840.1.113883.10.20.5.6.205' and @root != '2.16.840.1.113883.10.20.5.6.206' and @root != '2.16.840.1.113883.10.20.5.6.154' and @root != '2.16.840.1.113883.10.20.22.4.14' and @root != '2.16.840.1.113883.10.20.5.5.45' and @root != '2.16.840.1.113883.10.20.5.6.182' and @root != '2.16.840.1.113883.10.20.5.6.145' and @root != '2.16.840.1.113883.10.20.22.4.2' and @root != '2.16.840.1.113883.10.20.5.6.147' and @root != '2.16.840.1.113883.10.20.5.6.126' and @root != '2.16.840.1.113883.10.20.5.6.142' and not(@root = '2.16.840.1.113883.10.20.5.5.80' and @extension = '2021-01-01') and not(@root = '2.16.840.1.113883.10.20.5.6.270' and @extension = '2021-01-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.33.2:2022-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.33.2-2022-04-01-errors-CL" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.33.2' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.33.2-2022-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.34-2022-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.34-2022-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.4.27-2022-04-01-errors-abstract" />
      <sch:assert id="a-4523-28319" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.4.2'])=1">SHALL contain exactly one [1..1] templateId (CONF:4523-28319) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.7.4.2" (CONF:4523-28320).</sch:assert>
      <sch:assert id="a-4523-22509" test="count(cda:componentOf)=1">SHALL contain exactly one [1..1] componentOf (CONF:4523-22509).</sch:assert>
      <sch:assert id="a-4523-22510" test="cda:componentOf[count(cda:encompassingEncounter)=1]">This componentOf SHALL contain exactly one [1..1] encompassingEncounter (CONF:4523-22510).</sch:assert>
      <sch:assert id="a-4523-22511" test="cda:componentOf/cda:encompassingEncounter[count(cda:effectiveTime)=1]">This encompassingEncounter SHALL contain exactly one [1..1] effectiveTime (CONF:4523-22511).</sch:assert>
      <sch:assert id="a-4523-22512" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime[count(cda:low)=1]">This effectiveTime SHALL contain exactly one [1..1] low (CONF:4523-22512).</sch:assert>
      <sch:assert id="a-4523-22516" test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]">This encompassingEncounter SHALL contain exactly one [1..1] location (CONF:4523-22516).</sch:assert>
      <sch:assert id="a-4523-22517" test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]">This location SHALL contain exactly one [1..1] healthCareFacility (CONF:4523-22517).</sch:assert>
      <sch:assert id="a-4523-22518" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]">This healthCareFacility SHALL contain exactly one [1..1] id (CONF:4523-22518).</sch:assert>
      <sch:assert id="a-4523-22523" test="count(cda:component)=1">SHALL contain exactly one [1..1] component (CONF:4523-22523).</sch:assert>
      <sch:assert id="a-4523-22524" test="cda:component[count(cda:structuredBody)=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:4523-22524).</sch:assert>
      <sch:assert id="a-4523-22525" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.36']])=1])=1]">This structuredBody SHALL contain exactly one [1..1] component (CONF:4523-22525) such that it SHALL contain exactly one [1..1] Infection Risk Factors Section in a UTI Report (identifier: urn:oid:2.16.840.1.113883.10.20.5.5.36) (CONF:4523-22526).</sch:assert>
      <sch:assert id="a-4523-22527" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.40']])=1])=1]">This structuredBody SHALL contain exactly one [1..1] component (CONF:4523-22527) such that it SHALL contain exactly one [1..1] Infection Details Section in a UTI Report (identifier: urn:oid:2.16.840.1.113883.10.20.5.5.40) (CONF:4523-22528).</sch:assert>
      <sch:assert id="a-4523-22529" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.45']])=1])=1]">This structuredBody SHALL contain exactly one [1..1] component (CONF:4523-22529) such that it SHALL contain exactly one [1..1] Findings Section in an Infection-Type Report (identifier: urn:oid:2.16.840.1.113883.10.20.5.5.45) (CONF:4523-22530).</sch:assert>
      <sch:assert id="a-4523-30871" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.80' and @extension='2021-01-01']])=1])=1]">This structuredBody SHALL contain exactly one [1..1] component (CONF:4523-30871) such that it SHALL contain exactly one [1..1] COVID-19 Section (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.5.80:2021-01-01) (CONF:4523-30872).</sch:assert>
      <sch:assert id="a-4523-22507" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.34'][@extension='2022-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4523-22507) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.34" (CONF:4523-27433). SHALL contain exactly one [1..1] @extension="2022-04-01" (CONF:4523-30873).</sch:assert>
      <sch:assert id="a-4523-22513" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:low[@value]">This low SHALL contain exactly one [1..1] @value (CONF:4523-22513).</sch:assert>
      <sch:assert id="a-4523-22515" test="not(cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:high) or cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:high[@value]">The high, if present, SHALL contain exactly one [1..1] @value (CONF:4523-22515).</sch:assert>
      <sch:assert id="a-4523-23362-c" test="not(tested-here)">The value of the admission date SHALL NOT be earlier than January 1, 1986; SHALL NOT be earlier than the date of birth; and SHALL NOT be later than the event date (CONF:4523-23362).</sch:assert>
      <sch:assert id="a-4523-22519" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]">This id SHALL contain exactly one [1..1] @root (CONF:4523-22519).</sch:assert>
      <sch:assert id="a-4523-22520" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@extension]">This id SHALL contain exactly one [1..1] @extension (CONF:4523-22520).</sch:assert>
      <sch:assert id="a-4523-22521" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:code)=1]">This healthCareFacility SHALL contain exactly one [1..1] code (ValueSet: NHSNHealthcareServiceLocationCode urn:oid:2.16.840.1.113883.13.19 DYNAMIC) (CONF:4523-22521).</sch:assert>
      <sch:assert id="a-4523-28408" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:4523-28408).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.34-2022-04-01-errors" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.34' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.34-2022-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.34-2022-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.34-2022-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4523-12530-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.34' and @extension = '2022-04-01') and not(@root = '2.16.840.1.113883.10.20.5.4.27' and @extension = '2022-04-01') and not(@root = '2.16.840.1.113883.10.20.5.4.27' and @extension = '2022-04-01') and @root != '2.16.840.1.113883.10.20.5.5.36' and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.6.171' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.5.6.122' and @root != '2.16.840.1.113883.10.20.22.4.14' and @root != '2.16.840.1.113883.10.20.5.6.132' and @root != '2.16.840.1.113883.10.20.5.5.40' and @root != '2.16.840.1.113883.10.20.5.6.139' and @root != '2.16.840.1.113883.10.20.5.6.180' and @root != '2.16.840.1.113883.10.20.5.6.119' and @root != '2.16.840.1.113883.10.20.22.4.19' and @root != '2.16.840.1.113883.10.20.5.6.135' and @root != '2.16.840.1.113883.10.20.5.6.160' and @root != '2.16.840.1.113883.10.20.5.6.114' and @root != '2.16.840.1.113883.10.20.5.6.144' and @root != '2.16.840.1.113883.10.20.5.6.150' and @root != '2.16.840.1.113883.10.20.5.6.154' and @root != '2.16.840.1.113883.10.20.5.6.120' and @root != '2.16.840.1.113883.10.20.22.4.79' and @root != '2.16.840.1.113883.10.20.5.6.136' and @root != '2.16.840.1.113883.10.20.5.5.45' and @root != '2.16.840.1.113883.10.20.5.6.182' and @root != '2.16.840.1.113883.10.20.5.6.145' and @root != '2.16.840.1.113883.10.20.22.4.2' and @root != '2.16.840.1.113883.10.20.5.6.147' and @root != '2.16.840.1.113883.10.20.5.6.126' and @root != '2.16.840.1.113883.10.20.5.6.142' and not(@root = '2.16.840.1.113883.10.20.5.5.80' and @extension = '2021-01-01') and not(@root = '2.16.840.1.113883.10.20.5.6.270' and @extension = '2021-01-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.34:2022-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.34-2022-04-01-errors-CL" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.34' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.34-2022-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.53-2022-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.53-2022-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.4.27-2022-04-01-errors-abstract" />
      <sch:assert id="a-4523-30728" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.4.2'])=1">SHALL contain exactly one [1..1] templateId (CONF:4523-30728) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.7.4.2" (CONF:4523-30745).</sch:assert>
      <sch:assert id="a-4523-30730" test="count(cda:componentOf)=1">SHALL contain exactly one [1..1] componentOf (CONF:4523-30730).</sch:assert>
      <sch:assert id="a-4523-30731" test="cda:componentOf[count(cda:encompassingEncounter)=1]">This componentOf SHALL contain exactly one [1..1] encompassingEncounter (CONF:4523-30731).</sch:assert>
      <sch:assert id="a-4523-30954" test="cda:componentOf/cda:encompassingEncounter[count(cda:effectiveTime)=1]">This encompassingEncounter SHALL contain exactly one [1..1] effectiveTime (CONF:4523-30954).</sch:assert>
      <sch:assert id="a-4523-30955" test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]">This encompassingEncounter SHALL contain exactly one [1..1] location (CONF:4523-30955).</sch:assert>
      <sch:assert id="a-4523-30956" test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]">This location SHALL contain exactly one [1..1] healthCareFacility (CONF:4523-30956).</sch:assert>
      <sch:assert id="a-4523-30957" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]">This healthCareFacility SHALL contain exactly one [1..1] id (CONF:4523-30957).</sch:assert>
      <sch:assert id="a-4523-30747" test="count(cda:component)=1">SHALL contain exactly one [1..1] component (CONF:4523-30747).</sch:assert>
      <sch:assert id="a-4523-30748" test="cda:component[count(cda:structuredBody)=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:4523-30748).</sch:assert>
      <sch:assert id="a-4523-30749" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.64' and @extension='2018-04-01']])=1])=1]">This structuredBody SHALL contain exactly one [1..1] component (CONF:4523-30749) such that it SHALL contain exactly one [1..1] Infection Details in Late Onset Sepsis Report (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.5.64:2018-04-01) (CONF:4523-30750).</sch:assert>
      <sch:assert id="a-4523-30751" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.65' and @extension='2019-04-01']])=1])=1]">This structuredBody SHALL contain exactly one [1..1] component (CONF:4523-30751) such that it SHALL contain exactly one [1..1] Risk Factors Section in a LOS/Men Event (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.5.65:2019-04-01) (CONF:4523-30752).</sch:assert>
      <sch:assert id="a-4523-30960" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.61' and @extension='2017-04-01']])=1])=1]">This structuredBody SHALL contain exactly one [1..1] component (CONF:4523-30960) such that it SHALL contain exactly one [1..1] NHSN Comment Section (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.5.61:2017-04-01) (CONF:4523-30961).</sch:assert>
      <sch:assert id="a-4523-30962" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.53'][@extension='2022-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4523-30962) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.53" (CONF:4523-30972). SHALL contain exactly one [1..1] @extension="2022-04-01" (CONF:4523-30973).</sch:assert>
      <sch:assert id="a-4523-30963" test="count(cda:recordTarget)=1">SHALL contain exactly one [1..1] recordTarget (CONF:4523-30963).</sch:assert>
      <sch:assert id="a-4523-30964" test="cda:recordTarget[count(cda:patientRole)=1]">This recordTarget SHALL contain exactly one [1..1] patientRole (CONF:4523-30964).</sch:assert>
      <sch:assert id="a-4523-30966" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime[count(cda:low)=1]">This effectiveTime SHALL contain exactly one [1..1] low (CONF:4523-30966).</sch:assert>
      <sch:assert id="a-4523-30968" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]">This id SHALL contain exactly one [1..1] @root (CONF:4523-30968).</sch:assert>
      <sch:assert id="a-4523-30969" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@extension]">This id SHALL contain exactly one [1..1] @extension (CONF:4523-30969).</sch:assert>
      <sch:assert id="a-4523-30970" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:code)=1]">This healthCareFacility SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNHealthcareServiceLocationCode urn:oid:2.16.840.1.113883.13.19 DYNAMIC (CONF:4523-30970).</sch:assert>
      <sch:assert id="a-4523-30729" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:4523-30729).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.53-2022-04-01-errors" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.53' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.53-2022-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.53-2022-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.53-2022-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4523-12531-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.53' and @extension = '2022-04-01') and not(@root = '2.16.840.1.113883.10.20.5.4.27' and @extension = '2022-04-01') and not(@root = '2.16.840.1.113883.10.20.5.4.27' and @extension = '2022-04-01') and not(@root = '2.16.840.1.113883.10.20.5.5.64' and @extension = '2018-04-01') and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.6.120' and @root != '2.16.840.1.113883.10.20.22.4.79' and @root != '2.16.840.1.113883.10.20.5.6.136' and @root != '2.16.840.1.113883.10.20.5.6.139' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.5.6.180' and @root != '2.16.840.1.113883.10.20.5.6.119' and @root != '2.16.840.1.113883.10.20.22.4.19' and @root != '2.16.840.1.113883.10.20.5.6.135' and @root != '2.16.840.1.113883.10.20.5.6.160' and @root != '2.16.840.1.113883.10.20.5.6.114' and @root != '2.16.840.1.113883.10.20.5.6.144' and not(@root = '2.16.840.1.113883.10.20.5.6.257' and @extension = '2018-04-01') and not(@root = '2.16.840.1.113883.10.20.5.5.65' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.5.6.137' and @root != '2.16.840.1.113883.10.20.22.4.27' and @root != '2.16.840.1.113883.10.20.5.6.138' and @root != '2.16.840.1.113883.10.20.5.6.122' and @root != '2.16.840.1.113883.10.20.22.4.14' and not(@root = '2.16.840.1.113883.10.20.5.6.255' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.5.5.45' and @root != '2.16.840.1.113883.10.20.5.6.182' and @root != '2.16.840.1.113883.10.20.5.6.145' and @root != '2.16.840.1.113883.10.20.22.4.2' and @root != '2.16.840.1.113883.10.20.5.6.147' and @root != '2.16.840.1.113883.10.20.5.6.126' and @root != '2.16.840.1.113883.10.20.5.6.142' and not(@root = '2.16.840.1.113883.10.20.5.5.61' and @extension = '2017-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.243' and @extension = '2017-04-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.53:2022-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.53-2022-04-01-errors-CL" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.53' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.53-2022-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.54-2022-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.54-2022-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.4.27-2022-04-01-errors-abstract" />
      <sch:assert id="a-4523-1" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.4.2'])=1">SHALL contain exactly one [1..1] templateId (CONF:4523-1) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.7.4.2" (CONF:4523-30992).</sch:assert>
      <sch:assert id="a-4523-2" test="count(cda:componentOf)=1">SHALL contain exactly one [1..1] componentOf (CONF:4523-2).</sch:assert>
      <sch:assert id="a-4523-30985" test="cda:componentOf[count(cda:encompassingEncounter)=1]">This componentOf SHALL contain exactly one [1..1] encompassingEncounter (CONF:4523-30985).</sch:assert>
      <sch:assert id="a-4523-30986" test="cda:componentOf/cda:encompassingEncounter[count(cda:effectiveTime)=1]">This encompassingEncounter SHALL contain exactly one [1..1] effectiveTime (CONF:4523-30986).</sch:assert>
      <sch:assert id="a-4523-5" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime[count(cda:low)=1]">This effectiveTime SHALL contain exactly one [1..1] low (CONF:4523-5).</sch:assert>
      <sch:assert id="a-4523-6" test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]">This encompassingEncounter SHALL contain exactly one [1..1] location (CONF:4523-6).</sch:assert>
      <sch:assert id="a-4523-7" test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]">This location SHALL contain exactly one [1..1] healthCareFacility (CONF:4523-7).</sch:assert>
      <sch:assert id="a-4523-8" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]">This healthCareFacility SHALL contain exactly one [1..1] id (CONF:4523-8).</sch:assert>
      <sch:assert id="a-4523-30988" test="count(cda:component)=1">SHALL contain exactly one [1..1] component (CONF:4523-30988).</sch:assert>
      <sch:assert id="a-4523-30989" test="cda:component[count(cda:structuredBody)=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:4523-30989).</sch:assert>
      <sch:assert id="a-4523-30990" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.66' and @extension='2019-04-01']])=1])=1]">This structuredBody SHALL contain exactly one [1..1] component (CONF:4523-30990) such that it SHALL contain exactly one [1..1] Same Day Outcome Measures Event Details Section (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.5.66:2019-04-01) (CONF:4523-13).</sch:assert>
      <sch:assert id="a-4523-30991" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.54'][@extension='2022-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4523-30991) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.54" (CONF:4523-26). SHALL contain exactly one [1..1] @extension="2022-04-01" (CONF:4523-27).</sch:assert>
      <sch:assert id="a-4523-30993" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:low[@value]">This low SHALL contain exactly one [1..1] @value (CONF:4523-30993).</sch:assert>
      <sch:assert id="a-4523-21" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]">This id SHALL contain exactly one [1..1] @root (CONF:4523-21).</sch:assert>
      <sch:assert id="a-4523-70" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:4523-70).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.54-2022-04-01-errors" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.54' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.54-2022-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.54-2022-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.54-2022-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4523-12532-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.54' and @extension = '2022-04-01') and not(@root = '2.16.840.1.113883.10.20.5.4.27' and @extension = '2022-04-01') and not(@root = '2.16.840.1.113883.10.20.5.4.27' and @extension = '2022-04-01') and not(@root = '2.16.840.1.113883.10.20.5.5.66' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.5.4.26' and not(@root = '2.16.840.1.113883.10.20.5.6.212' and @extension = '2019-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.208' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.22.4.4' and not(@root = '2.16.840.1.113883.10.20.5.5.61' and @extension = '2017-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.243' and @extension = '2017-04-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.54:2022-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.54-2022-04-01-errors-CL" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.54' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.54-2022-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.57-2022-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.57-2022-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.4.27-2022-04-01-errors-abstract" />
      <sch:assert id="a-4523-28" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.4.2'])=1">SHALL contain exactly one [1..1] templateId (CONF:4523-28) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.7.4.2" (CONF:4523-46).</sch:assert>
      <sch:assert id="a-4523-29" test="count(cda:componentOf)=1">SHALL contain exactly one [1..1] componentOf (CONF:4523-29).</sch:assert>
      <sch:assert id="a-4523-30" test="cda:componentOf[count(cda:encompassingEncounter)=1]">This componentOf SHALL contain exactly one [1..1] encompassingEncounter (CONF:4523-30).</sch:assert>
      <sch:assert id="a-4523-31" test="cda:componentOf/cda:encompassingEncounter[count(cda:effectiveTime)=1]">This encompassingEncounter SHALL contain exactly one [1..1] effectiveTime (CONF:4523-31).</sch:assert>
      <sch:assert id="a-4523-32" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime[count(cda:low)=1]">This effectiveTime SHALL contain exactly one [1..1] low (CONF:4523-32).</sch:assert>
      <sch:assert id="a-4523-33" test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]">This encompassingEncounter SHALL contain exactly one [1..1] location (CONF:4523-33).</sch:assert>
      <sch:assert id="a-4523-34" test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]">This location SHALL contain exactly one [1..1] healthCareFacility (CONF:4523-34).</sch:assert>
      <sch:assert id="a-4523-35" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]">This healthCareFacility SHALL contain exactly one [1..1] id (CONF:4523-35).</sch:assert>
      <sch:assert id="a-4523-37" test="count(cda:component)=1">SHALL contain exactly one [1..1] component (CONF:4523-37).</sch:assert>
      <sch:assert id="a-4523-38" test="cda:component[count(cda:structuredBody)=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:4523-38).</sch:assert>
      <sch:assert id="a-4523-39" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.69' and @extension='2019-04-01']])=1])=1]">This structuredBody SHALL contain exactly one [1..1] component (CONF:4523-39) such that it SHALL contain exactly one [1..1] Infection Details Section in an OPC SSI Report (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.5.69:2019-04-01) (CONF:4523-40).</sch:assert>
      <sch:assert id="a-4523-41" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.70' and @extension='2019-04-01']])=1])=1]">This structuredBody SHALL contain exactly one [1..1] component (CONF:4523-41) such that it SHALL contain exactly one [1..1] Findings Section in an OPC SSI Report (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.5.70:2019-04-01) (CONF:4523-42).</sch:assert>
      <sch:assert id="a-4523-45" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.57'][@extension='2022-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4523-45) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.57" (CONF:4523-53). SHALL contain exactly one [1..1] @extension="2022-04-01" (CONF:4523-54).</sch:assert>
      <sch:assert id="a-4523-47" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:low[@value]">This low SHALL contain exactly one [1..1] @value (CONF:4523-47).</sch:assert>
      <sch:assert id="a-4523-48" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]">This id SHALL contain exactly one [1..1] @root (CONF:4523-48).</sch:assert>
      <sch:assert id="a-4523-71" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:4523-71).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.57-2022-04-01-errors" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.57' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.57-2022-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.57-2022-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.57-2022-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4523-12533-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.57' and @extension = '2022-04-01') and not(@root = '2.16.840.1.113883.10.20.5.4.27' and @extension = '2022-04-01') and not(@root = '2.16.840.1.113883.10.20.5.4.27' and @extension = '2022-04-01') and not(@root = '2.16.840.1.113883.10.20.5.5.69' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.5.4.26' and not(@root = '2.16.840.1.113883.10.20.5.6.263' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.5.6.180' and @root != '2.16.840.1.113883.10.20.5.6.119' and @root != '2.16.840.1.113883.10.20.22.4.19' and @root != '2.16.840.1.113883.10.20.5.6.135' and not(@root = '2.16.840.1.113883.10.20.5.6.261' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.22.4.13' and not(@root = '2.16.840.1.113883.10.20.5.6.265' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.22.4.14' and not(@root = '2.16.840.1.113883.10.20.5.5.70' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.5.6.182' and @root != '2.16.840.1.113883.10.20.5.6.145' and @root != '2.16.840.1.113883.10.20.22.4.2' and @root != '2.16.840.1.113883.10.20.5.6.147' and @root != '2.16.840.1.113883.10.20.5.6.126' and not(@root = '2.16.840.1.113883.10.20.5.5.61' and @extension = '2017-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.243' and @extension = '2017-04-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.57:2022-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.57-2022-04-01-errors-CL" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.57' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.57-2022-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.51-2022-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.51-2022-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.4.27-2022-04-01-errors-abstract" />
      <sch:assert id="a-4523-97" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.4.2'])=1">SHALL contain exactly one [1..1] templateId (CONF:4523-97) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.7.4.2" (CONF:4523-113).</sch:assert>
      <sch:assert id="a-4523-98" test="count(cda:componentOf)=1">SHALL contain exactly one [1..1] componentOf (CONF:4523-98).</sch:assert>
      <sch:assert id="a-4523-99" test="cda:componentOf[count(cda:encompassingEncounter)=1]">This componentOf SHALL contain exactly one [1..1] encompassingEncounter (CONF:4523-99).</sch:assert>
      <sch:assert id="a-4523-100" test="cda:componentOf/cda:encompassingEncounter[count(cda:effectiveTime)=1]">This encompassingEncounter SHALL contain exactly one [1..1] effectiveTime (CONF:4523-100).</sch:assert>
      <sch:assert id="a-4523-101" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime[count(cda:low)=1]">This effectiveTime SHALL contain exactly one [1..1] low (CONF:4523-101).</sch:assert>
      <sch:assert id="a-4523-103" test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]">This encompassingEncounter SHALL contain exactly one [1..1] location (CONF:4523-103).</sch:assert>
      <sch:assert id="a-4523-104" test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]">This location SHALL contain exactly one [1..1] healthCareFacility (CONF:4523-104).</sch:assert>
      <sch:assert id="a-4523-105" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]">This healthCareFacility SHALL contain exactly one [1..1] id (CONF:4523-105).</sch:assert>
      <sch:assert id="a-4523-106" test="count(cda:component)=1">SHALL contain exactly one [1..1] component (CONF:4523-106).</sch:assert>
      <sch:assert id="a-4523-107" test="cda:component[count(cda:structuredBody)=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:4523-107).</sch:assert>
      <sch:assert id="a-4523-108" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.59' and @extension='2017-04-01']])=1])=1]">This structuredBody SHALL contain exactly one [1..1] component (CONF:4523-108) such that it SHALL contain exactly one [1..1] Infection Details Section in a VAE Report (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.5.59:2017-04-01) (CONF:4523-136).</sch:assert>
      <sch:assert id="a-4523-109" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.45']])=1])=1]">This structuredBody SHALL contain exactly one [1..1] component (CONF:4523-109) such that it SHALL contain exactly one [1..1] Findings Section in an Infection-Type Report (identifier: urn:oid:2.16.840.1.113883.10.20.5.5.45) (CONF:4523-137).</sch:assert>
      <sch:assert id="a-4523-110" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.60' and @extension='2017-04-01']])=1])=1]">This structuredBody SHALL contain exactly one [1..1] component (CONF:4523-110) such that it SHALL contain exactly one [1..1] Risk Factors Section in a VAE Report (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.5.60:2017-04-01) (CONF:4523-171).</sch:assert>
      <sch:assert id="a-4523-30874" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.80' and @extension='2021-01-01']])=1])=1]">This structuredBody SHALL contain exactly one [1..1] component (CONF:4523-30874) such that it SHALL contain exactly one [1..1] COVID-19 Section (V2) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.5.80:2021-01-01) (CONF:4523-30875).</sch:assert>
      <sch:assert id="a-4523-111" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.51'][@extension='2022-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4523-111) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.51" (CONF:4523-122). SHALL contain exactly one [1..1] @extension="2022-04-01" (CONF:4523-123).</sch:assert>
      <sch:assert id="a-4523-114" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:low[@value]">This low SHALL contain exactly one [1..1] @value (CONF:4523-114).</sch:assert>
      <sch:assert id="a-4523-115" test="not(cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:high) or cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:high[@value]">The high, if present, SHALL contain exactly one [1..1] @value (CONF:4523-115).</sch:assert>
      <sch:assert id="a-4523-116-c" test="not(tested-here)">The value of the admission date SHALL NOT be earlier than January 1, 1986; SHALL NOT be earlier than the date of birth; and SHALL NOT be later than the event date (CONF:4523-116).</sch:assert>
      <sch:assert id="a-4523-117" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]">This id SHALL contain exactly one [1..1] @root (CONF:4523-117).</sch:assert>
      <sch:assert id="a-4523-118" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@extension]">This id SHALL contain exactly one [1..1] @extension (CONF:4523-118).</sch:assert>
      <sch:assert id="a-4523-119" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:code)=1]">This healthCareFacility SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNHealthcareServiceLocationCode urn:oid:2.16.840.1.113883.13.19 DYNAMIC (CONF:4523-119).</sch:assert>
      <sch:assert id="a-4523-28469" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:4523-28469).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.51-2022-04-01-errors" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.51' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.51-2022-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.51-2022-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.51-2022-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4523-12534-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.51' and @extension = '2022-04-01') and not(@root = '2.16.840.1.113883.10.20.5.4.27' and @extension = '2022-04-01') and not(@root = '2.16.840.1.113883.10.20.5.4.27' and @extension = '2022-04-01') and not(@root = '2.16.840.1.113883.10.20.5.5.59' and @extension = '2017-04-01') and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.6.139' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.5.6.180' and @root != '2.16.840.1.113883.10.20.5.6.119' and @root != '2.16.840.1.113883.10.20.22.4.19' and @root != '2.16.840.1.113883.10.20.5.6.135' and @root != '2.16.840.1.113883.10.20.5.6.160' and @root != '2.16.840.1.113883.10.20.5.6.114' and @root != '2.16.840.1.113883.10.20.5.6.144' and @root != '2.16.840.1.113883.10.20.5.6.120' and @root != '2.16.840.1.113883.10.20.22.4.79' and @root != '2.16.840.1.113883.10.20.5.6.136' and @root != '2.16.840.1.113883.10.20.5.6.150' and @root != '2.16.840.1.113883.10.20.5.6.154' and @root != '2.16.840.1.113883.10.20.22.4.14' and @root != '2.16.840.1.113883.10.20.5.5.45' and @root != '2.16.840.1.113883.10.20.5.6.182' and @root != '2.16.840.1.113883.10.20.5.6.145' and @root != '2.16.840.1.113883.10.20.22.4.2' and @root != '2.16.840.1.113883.10.20.5.6.147' and @root != '2.16.840.1.113883.10.20.5.6.126' and @root != '2.16.840.1.113883.10.20.5.6.142' and not(@root = '2.16.840.1.113883.10.20.5.5.60' and @extension = '2017-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.244' and @extension = '2017-04-01') and @root != '2.16.840.1.113883.10.20.22.4.12' and not(@root = '2.16.840.1.113883.10.20.5.6.248' and @extension = '2017-04-01') and not(@root = '2.16.840.1.113883.10.20.5.5.61' and @extension = '2017-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.243' and @extension = '2017-04-01') and not(@root = '2.16.840.1.113883.10.20.5.5.80' and @extension = '2021-01-01') and not(@root = '2.16.840.1.113883.10.20.5.6.270' and @extension = '2021-01-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.51:2022-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.51-2022-04-01-errors-CL" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.51' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.51-2022-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.37-2022-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.37-2022-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors-abstract" />
      <sch:assert id="a-4523-22306" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.125']])=1])=1">SHALL contain exactly one [1..1] entry (CONF:4523-22306) such that it SHALL contain exactly one [1..1] Dialysis Patient Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.125) (CONF:4523-22307).</sch:assert>
      <sch:assert id="a-4523-22302" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.37'])=1">SHALL contain exactly one [1..1] templateId (CONF:4523-22302) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.37" (CONF:4523-22303).</sch:assert>
      <sch:assert id="a-4523-22304" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:4523-22304).</sch:assert>
      <sch:assert id="a-4523-22308-c" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.172']])=1])= 6">SHALL contain [6..6] entry (CONF:4523-22308) such that it SHALL contain exactly one [1..1] Vascular Access Type Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.172) (CONF:4523-22309).</sch:assert>
      <sch:assert id="a-4523-22305" test="cda:code[@code='51898-5']">This code SHALL contain exactly one [1..1] @code="51898-5" Risk Factors Section (CONF:4523-22305).</sch:assert>
      <sch:assert id="a-4523-28364" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:4523-28364).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.37-2022-04-01-errors" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.37' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.37-2022-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.37-2022-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.37-2022-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4523-12536-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.5.37' and @extension = '2022-04-01') and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.6.125' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.5.6.169' and @root != '2.16.840.1.113883.10.20.5.6.172' and @root != '2.16.840.1.113883.10.20.5.6.115' and @root != '2.16.840.1.113883.10.20.22.4.13'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.5.37:2022-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.37-2022-04-01-errors-CL" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.37' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.37-2022-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.58-2022-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.58-2022-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.4.27-2022-04-01-errors-abstract" />
      <sch:assert id="a-4523-30685" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.4.2'])=1">SHALL contain exactly one [1..1] templateId (CONF:4523-30685) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.7.4.2" (CONF:4523-30703).</sch:assert>
      <sch:assert id="a-4523-30686" test="count(cda:componentOf)=1">SHALL contain exactly one [1..1] componentOf (CONF:4523-30686).</sch:assert>
      <sch:assert id="a-4523-30687" test="cda:componentOf[count(cda:encompassingEncounter)=1]">This componentOf SHALL contain exactly one [1..1] encompassingEncounter (CONF:4523-30687).</sch:assert>
      <sch:assert id="a-4523-30688" test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]">This encompassingEncounter SHALL contain exactly one [1..1] location (CONF:4523-30688).</sch:assert>
      <sch:assert id="a-4523-30689" test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]">This location SHALL contain exactly one [1..1] healthCareFacility (CONF:4523-30689).</sch:assert>
      <sch:assert id="a-4523-30690" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]">This healthCareFacility SHALL contain exactly one [1..1] id (CONF:4523-30690).</sch:assert>
      <sch:assert id="a-4523-30691" test="cda:componentOf/cda:encompassingEncounter[count(cda:code)=1]">This encompassingEncounter SHALL contain exactly one [1..1] code (CONF:4523-30691).</sch:assert>
      <sch:assert id="a-4523-30692" test="cda:componentOf/cda:encompassingEncounter[count(cda:effectiveTime)=1]">This encompassingEncounter SHALL contain exactly one [1..1] effectiveTime (CONF:4523-30692).</sch:assert>
      <sch:assert id="a-4523-30693" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime[count(cda:low)=1]">This effectiveTime SHALL contain exactly one [1..1] low (CONF:4523-30693).</sch:assert>
      <sch:assert id="a-4523-30694" test="count(cda:component)=1">SHALL contain exactly one [1..1] component (CONF:4523-30694).</sch:assert>
      <sch:assert id="a-4523-30695" test="cda:component[count(cda:structuredBody)=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:4523-30695).</sch:assert>
      <sch:assert id="a-4523-30696" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.72' and @extension='2019-04-01']])=1])=1]">This structuredBody SHALL contain exactly one [1..1] component (CONF:4523-30696) such that it SHALL contain exactly one [1..1] Risk Factors Section in a LOS/Men Denominator (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.5.72:2019-04-01) (CONF:4523-30697).</sch:assert>
      <sch:assert id="a-4523-30821" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.71' and @extension='2019-04-01']])=1])=1]">This structuredBody SHALL contain exactly one [1..1] component (CONF:4523-30821) such that it SHALL contain exactly one [1..1] Encounters Section in a LOS/Men Denominator (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.5.71:2019-04-01) (CONF:4523-30822).</sch:assert>
      <sch:assert id="a-4523-30702" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.58'][@extension='2022-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4523-30702) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.58" (CONF:4523-30710). SHALL contain exactly one [1..1] @extension="2022-04-01" (CONF:4523-30711).</sch:assert>
      <sch:assert id="a-4523-30716" test="count(cda:recordTarget) &gt; 0">SHALL contain at least one [1..*] recordTarget (CONF:4523-30716).</sch:assert>
      <sch:assert id="a-4523-30717" test="cda:recordTarget[count(cda:patientRole)=1]">Such recordTargets SHALL contain exactly one [1..1] patientRole (CONF:4523-30717).</sch:assert>
      <sch:assert id="a-4523-30942" test="count(cda:documentationOf)=1">SHALL contain exactly one [1..1] documentationOf (CONF:4523-30942).</sch:assert>
      <sch:assert id="a-4523-30943" test="cda:documentationOf[count(cda:serviceEvent)=1]">This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:4523-30943).</sch:assert>
      <sch:assert id="a-4523-30944" test="cda:documentationOf/cda:serviceEvent[count(cda:effectiveTime)=1]">This serviceEvent SHALL contain exactly one [1..1] effectiveTime (CONF:4523-30944).</sch:assert>
      <sch:assert id="a-4523-30704" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]">This id SHALL contain exactly one [1..1] @root (CONF:4523-30704).</sch:assert>
      <sch:assert id="a-4523-30707" test="cda:componentOf/cda:encompassingEncounter/cda:code[@code='IMP' and @codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @code="IMP" Inpatient encounter (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:4523-30707).</sch:assert>
      <sch:assert id="a-4523-30708" test="cda:componentOf/cda:encompassingEncounter/cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:4523-30708).</sch:assert>
      <sch:assert id="a-4523-30709" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:low[@value]">This low SHALL contain exactly one [1..1] @value (CONF:4523-30709).</sch:assert>
      <sch:assert id="a-4523-30712" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:4523-30712).</sch:assert>
      <sch:assert id="a-4523-30945" test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:low)=1]">This effectiveTime SHALL contain exactly one [1..1] low (CONF:4523-30945).</sch:assert>
      <sch:assert id="a-4523-30946" test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:high)=1]">This effectiveTime SHALL contain exactly one [1..1] high (CONF:4523-30946).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.58-2022-04-01-errors" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.58' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.58-2022-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.58-2022-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.58-2022-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4523-12537-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.58' and @extension = '2022-04-01') and not(@root = '2.16.840.1.113883.10.20.5.4.27' and @extension = '2022-04-01') and not(@root = '2.16.840.1.113883.10.20.5.4.27' and @extension = '2022-04-01') and not(@root = '2.16.840.1.113883.10.20.5.5.72' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.6.137' and @root != '2.16.840.1.113883.10.20.22.4.27' and not(@root = '2.16.840.1.113883.10.20.5.6.255' and @extension = '2019-04-01') and not(@root = '2.16.840.1.113883.10.20.5.5.61' and @extension = '2017-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.243' and @extension = '2017-04-01') and not(@root = '2.16.840.1.113883.10.20.5.5.71' and @extension = '2019-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.262' and @extension = '2019-04-01') and @root != '2.16.840.1.113883.10.20.22.4.49'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.58:2022-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.58-2022-04-01-errors-CL" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.58' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.58-2022-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.271-2022-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.271-2022-04-01-errors-abstract" abstract="true">
      <sch:assert id="a-4523-30994" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.271'][@extension='2022-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4523-30994) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.271" (CONF:4523-30998). SHALL contain exactly one [1..1] @extension="2022-04-01" (CONF:4523-30999).</sch:assert>
      <sch:assert id="a-4523-30995" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:4523-30995).</sch:assert>
      <sch:assert id="a-4523-30996" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:4523-30996).</sch:assert>
      <sch:assert id="a-4523-30997" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:4523-30997).</sch:assert>
      <sch:assert id="a-4523-31000" test="cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:4523-31000).</sch:assert>
      <sch:assert id="a-4523-31001" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:4523-31001).</sch:assert>
      <sch:assert id="a-4523-31002" test="cda:value[@xsi:type='CD'][@code='1264-1']">This value SHALL contain exactly one [1..1] @code="1264-1" Inpatient Rehabilitation Facility Unit(s) (CONF:4523-31002).</sch:assert>
      <sch:assert id="a-4523-31003" test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.259']">This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.259" (CodeSystem: HSLOC urn:oid:2.16.840.1.113883.6.259) (CONF:4523-31003).</sch:assert>
      <sch:assert id="a-4523-31004" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:4523-31004).</sch:assert>
      <sch:assert id="a-4523-31005" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:4523-31005).</sch:assert>
      <sch:assert id="a-4523-31006" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:4523-31006).</sch:assert>
      <sch:assert id="a-4523-31007" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:4523-31007).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.271-2022-04-01-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.271' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.271-2022-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.271-2022-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.271-2022-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4523-12538-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.271' and @extension = '2022-04-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.271:2022-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.271-2022-04-01-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.271' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.271-2022-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.272-2022-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.272-2022-04-01-errors-abstract" abstract="true">
      <sch:assert id="a-4523-31008" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.272'][@extension='2022-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4523-31008) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.272" (CONF:4523-31012). SHALL contain exactly one [1..1] @extension="2022-04-01" (CONF:4523-31013).</sch:assert>
      <sch:assert id="a-4523-31009" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:4523-31009).</sch:assert>
      <sch:assert id="a-4523-31010" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:4523-31010).</sch:assert>
      <sch:assert id="a-4523-31011" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:4523-31011).</sch:assert>
      <sch:assert id="a-4523-31014" test="cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CONF:4523-31014).</sch:assert>
      <sch:assert id="a-4523-31015" test="cda:code[@codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: HL7ActCode urn:oid:2.16.840.1.113883.5.4) (CONF:4523-31015).</sch:assert>
      <sch:assert id="a-4523-31016" test="cda:value[@xsi:type='CD'][@code='1265-8']">This value SHALL contain exactly one [1..1] @code="1265-8" Inpatient Psychiatric Facility Unit(s) (CONF:4523-31016).</sch:assert>
      <sch:assert id="a-4523-31017" test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.259']">This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.259" (CodeSystem: HSLOC urn:oid:2.16.840.1.113883.6.259) (CONF:4523-31017).</sch:assert>
      <sch:assert id="a-4523-31018" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" (CodeSystem: HL7ActStatus urn:oid:2.16.840.1.113883.5.14) (CONF:4523-31018).</sch:assert>
      <sch:assert id="a-4523-31019" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass urn:oid:2.16.840.1.113883.5.6) (CONF:4523-31019).</sch:assert>
      <sch:assert id="a-4523-31020" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: HL7ActMood urn:oid:2.16.840.1.113883.5.1001) (CONF:4523-31020).</sch:assert>
      <sch:assert id="a-4523-31021" test="@negationInd">SHALL contain exactly one [1..1] @negationInd (CONF:4523-31021).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.272-2022-04-01-errors" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.272' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.272-2022-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.272-2022-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.272-2022-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4523-12539-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.6.272' and @extension = '2022-04-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.6.272:2022-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.272-2022-04-01-errors-CL" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.272' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.272-2022-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.49-2022-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.49-2022-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-errors-abstract" />
      <sch:assert id="a-4523-22884" test="count(cda:entry[count(cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.193']])=1]) &gt; 0">SHALL contain at least one [1..*] entry (CONF:4523-22884) such that it SHALL contain exactly one [1..1] Summary Encounter (POM) (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.193) (CONF:4523-22885).</sch:assert>
      <sch:assert id="a-4523-22880" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.49'][@extension='2014-12-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4523-22880) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.49" (CONF:4523-22881). SHALL contain exactly one [1..1] @extension="2014-12-01" (CONF:4523-30477).</sch:assert>
      <sch:assert id="a-4523-22882" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:4523-22882).</sch:assert>
      <sch:assert id="a-4523-22883" test="cda:code[@code='51900-9']">This code SHALL contain exactly one [1..1] @code="51900-9" Summary Data Section (CONF:4523-22883).</sch:assert>
      <sch:assert id="a-4523-30602" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC urn:oid:2.16.840.1.113883.6.1) (CONF:4523-30602).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.49-2022-04-01-errors" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.49' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.49-2022-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.49-2022-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.49-2022-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4523-12540-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.5.49' and @extension = '2022-04-01') and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.6.193' and @root != '2.16.840.1.113883.10.20.5.6.192' and @root != '2.16.840.1.113883.10.20.5.6.185' and not(@root = '2.16.840.1.113883.10.20.5.6.221' and @extension = '2014-12-01') and not(@root = '2.16.840.1.113883.10.20.5.6.271' and @extension = '2022-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.272' and @extension = '2022-04-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.5.49:2022-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.49-2022-04-01-errors-CL" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.49' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.49-2022-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.43-2022-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.43-2022-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.28-errors-abstract" />
      <sch:assert id="a-4523-30549" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.4.2'])=1">SHALL contain exactly one [1..1] templateId (CONF:4523-30549) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.7.4.2" (CONF:4523-30550).</sch:assert>
      <sch:assert id="a-4523-22889" test="count(cda:documentationOf)=1">SHALL contain exactly one [1..1] documentationOf (CONF:4523-22889).</sch:assert>
      <sch:assert id="a-4523-22890" test="cda:documentationOf[count(cda:serviceEvent)=1]">This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:4523-22890).</sch:assert>
      <sch:assert id="a-4523-22891" test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]">This serviceEvent SHALL contain exactly one [1..1] code (CONF:4523-22891).</sch:assert>
      <sch:assert id="a-4523-22894" test="count(cda:component)=1">SHALL contain exactly one [1..1] component (CONF:4523-22894).</sch:assert>
      <sch:assert id="a-4523-22895" test="cda:component[count(cda:structuredBody)=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:4523-22895).</sch:assert>
      <sch:assert id="a-4523-22896" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.49' and @extension='2022-04-01']])=1])=1]">This structuredBody SHALL contain exactly one [1..1] component (CONF:4523-22896) such that it SHALL contain exactly one [1..1] Summary Data Section (POM) (V3) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.5.49:2022-04-01) (CONF:4523-30433).</sch:assert>
      <sch:assert id="a-4523-22886" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.43'][@extension='2022-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4523-22886) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.43" (CONF:4523-22887). SHALL contain exactly one [1..1] @extension="2022-04-01" (CONF:4523-30476).</sch:assert>
      <sch:assert id="a-4523-22892" test="cda:documentationOf/cda:serviceEvent/cda:code[@code='1884-6']">This code SHALL contain exactly one [1..1] @code="1884-6" Summary data reporting Active Surveillance Testing (CONF:4523-22892).</sch:assert>
      <sch:assert id="a-4523-22893" test="cda:documentationOf/cda:serviceEvent/cda:code[@codeSystem='2.16.840.1.113883.6.277']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN urn:oid:2.16.840.1.113883.6.277) (CONF:4523-22893).</sch:assert>
      <sch:assert id="a-4523-31026" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:4523-31026).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.43-2022-04-01-errors" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.43' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.43-2022-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.43-2022-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.43-2022-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4523-12541-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.43' and @extension = '2022-04-01') and @root != '2.16.840.1.113883.10.20.5.4.28' and @root != '2.16.840.1.113883.10.20.5.4.28' and not(@root = '2.16.840.1.113883.10.20.5.5.49' and @extension = '2022-04-01') and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.6.193' and @root != '2.16.840.1.113883.10.20.5.6.192' and @root != '2.16.840.1.113883.10.20.5.6.185' and not(@root = '2.16.840.1.113883.10.20.5.6.221' and @extension = '2014-12-01') and not(@root = '2.16.840.1.113883.10.20.5.6.271' and @extension = '2022-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.272' and @extension = '2022-04-01') and not(@root = '2.16.840.1.113883.10.20.5.5.62' and @extension = '2018-04-01') and not(@root = '2.16.840.1.113883.10.20.5.6.249' and @extension = '2018-04-01')])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.43:2022-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.43-2022-04-01-errors-CL" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.43' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.43-2022-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.35.2-2022-04-01-errors">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.35.2-2022-04-01-errors-abstract" abstract="true">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.4.27-2022-04-01-errors-abstract" />
      <sch:assert id="a-4523-30309" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.7.4.2'])=1">SHALL contain exactly one [1..1] templateId (CONF:4523-30309) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.7.4.2" (CONF:4523-30310).</sch:assert>
      <sch:assert id="a-4523-22533" test="count(cda:componentOf)=1">SHALL contain exactly one [1..1] componentOf (CONF:4523-22533).</sch:assert>
      <sch:assert id="a-4523-22534" test="cda:componentOf[count(cda:encompassingEncounter)=1]">This componentOf SHALL contain exactly one [1..1] encompassingEncounter (CONF:4523-22534).</sch:assert>
      <sch:assert id="a-4523-22537" test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]">This encompassingEncounter SHALL contain exactly one [1..1] location (CONF:4523-22537).</sch:assert>
      <sch:assert id="a-4523-22538" test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]">This location SHALL contain exactly one [1..1] healthCareFacility (CONF:4523-22538).</sch:assert>
      <sch:assert id="a-4523-22539" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]">This healthCareFacility SHALL contain exactly one [1..1] id (CONF:4523-22539).</sch:assert>
      <sch:assert id="a-4523-22545" test="count(cda:component)=1">SHALL contain exactly one [1..1] component (CONF:4523-22545).</sch:assert>
      <sch:assert id="a-4523-22546" test="cda:component[count(cda:structuredBody)=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:4523-22546).</sch:assert>
      <sch:assert id="a-4523-22547" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.43.2']])=1])=1]">This structuredBody SHALL contain exactly one [1..1] component (CONF:4523-22547) such that it SHALL contain exactly one [1..1] Procedure Details Section in a Procedure Report (V2)  (identifier: urn:oid:2.16.840.1.113883.10.20.5.5.43.2) (CONF:4523-30256).</sch:assert>
      <sch:assert id="a-4523-22551" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.35']])=1])=1]">This structuredBody SHALL contain exactly one [1..1] component (CONF:4523-22551) such that it SHALL contain exactly one [1..1] Infection Risk Factors Section in a Procedure Report (identifier: urn:oid:2.16.840.1.113883.10.20.5.5.35) (CONF:4523-22552).</sch:assert>
      <sch:assert id="a-4523-22531" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.35.2'][@extension='2022-04-01'])=1">SHALL contain exactly one [1..1] templateId (CONF:4523-22531) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.35.2" (CONF:4523-30255). SHALL contain exactly one [1..1] @extension="2022-04-01" (CONF:4523-31027).</sch:assert>
      <sch:assert id="a-4523-22535" test="cda:componentOf/cda:encompassingEncounter[count(cda:code)=1]">This encompassingEncounter SHALL contain exactly one [1..1] code (ValueSet: NHSNEncounterTypeCode urn:oid:2.16.840.1.113883.13.1 DYNAMIC) (CONF:4523-22535).</sch:assert>
      <sch:assert id="a-4523-22540" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]">This id SHALL contain exactly one [1..1] @root (CONF:4523-22540).</sch:assert>
      <sch:assert id="a-4523-22544-c" test="cda:componentOf/cda:encompassingEncounter/cda:code[@code != 'IMP'] or (cda:componentOf/cda:encompassingEncounter/cda:code[@code = 'IMP'] and cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:low/@value)">If the patient is an inpatient (code/@code='IMP'), admission date is recorded: An effectiveTime element SHALL be present. This effectiveTime SHALL [1..1] contain a low element. This low element SHALL [1..1] contain @value (CONF:4523-22544).</sch:assert>
      <sch:assert id="a-4523-30315" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:4523-30315).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.35.2-2022-04-01-errors" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.35.2' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.35.2-2022-04-01-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.35.2-2022-04-01-CLOSEDTEMPLATE">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.35.2-2022-04-01-errors-CL-abstract" abstract="true">
      <!-- SG: Supressed closed template checking due to flagging "parents of parent" as invalid. -->
<!-- <sch:assert id="a-4523-12542-CL" test="count(.//cda:templateId[not(@root = '2.16.840.1.113883.10.20.5.35.2' and @extension = '2022-04-01') and not(@root = '2.16.840.1.113883.10.20.5.4.27' and @extension = '2022-04-01') and not(@root = '2.16.840.1.113883.10.20.5.4.27' and @extension = '2022-04-01') and @root != '2.16.840.1.113883.10.20.5.5.43.2' and @root != '2.16.840.1.113883.10.20.5.4.26' and @root != '2.16.840.1.113883.10.20.5.6.153.2' and @root != '2.16.840.1.113883.10.20.22.4.14' and @root != '2.16.840.1.113883.10.20.5.6.112' and @root != '2.16.840.1.113883.10.20.22.4.16' and @root != '2.16.840.1.113883.10.20.5.6.166' and @root != '2.16.840.1.113883.10.20.22.4.4' and @root != '2.16.840.1.113883.10.20.5.6.117' and @root != '2.16.840.1.113883.10.20.5.6.204' and @root != '2.16.840.1.113883.10.20.5.5.35' and @root != '2.16.840.1.113883.10.20.5.6.156' and @root != '2.16.840.1.113883.10.20.5.6.174' and @root != '2.16.840.1.113883.10.20.5.6.128' and @root != '2.16.840.1.113883.10.20.5.6.170' and @root != '2.16.840.1.113883.10.20.5.6.123' and @root != '2.16.840.1.113883.10.20.5.6.131' and @root != '2.16.840.1.113883.10.20.22.4.27' and @root != '2.16.840.1.113883.10.20.5.6.173' and @root != '2.16.840.1.113883.10.20.5.6.113' and @root != '2.16.840.1.113883.10.20.5.6.127'])=0">'urn:hl7ii:2.16.840.1.113883.10.20.5.35.2:2022-04-01' is a closed template, only defined templates are allowed.</sch:assert> -->
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.35.2-2022-04-01-errors-CL" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.35.2' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.35.2-2022-04-01-errors-CL-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.16-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.16-warnings-abstract" abstract="true">
      <sch:assert id="a-81-7501" test="count(cda:text)=1">SHOULD contain zero or one [0..1] text (CONF:81-7501).</sch:assert>
      <sch:assert id="a-81-7513-c" test="count(cda:effectiveTime) = 2 and cda:effectiveTime[@operator='A'][@xsi:type='PIVL_TS' or @xsi:type='EIVL_TS']">SHOULD contain zero or one [0..1] effectiveTime (CONF:81-7513) such that it SHALL contain exactly one [1..1] @operator="A" (CONF:81-9106).</sch:assert>
      <sch:assert id="a-81-7516" test="count(cda:doseQuantity)=1">SHOULD contain zero or one [0..1] doseQuantity (CONF:81-7516).</sch:assert>
      <sch:assert id="a-81-7526" test="not(cda:doseQuantity) or cda:doseQuantity[@unit]">The doseQuantity, if present, SHOULD contain zero or one [0..1] @unit, which SHALL be selected from ValueSet UnitsOfMeasureCaseSensitive urn:oid:2.16.840.1.113883.1.11.12839 DYNAMIC (CONF:81-7526).</sch:assert>
      <sch:assert id="a-81-7529-c" test="cda:doseQuantity | cda:rateQuantity">Medication Activity SHOULD include doseQuantity OR rateQuantity (CONF:81-7529).</sch:assert>
      <sch:assert id="a-81-15977" test="not(cda:text) or cda:text[count(cda:reference)=1]">The text, if present, SHOULD contain zero or one [0..1] reference (CONF:81-15977).</sch:assert>
      <sch:assert id="a-81-15978" test="not(cda:text/cda:reference) or cda:text/cda:reference[@value]">The reference, if present, SHOULD contain zero or one [0..1] @value (CONF:81-15978).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.16-warnings" context="cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.16']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.16-warnings-abstract" />
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.16-7508-branch-7508-warnings-abstract" abstract="true">
      <sch:assert id="a-81-26525-branch-7508" test="@value">SHOULD contain zero or one [0..1] @value (CONF:81-26525).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.16-7508-branch-7508-warnings" context="cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.16']]/cda:effectiveTime[@xsi:type='IVL_TS'][cda:low]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.16-7508-branch-7508-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.1-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.1-warnings-abstract" abstract="true">
      <sch:assert id="a-81-7165-c" test="../cda:organizer/@classCode='CLUSTER' or ../cda:organizer/@classCode='BATTERY'">SHOULD contain zero or one [0..1] @classCode="CLUSTER" Cluster (CodeSystem: 2.16.840.1.113883.5.6 HL7ActClass) OR SHOULD contain zero or one [0..1] @classCode="BATTERY" Battery (CodeSystem: 2.16.840.1.113883.5.6 HL7ActClass) (CONF:81-7165).</sch:assert>
      <sch:assert id="a-81-19218-c" test="cda:code[@codeSystem='2.16.840.1.113883.6.1'] or cda:code[@codeSystem='2.16.840.1.113883.6.96'] or cda:code[@codeSystem='2.16.840.1.113883.6.12']">SHOULD be selected from LOINC (codeSystem 2.16.840.1.113883.6.1) or SNOMED CT (codeSystem 2.16.840.1.113883.6.96), and MAY be selected from CPT-4 (codeSystem 2.16.840.1.113883.6.12) (CONF:81-19218).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.1-warnings" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.1']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.1-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.2-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.2-warnings-abstract" abstract="true">
      <sch:assert id="a-81-7138" test="count(cda:text)=1">SHOULD contain zero or one [0..1] text (CONF:81-7138).</sch:assert>
      <sch:assert id="a-81-7147" test="count(cda:interpretationCode) &gt; 0">SHOULD contain zero or more [0..*] interpretationCode (CONF:81-7147).</sch:assert>
      <sch:assert id="a-81-7150" test="count(cda:referenceRange) &gt; 0">SHOULD contain zero or more [0..*] referenceRange (CONF:81-7150).</sch:assert>
      <sch:assert id="a-81-15924" test="not(cda:text) or cda:text[count(cda:reference)=1]">The text, if present, SHOULD contain zero or one [0..1] reference (CONF:81-15924).</sch:assert>
      <sch:assert id="a-81-15925" test="not(cda:text/cda:reference) or cda:text/cda:reference[@value]">The reference, if present, SHOULD contain zero or one [0..1] @value (CONF:81-15925).</sch:assert>
      <sch:assert id="a-81-19211-c" test="count(cda:code[@codeSystem])=0 or cda:code[@codeSystem='2.16.840.1.113883.6.1'] or cda:code[@codeSystem='2.16.840.1.113883.6.96']">SHOULD be from LOINC (CodeSystem: 2.16.840.1.113883.6.1) or SNOMED CT (CodeSystem: 2.16.840.1.113883.6.96) (CONF:81-19211).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.2-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.2']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.2-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.27-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.27-warnings-abstract" abstract="true">
      <sch:assert id="a-81-7302" test="count(cda:text)=1">SHOULD contain zero or one [0..1] text (CONF:81-7302).</sch:assert>
      <sch:assert id="a-81-15943" test="not(cda:text) or cda:text[count(cda:reference)=1]">The text, if present, SHOULD contain zero or one [0..1] reference (CONF:81-15943).</sch:assert>
      <sch:assert id="a-81-15944" test="not(cda:text/cda:reference) or cda:text/cda:reference[@value]">The reference, if present, SHOULD contain zero or one [0..1] @value (CONF:81-15944).</sch:assert>
      <sch:assert id="a-81-7301-v" test="count(cda:code)=1">SHALL contain exactly one [1..1] code, which SHOULD be selected from ValueSet Vital Sign Result Type urn:oid:2.16.840.1.113883.3.88.12.80.62 DYNAMIC (CONF:81-7301).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.27-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.27']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.27-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.9-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.9-warnings-abstract" abstract="true">
      <sch:assert id="a-81-7330" test="count(cda:text)=1">SHOULD contain zero or one [0..1] text (CONF:81-7330).</sch:assert>
      <sch:assert id="a-81-7332" test="count(cda:effectiveTime)=1">SHOULD contain zero or one [0..1] effectiveTime (CONF:81-7332).</sch:assert>
      <sch:assert id="a-81-7333" test="not(cda:effectiveTime) or cda:effectiveTime[count(cda:low)=1]">The effectiveTime, if present, SHOULD contain zero or one [0..1] low (CONF:81-7333).</sch:assert>
      <sch:assert id="a-81-7334" test="not(cda:effectiveTime) or cda:effectiveTime[count(cda:high)=1]">The effectiveTime, if present, SHOULD contain zero or one [0..1] high (CONF:81-7334).</sch:assert>
      <sch:assert id="a-81-15917" test="not(cda:text) or cda:text[count(cda:reference)=1]">The text, if present, SHOULD contain zero or one [0..1] reference (CONF:81-15917).</sch:assert>
      <sch:assert id="a-81-15918" test="not(cda:text/cda:reference) or cda:text/cda:reference[@value]">The reference, if present, SHOULD contain zero or one [0..1] @value (CONF:81-15918).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.9-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.9']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.9-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.8-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.8-warnings-abstract" abstract="true">
      <sch:assert id="a-81-7350" test="count(cda:text)=1">SHOULD contain zero or one [0..1] text (CONF:81-7350).</sch:assert>
      <sch:assert id="a-81-15928" test="not(cda:text) or cda:text[count(cda:reference)=1]">The text, if present, SHOULD contain zero or one [0..1] reference (CONF:81-15928).</sch:assert>
      <sch:assert id="a-81-15929" test="not(cda:text/cda:reference) or cda:text/cda:reference[@value]">The reference, if present, SHOULD contain zero or one [0..1] @value (CONF:81-15929).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.8-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.8']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.8-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.6-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.6-warnings-abstract" abstract="true">
      <sch:assert id="a-81-7362" test="count(cda:text)=1">SHOULD contain zero or one [0..1] text (CONF:81-7362).</sch:assert>
      <sch:assert id="a-81-15593" test="not(cda:text) or cda:text[count(cda:reference)=1]">The text, if present, SHOULD contain zero or one [0..1] reference (CONF:81-15593).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.6-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.6']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.6-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.25-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.25-warnings-abstract" abstract="true">
      <sch:assert id="a-81-7369" test="count(cda:value[@xsi:type='CD'])=1">SHOULD contain zero or one [0..1] value with @xsi:type="CD" (CONF:81-7369).</sch:assert>
      <sch:assert id="a-81-16854" test="count(cda:code)=1">SHOULD contain zero or one [0..1] code (CONF:81-16854).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.25-warnings" context="cda:criterion[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.25']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.25-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.20-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.20-warnings-abstract" abstract="true">
      <sch:assert id="a-81-7395" test="count(cda:text)=1">SHOULD contain zero or one [0..1] text (CONF:81-7395).</sch:assert>
      <sch:assert id="a-81-15577" test="not(cda:text) or cda:text[count(cda:reference)=1]">The text, if present, SHOULD contain zero or one [0..1] reference (CONF:81-15577).</sch:assert>
      <sch:assert id="a-81-15578" test="not(cda:text/cda:reference) or cda:text/cda:reference[@value]">The reference, if present, SHOULD contain zero or one [0..1] @value (CONF:81-15578).</sch:assert>
      <sch:assert id="a-81-16884-v" test="count(cda:code)=1">SHALL contain exactly one [1..1] code, which SHOULD be selected from ValueSet Patient Education urn:oid:2.16.840.1.113883.11.20.9.34 DYNAMIC (CONF:81-16884).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.20-warnings" context="cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.20']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.20-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.23-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.23-warnings-abstract" abstract="true">
      <sch:assert id="a-81-7413" test="cda:manufacturedMaterial/cda:code[count(cda:originalText)=1]">This code SHOULD contain zero or one [0..1] originalText (CONF:81-7413).</sch:assert>
      <sch:assert id="a-81-15986" test="not(cda:manufacturedMaterial/cda:code/cda:originalText) or cda:manufacturedMaterial/cda:code/cda:originalText[count(cda:reference)=1]">The originalText, if present, SHOULD contain zero or one [0..1] reference (CONF:81-15986).</sch:assert>
      <sch:assert id="a-81-15987" test="not(cda:manufacturedMaterial/cda:code/cda:originalText/cda:reference) or cda:manufacturedMaterial/cda:code/cda:originalText/cda:reference[@value]">The reference, if present, SHOULD contain zero or one [0..1] @value (CONF:81-15987).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.23-warnings" context="cda:manufacturedProduct[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.23']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.23-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.17-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.17-warnings-abstract" abstract="true">
      <sch:assert id="a-81-7434" test="count(cda:repeatNumber)=1">SHOULD contain zero or one [0..1] repeatNumber (CONF:81-7434).</sch:assert>
      <sch:assert id="a-81-7436" test="count(cda:quantity)=1">SHOULD contain zero or one [0..1] quantity (CONF:81-7436).</sch:assert>
      <sch:assert id="a-81-15143" test="count(cda:effectiveTime[count(cda:high)=1])=1">SHOULD contain zero or one [0..1] effectiveTime (CONF:81-15143) such that it SHALL contain exactly one [1..1] high (CONF:81-15144).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.17-warnings" context="cda:supply[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.17']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.17-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.18-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.18-warnings-abstract" abstract="true">
      <sch:assert id="a-81-7456" test="count(cda:effectiveTime)=1">SHOULD contain zero or one [0..1] effectiveTime (CONF:81-7456).</sch:assert>
      <sch:assert id="a-81-7457" test="count(cda:repeatNumber)=1">SHOULD contain zero or one [0..1] repeatNumber (CONF:81-7457).</sch:assert>
      <sch:assert id="a-81-7458" test="count(cda:quantity)=1">SHOULD contain zero or one [0..1] quantity (CONF:81-7458).</sch:assert>
      <sch:assert id="a-81-7468" test="not(cda:performer/cda:assignedEntity) or cda:performer/cda:assignedEntity[count(cda:addr)=1]">This assignedEntity SHOULD contain zero or one [0..1] addr (CONF:81-7468).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.18-warnings" context="cda:supply[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.18']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.18-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.19-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.19-warnings-abstract" abstract="true">
      <sch:assert id="a-81-7488" test="count(cda:effectiveTime)=1">SHOULD contain zero or one [0..1] effectiveTime (CONF:81-7488).</sch:assert>
      <sch:assert id="a-81-7489" test="count(cda:value[@xsi:type='CD'])=1">SHOULD contain zero or one [0..1] value with @xsi:type="CD" (CONF:81-7489).</sch:assert>
      <sch:assert id="a-81-15985" test="not(cda:value[@xsi:type='CD']) or cda:value[@xsi:type='CD'][@code]">The value, if present, SHOULD contain zero or one [0..1] @code, which SHOULD be selected from ValueSet Problem urn:oid:2.16.840.1.113883.3.88.12.3221.7.4 DYNAMIC (CONF:81-15985).</sch:assert>
      <sch:assert id="a-81-15991-c" test="not(tested)">If the diagnosis is unknown or the SNOMED code is unknown, @nullFlavor SHOULD be “UNK”. If the code is something other than SNOMED, @nullFlavor SHOULD be “OTH” and the other code SHOULD be placed in the translation element (CONF:81-15991).</sch:assert>
      <sch:assert id="a-81-16886-v" test="count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.3.88.12.3221.7.2']/voc:code/@value or @nullFlavor])=1">SHALL contain exactly one [1..1] code, which SHOULD be selected from ValueSet Problem Type (SNOMEDCT) urn:oid:2.16.840.1.113883.3.88.12.3221.7.2 STATIC 2012-06-01 (CONF:81-16886).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.19-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.19']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.19-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.24-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.24-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.24-warnings" context="cda:participantRole[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.24']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.24-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.14-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.14-warnings-abstract" abstract="true">
      <sch:assert id="a-81-7662" test="count(cda:effectiveTime)=1">SHOULD contain zero or one [0..1] effectiveTime (CONF:81-7662).</sch:assert>
      <sch:assert id="a-81-7683" test="count(cda:targetSiteCode) &gt; 0">SHOULD contain zero or more [0..*] targetSiteCode (CONF:81-7683).</sch:assert>
      <sch:assert id="a-81-7716" test="not(cda:specimen/cda:specimenRole) or cda:specimen/cda:specimenRole[count(cda:id) &gt; 0]">This specimenRole SHOULD contain zero or more [0..*] id (CONF:81-7716).</sch:assert>
      <sch:assert id="a-81-7718" test="count(cda:performer[count(cda:assignedEntity[count(cda:id) &gt; 0][count(cda:addr) &gt; 0][count(cda:telecom) &gt; 0])=1]) &gt; 0">SHOULD contain zero or more [0..*] performer (CONF:81-7718) such that it SHALL contain exactly one [1..1] assignedEntity (CONF:81-7720). This assignedEntity SHALL contain at least one [1..*] id (CONF:81-7722). This assignedEntity SHALL contain at least one [1..*] addr (CONF:81-7731). This assignedEntity SHALL contain at least one [1..*] telecom (CONF:81-7732).</sch:assert>
      <sch:assert id="a-81-19203" test="cda:code[count(cda:originalText)=1]">This code SHOULD contain zero or one [0..1] originalText (CONF:81-19203).</sch:assert>
      <sch:assert id="a-81-19204" test="not(cda:code/cda:originalText) or cda:code/cda:originalText[count(cda:reference)=1]">The originalText, if present, SHOULD contain zero or one [0..1] reference (CONF:81-19204).</sch:assert>
      <sch:assert id="a-81-19205" test="not(cda:code/cda:originalText/cda:reference) or cda:code/cda:originalText/cda:reference[@value]">The reference, if present, SHOULD contain zero or one [0..1] @value (CONF:81-19205).</sch:assert>
      <sch:assert id="a-81-19207-c" test="count(cda:code[@codeSystem])=0 or cda:code[@codeSystem='2.16.840.1.113883.6.1'] or cda:code[@codeSystem='2.16.840.1.113883.6.96'] or cda:code[@codeSystem='2.16.840.1.113883.6.12'] or cda:code[@codeSystem='2.16.840.1.113883.6.104'] or cda:code[@codeSystem='2.16.840.1.113883.6.4']">This code in a procedure activity SHOULD be selected from LOINC (codeSystem 2.16.840.1.113883.6.1) or SNOMED CT (CodeSystem: 2.16.840.1.113883.6.96), and MAY be selected from CPT-4 (CodeSystem: 2.16.840.1.113883.6.12) or ICD10 PCS (CodeSystem: 2.16.840.1.113883.6.4) (CONF:81-19207).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.14-warnings" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.14']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.14-warnings-abstract" />
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.14-7718-branch-7718-warnings-abstract" abstract="true">
      <sch:assert id="a-81-7733-branch-7718" test="not(cda:assignedEntity) or cda:assignedEntity[count(cda:representedOrganization)=1]">This assignedEntity SHOULD contain zero or one [0..1] representedOrganization (CONF:81-7733).</sch:assert>
      <sch:assert id="a-81-7734-branch-7718" test="not(cda:assignedEntity/cda:representedOrganization) or cda:assignedEntity/cda:representedOrganization[count(cda:id) &gt; 0]">The representedOrganization, if present, SHOULD contain zero or more [0..*] id (CONF:81-7734).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.14-7718-branch-7718-warnings" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.14']]/cda:performer[cda:assignedEntity[cda:id][cda:addr][cda:telecom]]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.14-7718-branch-7718-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.31-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.31-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.31-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.31']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.31-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.32-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.32-warnings-abstract" abstract="true">
      <sch:assert id="a-81-7760" test="count(cda:addr) &gt; 0">SHOULD contain zero or more [0..*] addr (CONF:81-7760).</sch:assert>
      <sch:assert id="a-81-7761" test="count(cda:telecom) &gt; 0">SHOULD contain zero or more [0..*] telecom (CONF:81-7761).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.32-warnings" context="cda:participantRole[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.32']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.32-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.4-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-warnings-abstract" abstract="true">
      <sch:assert id="a-81-9050" test="count(cda:effectiveTime)=1">SHOULD contain zero or one [0..1] effectiveTime (CONF:81-9050).</sch:assert>
      <sch:assert id="a-81-9185" test="count(cda:text)=1">SHOULD contain zero or one [0..1] text (CONF:81-9185).</sch:assert>
      <sch:assert id="a-81-10142-c" test="not(tested)">If the diagnosis is unknown or the SNOMED code is unknown, @nullFlavor SHOULD be “UNK”.  If the code is something other than SNOMED, @nullFlavor SHOULD be “OTH” and the other code SHOULD be placed in the translation element (CONF:81-10142).</sch:assert>
      <sch:assert id="a-81-15587" test="not(cda:text) or cda:text[count(cda:reference)=1]">The text, if present, SHOULD contain zero or one [0..1] reference (CONF:81-15587).</sch:assert>
      <sch:assert id="a-81-9045-v" test="count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.3.88.12.3221.7.2']/voc:code/@value or @nullFlavor])=1">SHALL contain exactly one [1..1] code, which SHOULD be selected from ValueSet Problem Type (SNOMEDCT) urn:oid:2.16.840.1.113883.3.88.12.3221.7.2 STATIC 2012-06-01 (CONF:81-9045).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.37-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.37-warnings-abstract" abstract="true">
      <sch:assert id="a-81-16837" test="cda:playingDevice[count(cda:code)=1]">This playingDevice SHOULD contain zero or one [0..1] code (CONF:81-16837).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.37-warnings" context="cda:participantRole[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.37']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.37-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.12-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.12-warnings-abstract" abstract="true">
      <sch:assert id="a-81-8299" test="count(cda:effectiveTime)=1">SHOULD contain zero or one [0..1] effectiveTime (CONF:81-8299).</sch:assert>
      <sch:assert id="a-81-8301" test="count(cda:performer) &gt; 0">SHOULD contain zero or more [0..*] performer (CONF:81-8301).</sch:assert>
      <sch:assert id="a-81-8306" test="not(cda:performer/cda:assignedEntity) or cda:performer/cda:assignedEntity[count(cda:representedOrganization)=1]">This assignedEntity SHOULD contain zero or one [0..1] representedOrganization (CONF:81-8306).</sch:assert>
      <sch:assert id="a-81-8307" test="not(cda:performer/cda:assignedEntity/cda:representedOrganization) or cda:performer/cda:assignedEntity/cda:representedOrganization[count(cda:id) &gt; 0]">The representedOrganization, if present, SHOULD contain zero or more [0..*] id (CONF:81-8307).</sch:assert>
      <sch:assert id="a-81-19186" test="cda:code[count(cda:originalText)=1]">This code SHOULD contain zero or one [0..1] originalText (CONF:81-19186).</sch:assert>
      <sch:assert id="a-81-19190-c" test="count(cda:code[@codeSystem])=0 or cda:code[@codeSystem='2.16.840.1.113883.6.1'] or cda:code[@codeSystem='2.16.840.1.113883.6.96'] or cda:code[@codeSystem='2.16.840.1.113883.6.104']">This code in a procedure activity act SHOULD be selected from LOINC (CodeSystem: 2.16.840.1.113883.6.1) or SNOMED CT (CodeSystem: 2.16.840.1.113883.6.96) (CONF:81-19190).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.12-warnings" context="cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.12']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.12-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.13-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.13-warnings-abstract" abstract="true">
      <sch:assert id="a-81-8246" test="count(cda:effectiveTime)=1">SHOULD contain zero or one [0..1] effectiveTime (CONF:81-8246).</sch:assert>
      <sch:assert id="a-81-8250" test="count(cda:targetSiteCode) &gt; 0">SHOULD contain zero or more [0..*] targetSiteCode (CONF:81-8250).</sch:assert>
      <sch:assert id="a-81-8251" test="count(cda:performer) &gt; 0">SHOULD contain zero or more [0..*] performer (CONF:81-8251).</sch:assert>
      <sch:assert id="a-81-8256" test="not(cda:performer/cda:assignedEntity) or cda:performer/cda:assignedEntity[count(cda:representedOrganization)=1]">This assignedEntity SHOULD contain zero or one [0..1] representedOrganization (CONF:81-8256).</sch:assert>
      <sch:assert id="a-81-8257" test="not(cda:performer/cda:assignedEntity/cda:representedOrganization) or cda:performer/cda:assignedEntity/cda:representedOrganization[count(cda:id) &gt; 0]">The representedOrganization, if present, SHOULD contain zero or more [0..*] id (CONF:81-8257).</sch:assert>
      <sch:assert id="a-81-19198" test="cda:code[count(cda:originalText)=1]">This code SHOULD contain zero or one [0..1] originalText (CONF:81-19198).</sch:assert>
      <sch:assert id="a-81-19199" test="not(cda:code/cda:originalText) or cda:code/cda:originalText[count(cda:reference)=1]">The originalText, if present, SHOULD contain zero or one [0..1] reference (CONF:81-19199).</sch:assert>
      <sch:assert id="a-81-19200" test="not(cda:code/cda:originalText/cda:reference) or cda:code/cda:originalText/cda:reference[@value]">The reference, if present, SHOULD contain zero or one [0..1] @value (CONF:81-19200).</sch:assert>
      <sch:assert id="a-81-19202-c" test="count(cda:code[@codeSystem])=0 or cda:code[@codeSystem='2.16.840.1.113883.6.1'] or cda:code[@codeSystem='2.16.840.1.113883.6.96']">This @code SHOULD be selected from LOINC (CodeSystem: 2.16.840.1.113883.6.1) or SNOMED CT (CodeSystem: 2.16.840.1.113883.6.96), and MAY be selected from CPT-4 (CodeSystem: 2.16.840.1.113883.6.12), ICD10 PCS (CodeSystem: 2.16.840.1.113883.6.4) (CONF:81-19202).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.13-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.13']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.13-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.49-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.49-warnings-abstract" abstract="true">
      <sch:assert id="a-81-8714" test="count(cda:code)=1">SHOULD contain zero or one [0..1] code, which SHOULD be selected from ValueSet EncounterTypeCode urn:oid:2.16.840.1.113883.3.88.12.80.32 DYNAMIC (CONF:81-8714).</sch:assert>
      <sch:assert id="a-81-8719" test="not(cda:code) or cda:code[count(cda:originalText)=1]">The code, if present, SHOULD contain zero or one [0..1] originalText (CONF:81-8719).</sch:assert>
      <sch:assert id="a-81-8720-c" test="not(tested-here)">The originalText, if present, SHOULD contain zero or one [0..1] reference/@value (CONF:81-8720).</sch:assert>
      <sch:assert id="a-81-15970" test="not(cda:code/cda:originalText) or cda:code/cda:originalText[count(cda:reference)=1]">The originalText, if present, SHOULD contain zero or one [0..1] reference (CONF:81-15970).</sch:assert>
      <sch:assert id="a-81-15971" test="not(cda:code/cda:originalText/cda:reference) or cda:code/cda:originalText/cda:reference[@value]">The reference, if present, SHOULD contain zero or one [0..1] @value (CONF:81-15971).</sch:assert>
      <sch:assert id="a-81-26509-c" test="not(tested)">If access to NUBC is unavailable, the value of code *SHOULD* be selected from CodeSystem 2.16.840.1.113883.12.112 HL7 Discharge Disposition DYNAMIC (CONF:81-26509).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.49-warnings" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.49']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.49-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.54-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.54-warnings-abstract" abstract="true">
      <sch:assert id="a-81-9008" test="cda:manufacturedMaterial/cda:code[count(cda:originalText)=1]">This code SHOULD contain zero or one [0..1] originalText (CONF:81-9008).</sch:assert>
      <sch:assert id="a-81-9012" test="count(cda:manufacturerOrganization)=1">SHOULD contain zero or one [0..1] manufacturerOrganization (CONF:81-9012).</sch:assert>
      <sch:assert id="a-81-9014" test="cda:manufacturedMaterial[count(cda:lotNumberText)=1]">This manufacturedMaterial SHOULD contain zero or one [0..1] lotNumberText (CONF:81-9014).</sch:assert>
      <sch:assert id="a-81-15555" test="not(cda:manufacturedMaterial/cda:code/cda:originalText) or cda:manufacturedMaterial/cda:code/cda:originalText[count(cda:reference)=1]">The originalText, if present, SHOULD contain zero or one [0..1] reference (CONF:81-15555).</sch:assert>
      <sch:assert id="a-81-15556" test="not(cda:manufacturedMaterial/cda:code/cda:originalText/cda:reference) or cda:manufacturedMaterial/cda:code/cda:originalText/cda:reference[@value]">The reference, if present, SHOULD contain zero or one [0..1] @value (CONF:81-15556).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.54-warnings" context="cda:manufacturedProduct[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.54']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.54-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.5-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.5-warnings-abstract" abstract="true">
      <sch:assert id="a-81-9270" test="count(cda:text)=1">SHOULD contain zero or one [0..1] text (CONF:81-9270).</sch:assert>
      <sch:assert id="a-81-15529" test="not(cda:text) or cda:text[count(cda:reference)=1]">The text, if present, SHOULD contain zero or one [0..1] reference (CONF:81-15529).</sch:assert>
      <sch:assert id="a-81-15530" test="not(cda:text/cda:reference) or cda:text/cda:reference[@value]">The reference, if present, SHOULD contain zero or one [0..1] @value (CONF:81-15530).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.5-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.5']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.5-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.79-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.79-warnings-abstract" abstract="true">
      <sch:assert id="a-81-14868" test="count(cda:entryRelationship[@typeCode='CAUS'][@inversionInd='true'][count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4']])=1])=1">SHOULD contain zero or one [0..1] entryRelationship (CONF:81-14868) such that it SHALL contain exactly one [1..1] Problem Observation (identifier: urn:oid:2.16.840.1.113883.10.20.22.4.4) (CONF:81-14870). SHALL contain exactly one [1..1] @typeCode="CAUS" Is etiology for (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002 STATIC) (CONF:81-14875). SHALL contain exactly one [1..1] @inversionInd="true" True (CONF:81-26514).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.79-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.79']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.79-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.80-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.80-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.80-warnings" context="cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.80']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.80-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.4.25-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.4.25-warnings-abstract" abstract="true">
      <sch:assert id="a-86-18474" test="count(cda:legalAuthenticator)=1">SHOULD contain zero or one [0..1] legalAuthenticator (CONF:86-18474).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.4.25-warnings" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.25-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.112-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.112-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.16-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.112-warnings" context="cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.112']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.112-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.113-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.113-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.113-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.113']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.113-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.114-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.114-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.114-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.114']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.114-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.120-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.120-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.79-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.120-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.120']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.120-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.121-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.121-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.79-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.121-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.121']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.121-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.174-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.174-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.174-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.174']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.174-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.173-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.173-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.27-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.173-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.173']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.173-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.150-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.150-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-warnings-abstract" />
      <sch:assert id="a-86-19725" test="count(cda:entryRelationship)=1">SHOULD contain zero or one [0..1] entryRelationship (CONF:86-19725).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.150-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.150']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.150-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.131-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.131-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.27-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.131-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.131']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.131-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.137-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.137-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.27-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.137-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.137']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.137-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.147-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.147-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.147-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.147']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.147-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.138-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.138-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.138-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.138']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.138-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.160-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.160-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.160-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.160']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.160-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.135-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.135-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.135-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.135']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.135-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.145-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.145-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.2-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.145-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.145']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.145-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.170-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.170-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.170-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.170']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.170-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.163-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.163-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.163-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.163']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.163-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.123-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.123-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.123-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.123']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.123-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.126-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.126-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.2-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.126-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.126']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.126-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.117-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.117-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.14-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.117-warnings" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.117']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.117-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.122-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.122-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.14-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.122-warnings" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.122']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.122-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.175-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.175-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.2-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.175-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.175']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.175-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.176-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.176-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.176-warnings" context="cda:participant[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.176']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.176-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.142-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.142-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.142-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.142']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.142-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.141-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.141-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.16-warnings-abstract" />
      <sch:assert id="a-86-22764" test="cda:effectiveTime[@xsi:type='IVL_TS']/cda:low[@nullFlavor='NA']">This low SHOULD contain zero or one [0..1] @nullFlavor="NA" (CONF:86-22764).</sch:assert>
      <sch:assert id="a-86-22765" test="cda:effectiveTime[@xsi:type='IVL_TS']/cda:high[@nullFlavor='NA']">This high SHOULD contain zero or one [0..1] @nullFlavor="NA" (CONF:86-22765).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.141-warnings" context="cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.141']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.141-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.139-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.139-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.139-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.139']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.139-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.148-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.148-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.148-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.148']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.148-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.156-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.156-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.156-warnings" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.156']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.156-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.159-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.159-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.159-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.159']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.159-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.165-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.165-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.165-warnings" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.165']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.165-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.169-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.169-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.169-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.169']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.169-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.171-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.171-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.171-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.171']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.171-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.172-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.172-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.172-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.172']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.172-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.168-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.168-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.168-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.168']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.168-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.167-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.167-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.14-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.167-warnings" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.167']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.167-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.166-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.166-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.166-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.166']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.166-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.164-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.164-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.49-warnings-abstract" />
      <sch:assert id="a-86-21604-c" test="not(tested-here)">If the patient was not an inpatient and the encounter DataTime is not known or not available, an appropriate nullFlavor SHALL be used on effectiveTime element (CONF:86-21604).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.164-warnings" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.164']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.164-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.158-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.158-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.19-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.158-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.158']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.158-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.155-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.155-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.14-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.155-warnings" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.155']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.155-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.154-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.154-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.14-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.154-warnings" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.154']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.154-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.144-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.144-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.144-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.144']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.144-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.125-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.125-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.125-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.125']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.125-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.115-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.115-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.13-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.115-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.115']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.115-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.134-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.134-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.134-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.134']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.134-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.4.26-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-warnings" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.128-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.128-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.14-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.128-warnings" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.128']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.128-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.180-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.180-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.180-warnings" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.180']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.180-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.119-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.119-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.19-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.119-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.119']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.119-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.130-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.130-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.14-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.130-warnings" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.130']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.130-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.129-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.129-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.14-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.129-warnings" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.129']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.129-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.136-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.136-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.136-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.136']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.136-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.133-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.133-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.133-warnings" context="cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.133']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.133-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.132-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.132-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.132-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.132']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.132-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.127-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.127-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.127-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.127']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.127-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.182-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.182-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.182-warnings" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.182']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.182-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.5.35-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.35-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.35-warnings" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.35']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.5.35-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.5.36-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.36-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.36-warnings" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.36']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.5.36-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.5.38-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.38-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.38-warnings" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.38']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.5.38-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.5.40-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.40-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.40-warnings" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.40']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.5.40-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.5.42-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.42-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.42-warnings" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.42']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.5.42-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.5.45-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.45-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.45-warnings" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.45']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.5.45-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.5.47-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.47-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.47-warnings" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.47']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.5.47-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.184-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.184-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.184-warnings" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.184']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.184-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.185-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.185-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.185-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.185']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.185-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.4.28-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.4.28-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.25-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.4.28-warnings" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.4.28']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.28-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.189-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.189-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.2-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.189-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.189']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.189-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.190-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.190-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.1-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.190-warnings" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.190']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.190-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.191-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.191-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.191-warnings" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.191']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.191-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.192-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.192-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.192-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.192']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.192-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.193-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.193-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.193-warnings" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.193']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.193-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.194-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.194-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.194-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.194']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.194-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.195-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.195-warnings-abstract" abstract="true">
      <sch:assert id="a-86-22937-v" test="count(cda:code)=1">SHALL contain exactly one [1..1] code, which SHOULD be selected from ValueSet Codes for Vascular Access Type (Dialysis) Summary Data urn:oid:2.16.840.1.113883.10.20.5.9.17 DYNAMIC (CONF:86-22937).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.195-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.195']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.195-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.5.50-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.50-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.50-warnings" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.50']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.5.50-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.196-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.196-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.196-warnings" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.196']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.196-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.124-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.124-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.124-warnings" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.124']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.124-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.203-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.203-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-warnings-abstract" />
      <sch:assert id="a-1101-30216" test="@negationInd">SHOULD contain zero or one [0..1] @negationInd (CONF:1101-30216).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.203-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.203']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.203-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.204-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.204-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.204-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.204']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.204-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.153.2-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.153.2-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.14-warnings-abstract" />
      <sch:assert id="a-1101-21699-c" test="not(testable)">This code/translation MAY be used for sending an ICD-10 or CPT code (CONF:1101-21699).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.153.2-warnings" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.153.2']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.153.2-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.5.43.2-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.43.2-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.43.2-warnings" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.43.2']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.5.43.2-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.205-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.205-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.205-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.205']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.205-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.5.39.2-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.39.2-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.5.39.2-warnings" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.39.2']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.5.39.2-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.5.6.206-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.206-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.5.6.206-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.206']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.6.206-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.119-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.119-warnings-abstract" abstract="true">
      <sch:assert id="a-1098-31671" test="cda:assignedAuthor[count(cda:code)=1]">This assignedAuthor SHOULD contain zero or one [0..1] code, which SHOULD be selected from ValueSet Healthcare Provider Taxonomy urn:oid:2.16.840.1.114222.4.11.1066 DYNAMIC (CONF:1098-31671).</sch:assert>
      <sch:assert id="a-1098-32315-c" test="not(tested)">If the content is patient authored the code **SHOULD** be selected from Personal And Legal Relationship Role Type (2.16.840.1.113883.11.20.12.1) (CONF:1098-32315).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.119-warnings" context="cda:author[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.119']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.119-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.216-2014-12-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.216-2014-12-01-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.216-2014-12-01-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.216' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.216-2014-12-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.162-2014-12-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.162-2014-12-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.16-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.162-2014-12-01-warnings" context="cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.162' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.162-2014-12-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.118-2014-12-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.118-2014-12-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.19-warnings-abstract" />
      <sch:assert id="a-1129-21778" test="@nullFlavor">SHOULD contain zero or one [0..1] @nullFlavor (CONF:1129-21778).</sch:assert>
      <sch:assert id="a-1129-21782" test="@negationInd">SHOULD contain zero or one [0..1] @negationInd (CONF:1129-21782).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.118-2014-12-01-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.118' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.118-2014-12-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.183-2014-12-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.183-2014-12-01-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.183-2014-12-01-warnings" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.183' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.183-2014-12-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.179-2014-12-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.179-2014-12-01-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.179-2014-12-01-warnings" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.179' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.179-2014-12-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.116-2014-12-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.116-2014-12-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.12-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.116-2014-12-01-warnings" context="cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.116' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.116-2014-12-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.34-2014-12-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.34-2014-12-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-warnings-abstract" />
      <sch:assert id="a-1129-28213" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.217' and @extension='2014-12-01']])=1])=1">SHOULD contain zero or one [0..1] entry (CONF:1129-28213) such that it SHALL contain exactly one [1..1] Antimicrobial Coated Catheter Used Observation (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.217:2014-12-01) (CONF:1129-28214).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.34-2014-12-01-warnings" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.34' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.34-2014-12-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.217-2014-12-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.217-2014-12-01-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.217-2014-12-01-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.217' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.217-2014-12-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.151-2014-12-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.151-2014-12-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.49-warnings-abstract" />
      <sch:assert id="a-1129-30423" test="cda:effectiveTime[count(cda:high)=1]">This effectiveTime SHOULD contain zero or one [0..1] high (CONF:1129-30423).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.151-2014-12-01-warnings" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.151' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.151-2014-12-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.218-2014-12-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.218-2014-12-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.49-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.218-2014-12-01-warnings" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.218' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.218-2014-12-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.44-2014-12-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.44-2014-12-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.44-2014-12-01-warnings" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.44' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.44-2014-12-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.220-2014-12-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.220-2014-12-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.49-warnings-abstract" />
      <sch:assert id="a-1129-30260" test="count(cda:participant)=1">SHOULD contain zero or one [0..1] participant (CONF:1129-30260).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.220-2014-12-01-warnings" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.220' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.220-2014-12-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.219-2014-12-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.219-2014-12-01-warnings-abstract" abstract="true">
      <sch:assert id="a-1129-30315-v" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHOULD be selected from ValueSet NHSNBloodCollectionLocation urn:oid:2.16.840.1.114222.4.11.7237 DYNAMIC (CONF:1129-30315).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.219-2014-12-01-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.219' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.219-2014-12-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.221-2014-12-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.221-2014-12-01-warnings-abstract" abstract="true">
      <sch:assert id="a-1129-30329-v" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHOULD be selected from ValueSet NHSNCdiffTestMethod urn:oid:2.16.840.1.114222.4.11.7242 DYNAMIC (CONF:1129-30329).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.221-2014-12-01-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.221' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.221-2014-12-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.222-2014-12-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.222-2014-12-01-warnings-abstract" abstract="true">
      <sch:assert id="a-1129-30335" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.223' and @extension='2014-12-01']])=1])=1">SHOULD contain exactly one [1..1] entryRelationship (CONF:1129-30335) such that it SHALL contain exactly one [1..1] @typeCode="COMP" (CONF:1129-30356). SHALL contain exactly one [1..1] Carbapenemase Test Organizer (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.223:2014-12-01) (CONF:1129-30414).</sch:assert>
      <sch:assert id="a-1129-30355" test="@negationInd">SHOULD contain zero or one [0..1] @negationInd (CONF:1129-30355).</sch:assert>
      <sch:assert id="a-1129-30438" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.225' and @extension='2014-12-01']])=1])=1">SHOULD contain exactly one [1..1] entryRelationship (CONF:1129-30438) such that it SHALL contain exactly one [1..1] @typeCode="COMP" (CONF:1129-30439). SHALL contain exactly one [1..1] Positive Test for Carbapenemase Observation (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.225:2014-12-01) (CONF:1129-30440).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.222-2014-12-01-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.222' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.222-2014-12-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.223-2014-12-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.223-2014-12-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.1-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.223-2014-12-01-warnings" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.223' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.223-2014-12-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.224-2014-12-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.224-2014-12-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.2-warnings-abstract" />
      <sch:assert id="a-1129-30383-v" test="count(cda:code)=1">SHALL contain exactly one [1..1] code, which SHOULD be selected from ValueSet NHSNCarbaTestMethod urn:oid:2.16.840.1.114222.4.11.7240 DYNAMIC (CONF:1129-30383).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.224-2014-12-01-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.224' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.224-2014-12-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.225-2014-12-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.225-2014-12-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.2-warnings-abstract" />
      <sch:assert id="a-1129-30392" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.226' and @extension='2014-12-01']])=1]) &gt; 0">SHOULD contain zero or more [0..*] entryRelationship (CONF:1129-30392) such that it SHALL contain exactly one [1..1] @typeCode="COMP" (CONF:1129-30400). SHALL contain exactly one [1..1] Carbapenemase Type Identified Observation (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.226:2014-12-01) (CONF:1129-30462).</sch:assert>
      <sch:assert id="a-1129-30412" test="@negationInd">SHOULD contain zero or one [0..1] @negationInd (CONF:1129-30412).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.225-2014-12-01-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.225' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.225-2014-12-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.146-2014-12-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.146-2014-12-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.2-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.146-2014-12-01-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.146' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.146-2014-12-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.46-2014-12-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.46-2014-12-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.46-2014-12-01-warnings" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.46' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.46-2014-12-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.226-2014-12-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.226-2014-12-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.2-warnings-abstract" />
      <sch:assert id="a-1129-30447-v" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD", where the code SHOULD be selected from ValueSet NHSNCarbaDetectType urn:oid:2.16.840.1.114222.4.11.7241 DYNAMIC (CONF:1129-30447).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.226-2014-12-01-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.226' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.226-2014-12-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.227-2014-12-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.227-2014-12-01-warnings-abstract" abstract="true">
      <sch:assert id="a-1129-30572" test="count(cda:entryRelationship)=1">SHOULD contain zero or one [0..1] entryRelationship (CONF:1129-30572).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.227-2014-12-01-warnings" context="cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.227' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.227-2014-12-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.228-2014-12-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.228-2014-12-01-warnings-abstract" abstract="true">
      <sch:assert id="a-1129-30576" test="count(cda:entryRelationship) &gt; 0">SHOULD contain zero or more [0..*] entryRelationship (CONF:1129-30576).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.228-2014-12-01-warnings" context="cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.228' and @extension='2014-12-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.228-2014-12-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.44-2015-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.44-2015-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.28-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.44-2015-04-01-warnings" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.44' and @extension='2015-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.44-2015-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.229-2015-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.229-2015-04-01-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.229-2015-04-01-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.229' and @extension='2015-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.229-2015-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.197-2015-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.197-2015-04-01-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.197-2015-04-01-warnings" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.197' and @extension='2015-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.197-2015-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.198-2015-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.198-2015-04-01-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.198-2015-04-01-warnings" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.198' and @extension='2015-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.198-2015-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.51-2015-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.51-2015-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.51-2015-04-01-warnings" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.51' and @extension='2015-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.51-2015-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.231-2015-10-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.231-2015-10-01-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.231-2015-10-01-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.231' and @extension='2015-10-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.231-2015-10-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.230-2015-10-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.230-2015-10-01-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.230-2015-10-01-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.230' and @extension='2015-10-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.230-2015-10-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-oid-2.16.840.1.113883.10.20.22.4.147-warnings">
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.147-warnings-abstract" abstract="true">
      <sch:assert id="a-81-32756" test="cda:text/cda:reference[@value]">This reference SHOULD contain zero or one [0..1] @value (CONF:81-32756).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-oid-2.16.840.1.113883.10.20.22.4.147-warnings" context="cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.147']]">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.147-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.22.4.38-2015-08-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.22.4.38-2015-08-01-warnings-abstract" abstract="true">
      <sch:assert id="a-1198-8559" test="count(cda:value)=1">SHOULD contain zero or one [0..1] value (CONF:1198-8559).</sch:assert>
      <sch:assert id="a-1198-31869" test="count(cda:author[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.119']]) &gt; 0">SHOULD contain zero or more [0..*] Author Participation (identifier: urn:oid:2.16.840.1.113883.10.20.22.4.119) (CONF:1198-31869).</sch:assert>
      <sch:assert id="a-1198-8558-v" test="count(cda:code)=1">SHALL contain exactly one [1..1] code, which SHOULD be selected from ValueSet Social History Type urn:oid:2.16.840.1.113883.3.88.12.80.60 DYNAMIC (CONF:1198-8558).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.22.4.38-2015-08-01-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.38' and @extension='2015-08-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.22.4.38-2015-08-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.232-2015-10-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.232-2015-10-01-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.232-2015-10-01-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.232' and @extension='2015-10-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.232-2015-10-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.233-2015-10-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.233-2015-10-01-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.233-2015-10-01-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.233' and @extension='2015-10-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.233-2015-10-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.235-2015-10-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.235-2015-10-01-warnings-abstract" abstract="true">
      <sch:assert id="a-1202-30672-v" test="count(cda:code)=1">SHALL contain exactly one [1..1] code, which SHOULD be selected from ValueSet Codes for Hemovigilance (HV) Summary Data urn:oid:2.16.840.1.113883.10.20.5.9.11 DYNAMIC (CONF:1202-30672).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.235-2015-10-01-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.235' and @extension='2015-10-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.235-2015-10-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.22.4.200-2016-06-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.22.4.200-2016-06-01-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.22.4.200-2016-06-01-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.200' and @extension='2016-06-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.22.4.200-2016-06-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.239-2016-08-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.239-2016-08-01-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.239-2016-08-01-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.239' and @extension='2016-08-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.239-2016-08-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.186-2016-08-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.186-2016-08-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.2-warnings-abstract" />
      <sch:assert id="a-3247-22638-v" test="count(cda:code)=1">SHALL contain exactly one [1..1] code, which SHOULD be selected from ValueSet NHSNDrugSusceptibilityTestsCode urn:oid:2.16.840.1.113883.13.15 DYNAMIC (CONF:3247-22638).</sch:assert>
      <sch:assert id="a-3247-23101-v" test="count(cda:interpretationCode)=1">SHALL contain exactly one [1..1] interpretationCode, which SHOULD be selected from ValueSet NHSNDrugSusceptibilityFindingCode urn:oid:2.16.840.1.113883.13.13 DYNAMIC (CONF:3247-23101).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.186-2016-08-01-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.186' and @extension='2016-08-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.186-2016-08-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.200-2016-08-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.200-2016-08-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.1-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.200-2016-08-01-warnings" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.200' and @extension='2016-08-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.200-2016-08-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.177-2016-08-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.177-2016-08-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.1-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.177-2016-08-01-warnings" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.177' and @extension='2016-08-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.177-2016-08-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.236-2016-08-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.236-2016-08-01-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.236-2016-08-01-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.236' and @extension='2016-08-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.236-2016-08-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.234-2016-08-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.234-2016-08-01-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.234-2016-08-01-warnings" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.234' and @extension='2016-08-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.234-2016-08-01-warnings-abstract" />
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.234-2016-08-01-30654-branch-30654-warnings-abstract" abstract="true">
      <sch:assert id="a-3247-30666-branch-30654" test="cda:participantRole/cda:code[@displayName='Facility Wide Inpatient']">This code SHOULD contain exactly one [1..1] @displayName="Facility Wide Inpatient" (CONF:3247-30666).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.234-2016-08-01-30654-branch-30654-warnings" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.234' and @extension='2016-08-01']]/cda:participant[cda:participantRole[cda:id[@root][@extension='FACWIDEIN']][cda:code[@code='1250-0'][@codeSystem='2.16.840.1.113883.6.259']][@classCode='SDLOC']][@typeCode='LOC']">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.234-2016-08-01-30654-branch-30654-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.57-2016-08-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.57-2016-08-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.57-2016-08-01-warnings" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.57' and @extension='2016-08-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.57-2016-08-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.49-2016-08-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.49-2016-08-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.28-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.49-2016-08-01-warnings" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.49' and @extension='2016-08-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.49-2016-08-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.237-2016-08-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.237-2016-08-01-warnings-abstract" abstract="true">
      <sch:assert id="a-3247-30728" test="count(cda:entryRelationship) &gt; 0">SHOULD contain zero or more [0..*] entryRelationship (CONF:3247-30728).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.237-2016-08-01-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.237' and @extension='2016-08-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.237-2016-08-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.238-2016-08-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.238-2016-08-01-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.238-2016-08-01-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.238' and @extension='2016-08-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.238-2016-08-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.240-2016-08-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.240-2016-08-01-warnings-abstract" abstract="true">
      <sch:assert id="a-3247-30779" test="count(cda:entryRelationship) &gt; 0">SHOULD contain zero or more [0..*] entryRelationship (CONF:3247-30779).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.240-2016-08-01-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.240' and @extension='2016-08-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.240-2016-08-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.50-2017-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.50-2017-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.28-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.50-2017-04-01-warnings" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.50' and @extension='2017-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.50-2017-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.58-2017-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.58-2017-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.58-2017-04-01-warnings" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.58' and @extension='2017-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.58-2017-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.241-2017-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.241-2017-04-01-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.241-2017-04-01-warnings" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.241' and @extension='2017-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.241-2017-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.242-2017-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.242-2017-04-01-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.242-2017-04-01-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.242' and @extension='2017-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.242-2017-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.243-2017-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.243-2017-04-01-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.243-2017-04-01-warnings" context="cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.243' and @extension='2017-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.243-2017-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.59-2017-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.59-2017-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.59-2017-04-01-warnings" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.59' and @extension='2017-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.59-2017-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.60-2017-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.60-2017-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.60-2017-04-01-warnings" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.60' and @extension='2017-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.60-2017-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.61-2017-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.61-2017-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.61-2017-04-01-warnings" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.61' and @extension='2017-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.61-2017-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.245-2017-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.245-2017-04-01-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.245-2017-04-01-warnings" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.245' and @extension='2017-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.245-2017-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.246-2017-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.246-2017-04-01-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.246-2017-04-01-warnings" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.246' and @extension='2017-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.246-2017-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.247-2017-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.247-2017-04-01-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.247-2017-04-01-warnings" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.247' and @extension='2017-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.247-2017-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.244-2017-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.244-2017-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.12-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.244-2017-04-01-warnings" context="cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.244' and @extension='2017-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.244-2017-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.248-2017-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.248-2017-04-01-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.248-2017-04-01-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.248' and @extension='2017-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.248-2017-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.249-2018-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.249-2018-04-01-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.249-2018-04-01-warnings" context="cda:act[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.249' and @extension='2018-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.249-2018-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.41-2018-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.41-2018-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.28-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.41-2018-04-01-warnings" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.41' and @extension='2018-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.41-2018-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.48-2018-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.48-2018-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.48-2018-04-01-warnings" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.48' and @extension='2018-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.48-2018-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.62-2018-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.62-2018-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.62-2018-04-01-warnings" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.62' and @extension='2018-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.62-2018-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.250-2018-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.250-2018-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.250-2018-04-01-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.250' and @extension='2018-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.250-2018-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.251-2018-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.251-2018-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.251-2018-04-01-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.251' and @extension='2018-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.251-2018-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.252-2018-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.252-2018-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.252-2018-04-01-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.252' and @extension='2018-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.252-2018-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.33-2018-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.33-2018-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.33-2018-04-01-warnings" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.33' and @extension='2018-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.33-2018-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.253-2018-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.253-2018-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.253-2018-04-01-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.253' and @extension='2018-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.253-2018-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.64-2018-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.64-2018-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.64-2018-04-01-warnings" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.64' and @extension='2018-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.64-2018-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.257-2018-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.257-2018-04-01-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.257-2018-04-01-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.257' and @extension='2018-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.257-2018-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.40-2018-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.40-2018-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.28-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.40-2018-04-01-warnings" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.40' and @extension='2018-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.40-2018-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.42-2018-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.42-2018-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.28-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.42-2018-04-01-warnings" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.42' and @extension='2018-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.42-2018-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.45-2018-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.45-2018-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.28-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.45-2018-04-01-warnings" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.45' and @extension='2018-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.45-2018-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.55-2019-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.55-2019-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.28-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.55-2019-04-01-warnings" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.55' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.55-2019-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.46-2019-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.46-2019-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.28-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.46-2019-04-01-warnings" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.46' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.46-2019-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.66-2019-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.66-2019-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-warnings-abstract" />
      <sch:assert id="a-4395-30549" test="count(cda:entry[count(cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.212' and @extension='2019-04-01']])=1]) &gt; 0">SHOULD contain zero or more [0..*] entry (CONF:4395-30549) such that it SHOULD contain zero or one [0..1] Same Day Outcome Measures Organizer (V3) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.212:2019-04-01) (CONF:4395-30550).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.66-2019-04-01-warnings" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.66' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.66-2019-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.212-2019-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.212-2019-04-01-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.212-2019-04-01-warnings" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.212' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.212-2019-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.208-2019-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.208-2019-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.208-2019-04-01-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.208' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.208-2019-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.259-2019-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.259-2019-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.14-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.259-2019-04-01-warnings" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.259' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.259-2019-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.67-2019-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.67-2019-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.67-2019-04-01-warnings" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.67' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.67-2019-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.68-2019-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.68-2019-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.68-2019-04-01-warnings" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.68' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.68-2019-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.140-2019-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.140-2019-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.16-warnings-abstract" />
      <sch:assert id="a-4395-30667" test="count(cda:entryRelationship[@typeCode='REFR'][count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.230' and @extension='2015-10-01']])=1])=1">SHOULD contain zero or one [0..1] entryRelationship (CONF:4395-30667) such that it SHALL contain exactly one [1..1] Type of Antimicrobial Start Observation (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.230:2015-10-01) (CONF:4395-30668). SHALL contain exactly one [1..1] @typeCode="REFR" Refers to (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002) (CONF:4395-30670).</sch:assert>
      <sch:assert id="a-4395-30669" test="count(cda:entryRelationship[@typeCode='REFR'][count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.239' and @extension='2016-08-01']])=1])=1">SHOULD contain zero or one [0..1] entryRelationship (CONF:4395-30669) such that it SHALL contain exactly one [1..1] Blood Sample Collected for Culture Observation (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.239:2016-08-01) (CONF:4395-30567). SHALL contain exactly one [1..1] @typeCode="REFR" Refers to (CodeSystem: HL7ActRelationshipType urn:oid:2.16.840.1.113883.5.1002) (CONF:4395-30672).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.140-2019-04-01-warnings" context="cda:substanceAdministration[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.140' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.140-2019-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.181-2019-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.181-2019-04-01-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.181-2019-04-01-warnings" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.181' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.181-2019-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.41-2019-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.41-2019-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.41-2019-04-01-warnings" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.41' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.41-2019-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.149-2019-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.149-2019-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-warnings-abstract" />
      <sch:assert id="a-4395-30308" test="count(cda:entryRelationship[@typeCode='CAUS'][@inversionInd='true'][count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.168']])=1])=1">SHOULD contain exactly one [1..1] entryRelationship (CONF:4395-30308) such that it SHALL contain exactly one [1..1] Suspected Source Observation (identifier: urn:oid:2.16.840.1.113883.10.20.5.6.168) (CONF:4395-30311). SHALL contain exactly one [1..1] @typeCode="CAUS" (CONF:4395-30309). SHALL contain exactly one [1..1] @inversionInd="true" (CONF:4395-30310).</sch:assert>
      <sch:assert id="a-4395-30312" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.219' and @extension='2014-12-01']])=1])=1">SHOULD contain exactly one [1..1] entryRelationship (CONF:4395-30312) such that it SHALL contain exactly one [1..1] Blood Collection Location (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.219:2014-12-01) (CONF:4395-30314). SHALL contain exactly one [1..1] @typeCode="COMP" (CONF:4395-30313).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.149-2019-04-01-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.149' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.149-2019-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.157-2019-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.157-2019-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.157-2019-04-01-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.157' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.157-2019-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.69-2019-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.69-2019-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.69-2019-04-01-warnings" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.69' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.69-2019-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.70-2019-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.70-2019-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.70-2019-04-01-warnings" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.70' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.70-2019-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.261-2019-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.261-2019-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.13-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.261-2019-04-01-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.261' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.261-2019-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.71-2019-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.71-2019-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.71-2019-04-01-warnings" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.71' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.71-2019-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.262-2019-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.262-2019-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.49-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.262-2019-04-01-warnings" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.262' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.262-2019-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.263-2019-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.263-2019-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.263-2019-04-01-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.263' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.263-2019-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.72-2019-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.72-2019-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.72-2019-04-01-warnings" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.72' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.72-2019-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.199-2019-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.199-2019-04-01-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.199-2019-04-01-warnings" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.199' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.199-2019-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.52-2019-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.52-2019-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.52-2019-04-01-warnings" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.52' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.52-2019-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.265-2019-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.265-2019-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.14-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.265-2019-04-01-warnings" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.265' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.265-2019-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.255-2019-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.255-2019-04-01-warnings-abstract" abstract="true">
      <sch:assert id="a-4395-30979" test="cda:value[@xsi:type='PQ'][@unit='d']">This value SHOULD contain zero or one [0..1] @unit="d" Days (CodeSystem: UCUM urn:oid:2.16.840.1.113883.6.8) (CONF:4395-30979).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.255-2019-04-01-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.255' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.255-2019-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.65-2019-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.65-2019-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.65-2019-04-01-warnings" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.65' and @extension='2019-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.65-2019-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.266-2020-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.266-2020-04-01-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.266-2020-04-01-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.266' and @extension='2020-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.266-2020-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.32-2020-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.32-2020-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.32-2020-04-01-warnings" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.32' and @extension='2020-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.32-2020-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.188-2020-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.188-2020-04-01-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.188-2020-04-01-warnings" context="cda:procedure[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.188' and @extension='2020-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.188-2020-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.187-2020-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.187-2020-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.49-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.187-2020-04-01-warnings" context="cda:encounter[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.187' and @extension='2020-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.187-2020-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.202-2020-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.202-2020-04-01-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.202-2020-04-01-warnings" context="cda:participant[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.202' and @extension='2020-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.202-2020-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.201-2020-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.201-2020-04-01-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.201-2020-04-01-warnings" context="cda:organizer[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.201' and @extension='2020-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.201-2020-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.270-2021-01-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.270-2021-01-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.22.4.4-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.270-2021-01-01-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.270' and @extension='2021-01-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.270-2021-01-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.80-2021-01-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.80-2021-01-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.80-2021-01-01-warnings" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.80' and @extension='2021-01-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.80-2021-01-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.34.3.45-2022-06-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.34.3.45-2022-06-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.22.4.38-2015-08-01-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.34.3.45-2022-06-01-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.34.3.45' and @extension='2022-06-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.34.3.45-2022-06-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.81-2022-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.81-2022-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-warnings-abstract" />
      <sch:assert id="a-4523-11" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.34.3.45' and @extension='2022-06-01']])=1]) &gt; 0">SHOULD contain zero or more [0..*] entry (CONF:4523-11) such that it SHALL contain exactly one [1..1] Gender Identity Observation (V3) (identifier: urn:hl7ii:2.16.840.1.113883.10.20.34.3.45:2022-06-01) (CONF:4523-12).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.81-2022-04-01-warnings" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.81' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.81-2022-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.4.27-2022-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.4.27-2022-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.25-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.4.27-2022-04-01-warnings" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.4.27-2022-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.31-2022-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.31-2022-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.4.27-2022-04-01-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.31-2022-04-01-warnings" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.31' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.31-2022-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.56-2022-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.56-2022-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.4.27-2022-04-01-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.56-2022-04-01-warnings" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.56' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.56-2022-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.32-2022-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.32-2022-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.4.27-2022-04-01-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.32-2022-04-01-warnings" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.32' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.32-2022-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.36-2022-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.36-2022-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.4.27-2022-04-01-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.36-2022-04-01-warnings" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.36' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.36-2022-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.37-2022-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.37-2022-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.4.27-2022-04-01-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.37-2022-04-01-warnings" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.37' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.37-2022-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.38-2022-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.38-2022-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.4.27-2022-04-01-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.38-2022-04-01-warnings" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.38' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.38-2022-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.33.2-2022-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.33.2-2022-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.4.27-2022-04-01-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.33.2-2022-04-01-warnings" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.33.2' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.33.2-2022-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.34-2022-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.34-2022-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.4.27-2022-04-01-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.34-2022-04-01-warnings" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.34' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.34-2022-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.53-2022-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.53-2022-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.4.27-2022-04-01-warnings-abstract" />
      <sch:assert id="a-4523-30729-v" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:4523-30729).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.53-2022-04-01-warnings" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.53' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.53-2022-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.54-2022-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.54-2022-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.4.27-2022-04-01-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.54-2022-04-01-warnings" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.54' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.54-2022-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.57-2022-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.57-2022-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.4.27-2022-04-01-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.57-2022-04-01-warnings" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.57' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.57-2022-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.51-2022-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.51-2022-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.4.27-2022-04-01-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.51-2022-04-01-warnings" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.51' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.51-2022-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.37-2022-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.37-2022-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.37-2022-04-01-warnings" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.37' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.37-2022-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.58-2022-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.58-2022-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.4.27-2022-04-01-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.58-2022-04-01-warnings" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.58' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.58-2022-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.271-2022-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.271-2022-04-01-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.271-2022-04-01-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.271' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.271-2022-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.6.272-2022-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.272-2022-04-01-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.272-2022-04-01-warnings" context="cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.272' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.6.272-2022-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.5.49-2022-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.49-2022-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.26-warnings-abstract" />
      <sch:assert id="a-4523-30333" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.221' and @extension='2014-12-01']])=1])=1">SHOULD contain zero or one [0..1] entry (CONF:4523-30333) such that it SHALL contain exactly one [1..1] Primary C. Difficile Testing Method This Quarter (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.221:2014-12-01) (CONF:4523-30334).</sch:assert>
      <sch:assert id="a-4523-31022" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.271' and @extension='2022-04-01']])=1])=1">SHOULD contain zero or one [0..1] entry (CONF:4523-31022) such that it SHALL contain exactly one [1..1] Inpatient Rehabilitation (IRF) Unit in Facility (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.271:2022-04-01) (CONF:4523-31023).</sch:assert>
      <sch:assert id="a-4523-31024" test="count(cda:entry[count(cda:observation[cda:templateId[@root='2.16.840.1.113883.10.20.5.6.272' and @extension='2022-04-01']])=1])=1">SHOULD contain zero or one [0..1] entry (CONF:4523-31024) such that it SHALL contain exactly one [1..1] Inpatient Psychiatric (IPF) Unit in Facility (identifier: urn:hl7ii:2.16.840.1.113883.10.20.5.6.272:2022-04-01) (CONF:4523-31025).</sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.49-2022-04-01-warnings" context="cda:section[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.49' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.5.49-2022-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.43-2022-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.43-2022-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-oid-2.16.840.1.113883.10.20.5.4.28-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.43-2022-04-01-warnings" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.43' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.43-2022-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-urn-hl7ii-2.16.840.1.113883.10.20.5.35.2-2022-04-01-warnings">
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.35.2-2022-04-01-warnings-abstract" abstract="true">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.4.27-2022-04-01-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-urn-hl7ii-2.16.840.1.113883.10.20.5.35.2-2022-04-01-warnings" context="cda:ClinicalDocument[cda:templateId[@root='2.16.840.1.113883.10.20.5.35.2' and @extension='2022-04-01']]">
      <sch:extends rule="r-urn-hl7ii-2.16.840.1.113883.10.20.5.35.2-2022-04-01-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
</sch:schema>